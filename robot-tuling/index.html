<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>图灵</title>
	<link rel="stylesheet" type="text/css" href="css/normalize.css" />
	<link rel="stylesheet" type="text/css" href="css/htmleaf-demo.css">
	<link rel="stylesheet" href="css/glowing.css"/>
	<link rel="stylesheet" type="text/css" href="css/input.css">
	<style type="text/css">
		.box{
			 width:100%;text-align:center;margin:20px;padding:20px;
		}
	</style>
</head>
<body>
	<div class="htmleaf-container">
		<div align="center" style="margin-top:0">
			<a style="font-size: 24px;color:#999888;"><br><br>图灵机器人 <img style="width:32px;height:32px;" src="img/robot1.png" alt="img"></a>
			<div class="glowing disco box" style="box-shadow:inset 0 0 6px #ccc;text-align:center" >
			<div style="text-align:center">
                <input type="text" id="robot" placeholder="输入"  onkeypress="showHint(this.value)"/>  
				<h4 style="color:#5E6C77"><span id="txtHint"></span> </h4>
			</div>
			<em></em>
			</div>
		</div>
	</div>
<script>

var xmlHttp

function showHint(str)

{

            if (event.keyCode==13)

                   {

                            Send(str);

                   } 

}

function Send(str)

{

 if (str.length==0)

    {

    document.getElementById("txtHint").innerHTML="";

    return;

    }

          xmlHttp=GetXmlHttpObject()

                     if (xmlHttp==null)

                            {

                            alert ("您的浏览器不支持AJAX！");

                            return;

                            }

                     var url="http://www.tuling123.com/openapi/api?key=3593d8efeb5f471cb26bf12b236caebc";

                     url=url+"&info="+str;

                     url=url+"&userid=12345" ;

                     xmlHttp.onreadystatechange=stateChanged;

                     xmlHttp.open("GET",url,true);

                     xmlHttp.send(null);

                      document.getElementById("robot").value="";

}

function stateChanged()

{

if (xmlHttp.readyState==4)

{

var msg=eval('(' + xmlHttp.responseText + ')'); 

 

document.getElementById("txtHint").innerHTML=msg.text;

}

}

function GetXmlHttpObject()

{

  var xmlHttp=null;

  try

    {

    // Firefox, Opera 8.0+, Safari

    xmlHttp=new XMLHttpRequest();

    }

  catch(e)

    {

    // Internet Explorer

    try

      {

      xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");

      }

    catch (e)

      {

      xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");

      }

    }

return xmlHttp;

}

</script>

</body>
</html>
