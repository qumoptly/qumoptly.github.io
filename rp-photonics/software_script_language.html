<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from www.rp-photonics.com/software_script_language.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Feb 2019 02:52:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>The Script Language Used in RP Photonics Software</title>
<link rel="stylesheet" type="text/css" href="engine1/style.css">
<script type="text/javascript" src="engine1/jquery.js"></script>
<link rel="stylesheet" type="text/css" href="styles.css">
<link rel="stylesheet" type="text/css" href="shariff/shariff.complete.css">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="alternate" type="application/rss+xml" title="The Photonics Spotlight" href="spotlight.rss">
<link rel="alternate" type="application/rss+xml" title="The RP Photonics Software News" href="software_news.rss">
<link rel="alternate" type="application/rss+xml" title="New encyclopedia articles" href="new_articles.rss">
<meta name="date" content="2018-10-28">
<meta name="description" content="A powerful script language is offered in all software products of RP Photonics. This is described here.">
<meta name="copyright" content="2019 RP Photonics Consulting GmbH">
<meta name="author" content="Dr. R&uuml;diger Paschotta">
<meta name="publisher" content="RP Photonics Consulting GmbH">
<meta name="referrer" content="always">
<meta name="geo.position" content="48.018; 8.540">
<meta name="geo.placename" content="Bad D&uuml;rrheim">
<meta name="geo.region" content="DE">
<meta name="distribution" content="global">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="photonics, modeling, software, script language, data processing, programming">
<script type="text/javascript" src="jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="general.js"></script>
<script type="text/javascript">
page="software_script_language.html"; cat="S"; shownbanner=""; ref="software.html"; ts = new Date().toJSON().substring(0, 19);
$(document).ready(function($){ $.get("log.html",{cat:cat,page:page,ref:ref,shownbanner:shownbanner,ts:ts}); })
</script>
</head>
<body>
<div id="logohead">
<div class="areadiv"><table id="areatable"><tr><td>
<div class="areadiv"><table class="areasubtable">
<tr><td colspan="2" class="basicarea"><a href="marketing.html">RP Photonics Marketing</a></td></tr>
<tr><td><a href="encyclopedia.html">Encyclopedia</a></td>
<td><a href="buyersguide.html">Buyer's Guide</a></td></tr>
</table></div>
</td>
<td>
<div class="areadiv"><table class="areasubtable">
<tr><td colspan="2" class="basicarea"><a href="consulting.html">RP Services and Tools</a></td></tr>
<tr><td><a href="consulting.html">Consulting</a></td>
<td class="selected"><a href="software.html">Software</a></td></tr>
</table></div>
</td></tr></table></div>
<p><span id="title1">RP Photonics</span></p>
<p><span id="title2">Software</span> <span id="slogan">&hellip; powerful tools for your research &amp; development!</span></p>
<div id="other_language"><a href="software_script_language_d.html">deutsch</a></div>
</div>
<nav id="soft">
<div id="navitems">
<a id="Software" href="software.html">Overview</a>
<a id="Modeling" href="software_modeling.html">Modeling</a>
<a id="rp_fiber_calculator" href="rp_fiber_calculator.html">RP Fiber Calculator</a>
<a id="rp_fiberpower" href="fiberpower.html">RP Fiber Power</a>
<a id="rp_resonator" href="resonator.html">RP Resonator</a>
<a id="rp_propulse" href="propulse.html">RP ProPulse</a>
<a id="rp_coating" href="coating.html">RP Coating</a>
<a id="rp_q_switch" href="rp_q_switch.html">RP Q-switch</a>
<a id="script_language" href="software_script_language.html" class="sel">Script language</a>
<a id="debugger" href="software_debugger.html">Debugger</a>
<a id="custom_forms" href="software_custom_forms.html">Custom forms</a>
<a id="licenses" href="software_licenses.html">Licenses</a>
<a id="documentation" href="software_docu.html">Documentation</a>
<a id="support" href="software_support.html">Support</a>
<a id="distributors" href="software_distributors.html">Distributors</a>
<a id="software_news" href="software_news.html">Software News</a>
<a id="contact" href="software_contact.html">*Get a quotation*</a>
</div>
</nav>
<div id="main">
<main>
<h1>The Script Language in Software from RP Photonics</h1>
<aside class="textbox tb_right redmargin" style="width:240px;">
<p><b>Not Everyone Needs to Deal with Script Code!</b></p>
<p>Note that you don't have two deal with the debugger or the script language when working with our software, as it also can be controlled via easy-to-use forms.
However, script programming allows you to implement most sophisticated simulations.</p>
<p>One can also use such code in <a href="software_custom_forms.html"><b>custom forms</b></a>; one person may develop such a custom form with script code, while other persons can use that form without dealing with script code at all.</p>
</aside>
<p>All the software products of RP Photonics work with a powerful script language, which is briefly described here.
Whereas in <a href="rp_q_switch.html"><b>RP Q-switch</b></a> you can only utilize the mathematical functions, and <a href="rp_fiber_calculator.html"><b>RP Fiber Calculator</b></a> is limited in a similar way, all other products can execute complex scripts which allow for full-blown programming by the user.
There is even an integrated powerful <a href="software_debugger.html">debugger</a>.</p>
<p>Some people asked whether they can use <b>MATLAB</b>, for example, for processing of inputs or outputs of RP Software.
The answer:</p>
<ul>
<li>Sure, you can do any such data imports or exports, as our software is extremely flexible.</li>
<li>On the other hand, you will normally not need any additional tool for data processing or graphical output, as you might as well (and probably more conveniently) do everything within our software.</li>
</ul>
<p>In the end, you might completely work without MATLAB or similar, even in applications not related at all to the physics simulations.</p>
<h2 class="togglediv">Typical Applications</h2>
<div>
<p>The script language can be used for many purposes.
Some examples are:</p>
<h2>Get Tips &amp; Tricks</h2>
<aside class="callout red">The <a href="software_news.html"><b>RP Photonics Software News</b></a>, which you can get as a newsletter, occasionally treat details of our script language.</aside>
<ul>
<li>You can <b>pre-process input data</b>.
You can calculate the inputs for some simulation from inputs given in a different form.
Apply any set of equations or even iterative procedures to process your data.</li>
<li>Similarly, you can <b>post-process output data</b>.
For example, if <a href="coating.html"><b>RP Coating</b></a> produces the design of a multilayer structure, you may output that in any form &ndash; say, with thickness values in any units, in reversed order, only those layers consisting of a certain material, or whatever you need.
As another example, you may simulate the amplification of many ultrashort pulses under influences of amplifier noise in <a href="fiberpower.html"><b>RP Fiber Power</b></a> and statistically process the data to obtain noise spectra.</li>
<li><b>Generate diagrams</b> as needed.
For example, plot any quantity as a function of any other quantity, or make color diagrams, where the color of each pixel is calculated according to its coordinates.</li>
<li><b>Handle files</b> in the most flexible manner.
Read in files with any known text or binary format and get your inputs from those.
For example, read measured data from all files matching a mask like <b>Data*.dat</b> in order to plot them together with your calculated data.
Similarly, write outputs into files with any text or binary format.</li>
<li><b>Control other programs from our software</b>, i.e., call such programs and supply certain data to them.
For example, you could write data to an html file and call your web browser to display it.</li>
</ul>
</div>
<h2 class="togglediv">The Arithmetics</h2>
<div>
<p>Our software provides very powerful arithmetics.
Some key features:</p>
<aside class="textbox tb_left codedisplay" style="width:320px;">
<pre class="codedisplay">
get_f_max() :=
  { frequency with maximum PSD }
  begin
    for t := t1 to t2 step dt do
      A%[t] := A0%(t) * expi(-w * t);
    FFT(A%[], F%[], +1);
    findmax(F%[]);
  end
</pre>
</aside>
<ul>
<li>There is a wide range of mathematical standard functions e.g. for trigonometry, logarithms, random numbers (e.g. with Gaussian probability distribution), etc.</li>
<li>Complete complex arithmetics are offered.</li>
<li>There are multidimensional arrays with linear, quadratic and spline interpolation.
For example, read measured data points into an array and interpolate the data with cubic splines.
Also, do multi-dimensional fast Fourier transforms (FFT).</li>
<li>There are various functions for numerical purposes, such as finding roots, minima or maxima, derivatives and integrals, and even for integrating differential equations.</li>
<li>There are functions to process whole arrays in one go; e.g., multiply each element of an array with the corresponding value in another array, or sum up all elements of an array, or find the maximum in an array.</li>
</ul>
</div>
<h2 class="togglediv">Processing of Strings</h2>
<div>
<aside class="textbox tb_left codedisplay" style="width:320px;">
<pre class="codedisplay">
output$ := "Output power: "
  + str(P_out:d3:"W")
; Write that to the diagram:
[output$], 500c, 100,
  font = "Arial", size = %5
</pre>
</aside>
<ul>
<li>You can handle strings of basically arbitrary length, limited only by your computer's main memory.</li>
<li>There are many string functions, e.g. for getting or replacing parts of strings, converting strings to upper or lower case, formatting date and time values, etc.</li>
<li>You can even use regular expressions for finding, replacing and extracting text parts.
For example, you could easily extract all h1 headings from an html file.</li>
<li>Numerical values can be formatted as strings, e.g. with a given number of digits and given units.</li>
</ul>
</div>
<h2 class="togglediv">Control Structures</h2>
<div>
<aside class="textbox tb_left codedisplay" style="width:320px;">
<pre class="codedisplay">
E_ss() := 
  { pulse energy in steady state }
  begin
    repeat
      E_l := E_p();
      DoResonatorRoundTrip();
    until abs(E_p() - E_l) &lt; 1 pJ;
    E_p();
  end
</pre>
</aside>
<p>Even within mathematical expressions, you can control the flow of operation with</p>
<ul>
<li class="ta_left">if-then-else statements</li>
<li class="ta_left">while-do, repeat-until and for-do loops</li>
<li class="ta_left">goto statements (where jumping labels can be calculated)</li>
</ul>
<p>For example, in <a href="propulse.html"><b>RP ProPulse</b></a> or <a href="fiberpower.html"><b>RP Fiber Power</b></a> you may propagate an ultrashort pulse through a laser resonator until the pulse energy, duration and bandwidth do no more change significantly, i.e., the steady state has been reached.</p>
</div>
<h2 class="togglediv">Files</h2>
<div>
<aside class="textbox tb_left codedisplay" style="width:320px;">
<pre class="codedisplay">
x$(j) := 
  { extract &lt;x&gt; tag from html file }
  if read_file_content("inputs.xml", s$)
    and matches_re(
        s$, '&lt;x&gt;([^&lt;&gt;]*)&lt;/x&gt;',
        'n = 1000', m$[])
    and i2(m$[]) &gt;= j
  then m$[j]
  else "?"
</pre>
</aside>
<p>You can read and write files with arbitrary text or binary format (e.g. MATLAB files) &ndash; variable by variable for complex formats, or all into one numerical array or string.
For text files, you can also exploit the powerful string functions, including the use of regular expressions.
For example, with just a few lines of code you may load an XML file and extract the contents of a certain tag.</p>
</div>
<h2 class="togglediv">Specialized Functions for Physics</h2>
<div>
<aside class="textbox tb_left codedisplay" style="width:320px;">
<pre class="codedisplay">
f: (set_P_in(pump, x); P_out(signal)),
  color = red, width = 3
</pre>
</aside>
<p>Each program supports specialized functions for the relevant physics simulations.
For example, <a href="fiberpower.html"><b>RP Fiber Power</b></a> offers far over 100 functions for purposes like changing input powers of a fiber device, extracting calculated powers and excitation densities, starting dynamical simulations or ultrashort pulse propagation, etc.
Such functions can then be used within any mathematical expression, for example for the ordinate values in a function plot.</p>
</div>
<h2 class="togglediv">User-defined Functions</h2>
<div>
<aside class="textbox tb_left codedisplay" style="width:320px;">
<pre class="codedisplay">
sinc(x) := 
  if abs(x) &gt; 1e-15
    then sin(x) / x else 1
&nbsp;
tau(E0, tau0) := 
  begin
    startpulse_G(E0, tau0, 0);
    pp_fiber();
    tau_p();
  end
</pre>
</aside>
<p>Define your own functions for all sorts of purposes.
For example, in <a href="fiberpower.html"><b>RP Fiber Power</b></a> you may define a function which first generates a Gaussian pulse with a given energy and duration, then propagates that pulse through the fiber, and finally returns the duration of the output pulse.
In <a href="coating.html"><b>RP Coating</b></a>, there are functions for modifying layer thickness values and for extracting all optical properties of the coating.
Such functions can then be used, for example, in plots.</p>
<p>Functions, and even any begin-end block within any expression, can contain local variables, avoiding unintended interactions with global variables.</p>
</div>
<h2 class="togglediv">Numerical Optimization</h2>
<div>
<aside class="textbox tb_left codedisplay" style="width:320px;">
<pre class="codedisplay">
vary
  a in [-10, +10], 
  b in [-10, +10],
  for minimum of FOM(a, b)
</pre>
</aside>
<p>You may numerically optimize some user-defined figure-of-merit function, using either local optimization with a gradient method or a Monte-Carlo algorithm, starting with many random sets of parameters.
Your figure-of-merit function can set values in your physical model, utilize any calculated results, and put them together to describe exactly what you need to optimize.</p>
</div>
<h2 class="togglediv">Graphics</h2>
<div>
<aside class="textbox tb_left codedisplay" style="width:320px;">
<pre class="codedisplay">
; Plot output power vs. pump power:
&nbsp;
x: 0, 30
"pump power (W)", @x
y: 0, 10
"output power (W)", @y
frame
&nbsp;
f: (set_P_in(pump, x); P_out(signal)),
  color = blue, width = 3
</pre>
</aside>
<p>With a few commands, you can create a diagram:</p>
<ul>
<li>Define a coordinate system with lots of options to control its exact appearance.</li>
<li>Define function plots and parametric plots, or color plots.</li>
<li>Draw points as rectangles, triangles, circles, stars, etc., for example in order to indicate data points.</li>
<li>Write text into diagrams, with calculated values, font types and sizes, etc.</li>
</ul>
</div>
<h2 class="togglediv">New: Debugger</h2>
<div>
<p>In 2017, an important new feature has been introduced: a powerful debugger, which makes it much easier to locate and fix errors in sophisticated scripts.
With that, you can execute scripts command by command.
In addition, it is even possible to do efficient debugging within expressions.
And of course you can inspect the detailed state of the system at any point.</p>
<p>The details are explained on the <a href="software_debugger.html"><b>page on debugging</b></a>.</p>
</div>
<h2 class="togglediv">Advantages of Scripting</h2>
<div>
<p>The use of scripts instead of a purely graphical user interface are manifold:</p>
<ul>
<li>The extremely powerful scripting features give you an extraordinary flexibility.
You can do real programming in order to implement all sorts of algorithms.
The detailed documentation, the demo files and the technical support make sure that you will be successful.</li>
<li>The scripts naturally document all your work.
If you read your script a year later, you will clearly see what you have done.
It would be much more tedious to inspect dozens of interactive forms in order to reconstruct that.</li>
<li>You can easily reuse some script parts (of your own or from demo scripts), either by copying them into other scripts or by making include files.</li>
</ul>
<p>In <a href="fiberpower.html"><b>RP Fiber Power</b></a>, you can even start your work with interactive forms, and the script code is created automatically.
Additional script commands can be inserted via the forms.
At any point, you may take the obtained script and edit that further.</p>
<p>For additional information, please see some postings in our <a href="newsletters.html">newsletters</a>:</p>
<ul>
<li><a href="software_news_2015_10_31.html"><b>Article of 2015-10-31</b></a>: &ldquo;The Powerful Expression Engine in Software from RP Photonics&rdquo;</li>
<li><a href="software_news_2015_10_01.html"><b>Article of 2015-10-01</b></a>: &ldquo;Making Plots With a Variation of Operation or System Parameters&rdquo;</li>
<li><a href="software_news_2015_07_13.html"><b>Article of 2015-07-13</b></a>: &ldquo;Regular Expressions &ndash; a Powerful Mechanism for Search &amp; Replace Operations and Input Validation&rdquo;</li>
<li><a href="software_news_2014_11_24.html"><b>Article of 2014-11-24</b></a>: &ldquo;Some Tips Concerning the Script Language of RP Software&rdquo;</li>
</ul>
<div id="up_arrow">
<a href="javascript:scroll(0,0)"><img src="img/up.png" width="32" height="20" alt="arrow"></a>
</div>
</div>
</main>
</div>
<footer id="copyrightbox">
<span style="margin-right:20px;">&copy; RP Photonics Consulting GmbH</span>
<a href="contact.html">contact and legal info</a>, <a href="privacy.html">declaration of data privacy</a>
</footer>
</body>

<!-- Mirrored from www.rp-photonics.com/software_script_language.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Feb 2019 02:52:49 GMT -->
</html>
