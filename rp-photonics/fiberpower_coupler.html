<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from www.rp-photonics.com/fiberpower_coupler.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Feb 2019 02:53:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>The software RP Fiber Power: a fiber coupler based on evanescent wave coupling</title>
<link rel="stylesheet" type="text/css" href="styles.css">
<link rel="stylesheet" type="text/css" href="shariff/shariff.complete.css">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="alternate" type="application/rss+xml" title="The Photonics Spotlight" href="spotlight.rss">
<link rel="alternate" type="application/rss+xml" title="The RP Photonics Software News" href="software_news.rss">
<link rel="alternate" type="application/rss+xml" title="New encyclopedia articles" href="new_articles.rss">
<meta name="date" content="2018-10-28">
<meta name="description" content="A fiber coupler based on evanescent wave coupling is modeled with the RP Fiber Power software.">
<meta name="copyright" content="2019 RP Photonics Consulting GmbH">
<meta name="author" content="Dr. R&uuml;diger Paschotta">
<meta name="publisher" content="RP Photonics Consulting GmbH">
<meta name="referrer" content="always">
<meta name="geo.position" content="48.018; 8.540">
<meta name="geo.placename" content="Bad D&uuml;rrheim">
<meta name="geo.region" content="DE">
<meta name="distribution" content="global">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="RP Fiber Power, simulation, design, software, model, fiber coupler, evanescent wave">
<script type="text/javascript" src="jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="general.js"></script>
<script type="text/javascript">
page="fiberpower_coupler.html"; cat="S"; shownbanner=""; ref="software.html"; ts = new Date().toJSON().substring(0, 19);
$(document).ready(function($){ $.get("log.html",{cat:cat,page:page,ref:ref,shownbanner:shownbanner,ts:ts}); })
</script>
</head>
<body>
<div id="logohead">
<div class="areadiv"><table id="areatable"><tr><td>
<div class="areadiv"><table class="areasubtable">
<tr><td colspan="2" class="basicarea"><a href="marketing.html">RP Photonics Marketing</a></td></tr>
<tr><td><a href="encyclopedia.html">Encyclopedia</a></td>
<td><a href="buyersguide.html">Buyer's Guide</a></td></tr>
</table></div>
</td>
<td>
<div class="areadiv"><table class="areasubtable">
<tr><td colspan="2" class="basicarea"><a href="consulting.html">RP Services and Tools</a></td></tr>
<tr><td><a href="consulting.html">Consulting</a></td>
<td class="selected"><a href="software.html">Software</a></td></tr>
</table></div>
</td></tr></table></div>
<p><span id="title1">RP Photonics</span></p>
<p><span id="title2">Software</span> <span id="slogan">&hellip; powerful tools for your research &amp; development!</span></p>
<div id="other_language"><a href="fiberpower_coupler_d.html">deutsch</a></div>
</div>
<nav id="soft">
<div id="navitems">
<a id="Software" href="software.html">Overview</a>
<a id="Modeling" href="software_modeling.html">Modeling</a>
<a id="rp_fiber_calculator" href="rp_fiber_calculator.html">RP Fiber Calculator</a>
<a id="rp_fiberpower" href="fiberpower.html" class="sel">RP Fiber Power</a>
<a id="rp_resonator" href="resonator.html">RP Resonator</a>
<a id="rp_propulse" href="propulse.html">RP ProPulse</a>
<a id="rp_coating" href="coating.html">RP Coating</a>
<a id="rp_q_switch" href="rp_q_switch.html">RP Q-switch</a>
<a id="script_language" href="software_script_language.html">Script language</a>
<a id="debugger" href="software_debugger.html">Debugger</a>
<a id="custom_forms" href="software_custom_forms.html">Custom forms</a>
<a id="licenses" href="software_licenses.html">Licenses</a>
<a id="documentation" href="software_docu.html">Documentation</a>
<a id="support" href="software_support.html">Support</a>
<a id="distributors" href="software_distributors.html">Distributors</a>
<a id="software_news" href="software_news.html">Software News</a>
<a id="contact" href="software_contact.html">*Get a quotation*</a>
</div>
</nav>
<div id="main">
<main>
<div class="softwarelogo">
<p class="fig" style="margin-top:12px"><img src="img/fiberpower_logo.png" width="75" height="75" alt="RP Fiber Power logo"></p>
</div>
<h1>RP Fiber Power &ndash; Simulation and Design Software <br> for Fiber Optics, Amplifiers and Fiber Lasers</h1>
<table class="subnavtable">
<tr>
<td class="sub_nav"><a class="sub_n" href="fiberpower.html">Start</a></td>
<td class="sub_nav"><a class="sub_n" href="fiberpower_features.html">Features</a></td>
<td class="sub_nav"><a class="sub_n" href="fiberpower_model.html">Model</a></td>
<td class="sub_nav"><a class="sub_n" href="fiberpower_data.html">Fiber Data</a></td>
<td class="sub_nav"><a class="sub_n" href="fiberpower_versions.html">Versions</a></td>
<td class="sub_nav"><a class="sub_n" href="fiberpower_interface.html">Interface</a></td>
<td class="sub_nav_sel"><a class="sub_n_sel" href="fiberpower_case_studies.html">Demos</a></td>
</tr>
</table>
<h2>Example Case: Fiber Coupler</h2>
<p>Here we show how <b>RP Fiber Power</b> can be used to analyze and optimize <a href="fiber_couplers.html" title="fiber couplers: fiber devices for coupling light from one or several input fibers to one or several output fibers, or from free space into a fiber">fiber couplers</a>.
We use the beam propagation feature to analyze a coupler with two inputs and two outputs, where two waveguides come close together over some distance such that their evanescent waves come into contact.</p>
<h3>Description of the Model</h3>
<p>We first need to define the refractive index profile of the device.
We begin with defining a function for the <span class="eqn_il"><i>y</i></span> position of a waveguide as a function of the <span class="eqn_il"><i>z</i></span> coordinate:</p>
<pre class="codedisplay">
y_c := 10 um  { vertical position of core in the coupling region }
y_i := 50 um  { vertical position of core in the input / output regions }
L_c := 2 mm  { length of the coupling region }
L_i := 10 mm  { length of the input and output region }
&nbsp;
L_tot := 2 * L_i + L_c { total length }
y_co(z):= { vertical core position vs. z }
  if z &lt;= L_i
  then y_c + (y_i - y_c) * 0.5 * (1 + cos(pi * z / L_i))
  else if z &lt;= L_i + L_c
  then y_c
  else y_c + (y_i - y_c) * 0.5 * (1 + cos(pi * (L_tot - z) / L_i))
</pre>
<p>We then define the transverse profile of the refractive index of one waveguide as a super-Gaussian function:</p>
<pre class="codedisplay">
n_cl := 1.45  { cladding index }
n_co := n_cl + 0.8e-3  { core index }
dn_co(r) := if abs(r) &lt;= r_co then (n_co - n_cl) * exp(-(1.3 * r / r_co)^6)
</pre>
<p>From this we get the index profile of a single straight waveguide:</p>
<pre class="codedisplay">
n_f(r) := n_cl + dn_co(r)
</pre>
<p>The whole coupler structure is defined as a three-dimensional refractive index distribution, and shown in Figure&nbsp;1:</p>
<pre class="codedisplay">
n_device(x, y,z) := 
  n_cl
   + dn_co(sqrt(x^2 + (y - y_co(z))^2))  { upper waveguide }
   + dn_co(sqrt(x^2 + (y + y_co(z))^2))  { lower waveguide }
</pre>
<figure>
<img src="img/fiberpower_coupler1.png" alt="refractive index profile of fiber coupler">
<figcaption><span class="start">Figure&nbsp;1:</span> 
Refractive index profile of the fiber coupler in the yz plane.
</figcaption>
</figure>
<p>Of course, one could easily implement more sophisticated index profiles, taking into account the tapering of fibers in a fused coupler, or a twisted geometry.</p>
<p>We can now use the mode solver to calculate the modes of the single waveguides, and use these for the input to the upper waveguide, assuming that the input is in the LP<sub>01</sub> mode:</p>
<pre class="codedisplay">
calc set_n_profile("n_f", r_co)
&nbsp;
calc
  begin
  bp_set_device(1);
  bp_set_grid(x_max, N_x, y_max, N_y, z_max, N_z, N_s);
  bp_set_channel(lambda);
  bp_set_n_z('n_device(x, y,z)', 'trunc(y_co(z) / (0.2 um))');
  bp_set_A0('A_lm_xy(0, 1, lambda, x, y - y_i)');
  end
</pre>
<p>The index profile for the beam propagation is set with the function bp&#95;set&#95;n&#95;z().
For each <span class="eqn_il"><i>z</i></span> value, the index distribution in the xy plane is recalculated only if the <span class="eqn_il"><i>y</i></span> position of the waveguides has changed by about 0.2&nbsp;&mu;m; this saves some computation time.</p>
<p>A few more lines of code, not shown here, define the numerical grid for the beam propagation.
The grid has an extension of 50&nbsp;&mu;m in the <span class="eqn_il"><i>x</i></span> direction, 160&nbsp;&mu;m in the <span class="eqn_il"><i>y</i></span> direction, and 22&nbsp;mm (the total length of the device) in the <span class="eqn_il"><i>z</i></span> direction.
The numerical resolution in <span class="eqn_il"><i>x</i></span>, <span class="eqn_il"><i>y</i></span> and <span class="eqn_il"><i>z</i></span> direction is 1.56&nbsp;&mu;m, 1.25&nbsp;&mu;m and 10&nbsp;&mu;m, respectively.</p>
<h3>Results</h3>
<p>After these definitions, we can now simply use the function bp&#95;I(x, y,z) for the optical intensity in the device.
The square root of that (i.e., the amplitude distribution) is shown in Figure&nbsp;2.
One sees how light couples into the lower waveguide.</p>
<figure>
<img src="img/fiberpower_coupler2.png" alt="amplitude distribution in the fiber coupler">
<figcaption><span class="start">Figure&nbsp;2:</span> 
Amplitude distribution in the fiber coupler for a waveguide distance of 20&nbsp;&mu;m.
</figcaption>
</figure>
<p>On the right side, we display the amount of power in the two outputs.
We take only the LP<sub>01</sub> mode content, rejecting any stray light due to the bends, for example.
This is achieved by calculating overlap integrals of the field distributions and the modes:</p>
<pre class="codedisplay">
P_out_1() := { output power of port 1 }
  begin
    var cy, d, x1, x2, y1, y2;
    cy := dy * round(y_i / dy); { center position of the output port }
    d := 3 * r_co;
    x1 := -dx * round(d / dx);
    x2 := +dx * round(d / dx);
    y1 := cy - dy * round(d / dy);
    y2 := cy + dy * round(d / dy);
    abs2(int(int(bp_A%(x, y, z_max) * A_lm_xy(0, 1, lambda, x, y - y_i), 
      x := x1 to x2 step dx),
      y := y1 to y2 step dy));
  end
</pre>
<p>Due to the efficient implementation of the beam propagation in <b>RP Fiber Power</b>, a diagram as above can be generated within a few seconds on an ordinary PC.</p>
<p>We can now reduce the distance between the waveguides in the coupling region from 20&nbsp;&mu;m to 16&nbsp;&mu;m.
The light then mostly couples over to the lower waveguide:</p>
<figure>
<img src="img/fiberpower_coupler3.png" alt="amplitude distribution in the fiber coupler">
<figcaption><span class="start">Figure&nbsp;3:</span> 
Amplitude distribution in the fiber coupler for a reduced waveguide distance of 16&nbsp;&mu;m.
</figcaption>
</figure>
<p>For the next diagram, we also increase the length of the coupling region from 2&nbsp;mm to 10&nbsp;mm.
We then observe an oscillatory behavior in the coupling region:</p>
<figure>
<img src="img/fiberpower_coupler4.png" alt="amplitude distribution in the fiber coupler">
<figcaption><span class="start">Figure&nbsp;4:</span> 
Amplitude distribution in the fiber coupler for an increased length of the coupling region.
</figcaption>
</figure>
<p>For the previous coupler design, we now investigate the wavelength dependence.
This is easily done with a few lines of script code (not shown here).
The results are shown in Figure&nbsp;5.</p>
<figure>
<img src="img/fiberpower_coupler5.png" alt="wavelength-dependent coupling">
<figcaption><span class="start">Figure&nbsp;5:</span> 
Degree of power coupling as a function of the wavelength.
</figcaption>
</figure>
<p>The somewhat strange shape of the curve in the longer-wavelength region results from bend losses of the waveguides, which get substantial in that region.</p>
<p>Making this diagram requires several minutes, because the full beam propagation has to be done for each wavelength.</p>
<p>We have actually neglected <a href="chromatic_dispersion.html" title="chromatic dispersion: the frequency dependence of the phase velocity in a transparent medium">chromatic dispersion</a>, i.e., the wavelength dependence of the refractive index; this could easily be included, e.g. based on Sellmeier formulas.</p>
<p>(<a href="fiberpower_case_studies.html">back to the list of example cases</a>)</p>
<div id="up_arrow">
<a href="javascript:scroll(0,0)"><img src="img/up.png" width="32" height="20" alt="arrow"></a>
</div>
</main>
</div>
<footer id="copyrightbox">
<span style="margin-right:20px;">&copy; RP Photonics Consulting GmbH</span>
<a href="contact.html">contact and legal info</a>, <a href="privacy.html">declaration of data privacy</a>
</footer>
</body>

<!-- Mirrored from www.rp-photonics.com/fiberpower_coupler.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Feb 2019 02:53:14 GMT -->
</html>
