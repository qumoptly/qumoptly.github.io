<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from www.rp-photonics.com/software_news_2016_04_12.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Feb 2019 03:10:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>Software from RP Photonics - Fiber Laser Model with More Than One Active Fiber</title>
<link rel="stylesheet" type="text/css" href="styles.css">
<link rel="stylesheet" type="text/css" href="shariff/shariff.complete.css">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="alternate" type="application/rss+xml" title="The Photonics Spotlight" href="spotlight.rss">
<link rel="alternate" type="application/rss+xml" title="The RP Photonics Software News" href="software_news.rss">
<link rel="alternate" type="application/rss+xml" title="New encyclopedia articles" href="new_articles.rss">
<meta name="date" content="2016-04-12">
<meta name="description" content="A summary of this blog article: This article demonstrates how a script language in a powerful simulation software allows you to calculate things which are apparently not covered with the offered features. The discussed example case is a fiber laser containing two active fibers rather than only one, as usual.">
<meta name="copyright" content="2019 RP Photonics Consulting GmbH">
<meta name="author" content="Dr. R&uuml;diger Paschotta">
<meta name="publisher" content="RP Photonics Consulting GmbH">
<meta name="referrer" content="always">
<meta name="geo.position" content="48.018; 8.540">
<meta name="geo.placename" content="Bad D&uuml;rrheim">
<meta name="geo.region" content="DE">
<meta name="distribution" content="global">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="photonics, modeling, software, optics, lasers, simulations, analysis, optimization, news, newsletter">
<script type="text/javascript" src="jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="general.js"></script>
<script type="text/javascript">
page="software_news_2016_04_12.html"; cat="S"; shownbanner=""; ref="software_news.html"; ts = new Date().toJSON().substring(0, 19);
$(document).ready(function($){ $.get("log.html",{cat:cat,page:page,ref:ref,shownbanner:shownbanner,ts:ts}); })
</script>
</head>
<body>
<div id="logohead">
<div class="areadiv"><table id="areatable"><tr><td>
<div class="areadiv"><table class="areasubtable">
<tr><td colspan="2" class="basicarea"><a href="marketing.html">RP Photonics Marketing</a></td></tr>
<tr><td><a href="encyclopedia.html">Encyclopedia</a></td>
<td><a href="buyersguide.html">Buyer's Guide</a></td></tr>
</table></div>
</td>
<td>
<div class="areadiv"><table class="areasubtable">
<tr><td colspan="2" class="basicarea"><a href="consulting.html">RP Services and Tools</a></td></tr>
<tr><td><a href="consulting.html">Consulting</a></td>
<td class="selected"><a href="software.html">Software</a></td></tr>
</table></div>
</td></tr></table></div>
<p><span id="title1">RP Photonics</span></p>
<p><span id="title2">Software</span> <span id="slogan">&hellip; powerful tools for your research &amp; development!</span></p>
</div>
<nav id="soft">
<div id="navitems">
<a id="Software" href="software.html">Overview</a>
<a id="Modeling" href="software_modeling.html">Modeling</a>
<a id="rp_fiber_calculator" href="rp_fiber_calculator.html">RP Fiber Calculator</a>
<a id="rp_fiberpower" href="fiberpower.html">RP Fiber Power</a>
<a id="rp_resonator" href="resonator.html">RP Resonator</a>
<a id="rp_propulse" href="propulse.html">RP ProPulse</a>
<a id="rp_coating" href="coating.html">RP Coating</a>
<a id="rp_q_switch" href="rp_q_switch.html">RP Q-switch</a>
<a id="script_language" href="software_script_language.html">Script language</a>
<a id="debugger" href="software_debugger.html">Debugger</a>
<a id="custom_forms" href="software_custom_forms.html">Custom forms</a>
<a id="licenses" href="software_licenses.html">Licenses</a>
<a id="documentation" href="software_docu.html">Documentation</a>
<a id="support" href="software_support.html">Support</a>
<a id="distributors" href="software_distributors.html">Distributors</a>
<a id="software_news" href="software_news.html" class="sel">Software News</a>
<a id="contact" href="software_contact.html">*Get a quotation*</a>
</div>
</nav>
<div id="main" style="margin-top:20px;">
<main>
<h1 class="spotlight_heading">The RP Photonics Software News</h1>
<h1 class="posting">Fiber Laser Model with More Than One Active Fiber</h1>
<div class="posting_details">
<p>Posted on 2016-04-12 in the <a href="software_news.html">RP Photonics Software News (available as e-mail newsletter!)</a>
<p>Permanent link: <a href="software_news_2016_04_12.html">https://www.rp-photonics.com/software_news_2016_04_12.html</a></p>
<p>Author: <a href="paschotta.html">Dr. R端diger Paschotta</a>, <a href="index.html">RP Photonics Consulting GmbH</a></p>
<p>Abstract: This article demonstrates how a script language in a powerful simulation software allows you to calculate things which are apparently not covered with the offered features. The discussed example case is a fiber laser containing two active fibers rather than only one, as usual.</p>
</div>
<figure class="right" style="width:130px;">
<img src="img/paschotta5.jpg" alt="Dr. R端diger Paschotta">
</figure>
<p>Today I would like to show you a trick, which can serve as an example for how apparently missing features in the simulation software can be replaced, provided that it offers a <a href="software_script_language.html">script language</a>.</p>
<p>The easiest way of defining a simple fiber laser model in our software <a href="fiberpower.html"><b>RP Fiber Power</b></a> is using the <a href="fiberpower_interface.html">interactive forms</a>, where you just fill in some parameters like the fiber length, end reflectivities, pump power, etc.
That's nice, but what if you want to model a fiber laser where the laser resonator contains <em>two</em> active fibers rather than just one, as usual?
(Maybe it is actually only one active fiber, but you want to cut it into two pieces in order to insert some optical element in between.)
Unfortunately, the forms force you to select a single fiber, so you are hitting a limit here.</p>
<h2 class="togglediv">Limitations for the Flexibility with Forms</h2>
<div>
<p>In principle, a software developer can try to add additional features to such forms.
For our case, it might be useful to have some control where you can add additional active fibers to the laser resonator and perhaps switch between the parameters of these different fibers in order to edit all them.
In addition, you would have to enter somehow how the different parts are connected.
Well, that could in principle solve our example problem, but you can easily recognize the disadvantages of that approach:</p>
<ul>
<li>The more flexibility you try to achieve with such forms, the more complex and more difficult to use they will be.
So you at risk to lose the most important advantage of forms: their ease of use.</li>
<li>It is essentially impossible to offer anything a user might ever require &ndash; one reason being that the developer can hardly anticipate all that.</li>
</ul>
<p>So there are severe limitations to the flexibility one can obtain that way.
That is a problem with which some software developers are struggling severely.</p>
</div>
<h2 class="togglediv">Scripting as the Solution</h2>
<div>
<p>A good solution to that fundamental problem is to use a <a href="software_script_language.html">script language</a>, where the user can assemble any commands or functions to implement anything he or she needs.</p>
<p>To come back to our example case, we can use the following trick:</p>
<ul>
<li>Consider two separate devices: one with the left fiber, having an end reflector at the left end, and one with the right fiber, having an end reflector at the right end.
Both receive some pump power, e.g. from the outer ends.</li>
<li>Now consider some amount of signal (laser) power, entering the left fiber on its right end.
That might still be amplified, reflected at the left end, and amplified again.
Then it gets into the right fiber, will again be amplified, reflected, and amplified again.
Now we are back to the original location, having done a complete resonator round trip.</li>
<li>The problem is now only to determine the amount of signal power with which we should start.
The correct level in the steady state is obviously the power for which the round-trip gain is zero.
If we choose a too high value, the round-trip gain will be negative, since we have strong <a href="gain_saturation.html" title="gain saturation: the phenomenon that the gain of an amplifier is reduced for high input signal powers">gain saturation</a>.
In the opposite case, the round-trip gain will be positive.
Somewhere in between, there is the desired solution.
So it is a simple one-dimensional root finding problem.</li>
</ul>
<p>I just show you the part of the script code where the round-trip gain is calculated and where the root finding is done:</p>
<pre class="codedisplay">
rt_gain(P_mid) := 
  { round-trip gain, starting from the middle of the resonator  }
  begin
    var P_rt, P_mid2;
    set_device(1);
    set_P_in(signal1_bw, P_mid);  { P_mid injected into the left fiber }
    P_mid2 := P_out(signal1_fw);  { that much comes back }
    set_device(2);
    set_P_in(signal2_fw, P_mid2);  { inject that into the right fiber }
    P_rt := P_out(signal2_bw);  { that much we get after one round trip }
    10 * lg(P_rt / P_mid);  { the round-trip gain in dB }
  end
&nbsp;
P_mid := 
  if rt_gain(1 nW) &gt; 0 then
    zero(rt_gain(P_mid), P_mid in [1e-9, P_pump1_fw_in + P_pump2_bw_in], xtol = 1e-9)
</pre>
<p>Also, I show you the generated diagram which shows the variation of optical powers within the laser:</p>
<figure>
<img src="img/fl_with_2_active_fibers1.png" alt="optical powers in a fiber laser">
<figcaption><span class="start">Figure&nbsp;1:</span> 
Variation of optical powers within a fiber laser containing two active fibers.
</figcaption>
</figure>
<p>It also shows the &ldquo;starting power&rdquo; which needs to be injected into the left fiber, coming from the place where the two fiber meet.</p>
<p>Of course, it would be easy to introduce further details like linear or nonlinear losses between the two fibers; the example shows that with the script language it becomes possible to implement a wide range of strategies to generate the results you need for your work.</p>
<p>For a beginner, it might be difficult to work out such tricks.
However, good software comes with a helpful <a href="software_support.html">technical support</a>.
If you have our software and need something like that, I would personally come up with a suggestion for such a trick, and also implement it in an example script if required.</p>
</div>
<p style="font-size:85%; margin-bottom:10px;">This article is a posting of the <a href="software_news.html">RP Photonics Software News</a>, authored by <a href="paschotta.html">Dr. R端diger Paschotta</a>.
You may link to this page, because its location is permanent.</p>
<p style="font-size:85%; margin-bottom:15px;">Note that you can also receive the articles in the form of a <a href="newsletters.html">newsletter</a> or with an <a href="software_news.rss">RSS feed</a>.</p>
<p style="margin-top:15px;">If you like this article, share it with your friends and colleagues, e.g. via social media:</p>
<div class="shariff" data-services="[&quot;linkedin&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;googleplus&quot;]" data-theme="standard" data-lang="en" data-orientation="horizontal"></div>
<script type="text/javascript" src="shariff/shariff.min.js"></script>
</main>
<div id="up_arrow">
<a href="javascript:scroll(0,0)"><img src="img/up.png" width="32" height="20" alt="arrow"></a>
</div>

</div>
<footer id="copyrightbox">
<span class="copyright">&copy; <a href="paschotta.html">Dr. R端diger Paschotta</a>, RP Photonics Consulting GmbH, also at <a href="https://profiles.google.com/109063044353551581702?rel=author">Google+</a>&nbsp;&nbsp;&nbsp;&nbsp; All rights reserved worldwide</span>
</footer>
</body>

<!-- Mirrored from www.rp-photonics.com/software_news_2016_04_12.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Feb 2019 03:10:11 GMT -->
</html>
