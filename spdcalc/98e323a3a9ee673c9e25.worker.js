!function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var r={};return n.m=t,n.c=r,n.p="",n(0)}([function(t,n,r){"use strict";var e=r(1),i=r(2);e("jsaHelper",{init:function(){this.props=new i.SPDCprop},doJSACalc:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4];return i.calc_JSI_p(this.props,n,r,e,a)},doJSASinglesCalc:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4];return i.calc_JSI_Singles_p(this.props,n,r,e,a)},doJSACoincCalcRates:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4];return i.calc_JSI_rates_p(this.props,n,r,e,a)},doCalcSchmidt:function(t){var n=t[0],r=Math.sqrt(n.length),e=i.create_2d_array(n,r,r);return isNaN(n[0])?0:i.calc_Schmidt(e)},doCalcSchmidtPlot:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5],c=t[6],u=t[7],s=t[8];return i.calc_schmidt_plot_p(this.props,n,r,e,a,o,c,u,s)},doCalcHeraldingEff:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5],c=t[6],u=t[7];return i.calc_heralding_plot_p(this.props,n,r,e,a,o,c,u)},doCalcHeraldingEffFocus:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5],c=t[6];return i.calc_heralding_plot_focus_position_p(this.props,n,r,e,a,o,c)},do2HOM:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5],c=t[6];return i.calc_2HOM_scan_p(this.props,n,r,e,a,o,c)},doHOM:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5],c=t[6],u=t[7];return i.calc_HOM_scan_p(this.props,n,r,e,a,o,c,u)},doCalcHOMJSA:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5],c=t[6],u=t[7];return i.calc_HOM_JSA(this.props,n,r,e,a,o,c,u)},docalc_XY:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5];return i.calc_XY(this.props,n,r,e,a,o)},doXYBoth:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5];return i.calc_XY_both(this.props,n,r,e,a,o)},doXYLambdasThetas:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5];return i.calc_lambda_s_vs_theta_s(this.props,n,r,e,a,o)},doXYThetavsPhi:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5];return i.calc_signal_theta_phi(this.props,n,r,e,a,o)},doXYThetaTheta:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5];return i.calc_signal_theta_vs_idler_theta(this.props,n,r,e,a,o)},doPMSignal:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5],c=t[6];return i.calc_PM_Curves(this.props,n,r,e,a,o,c)},doPMThetaPhi:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5];return i.calc_PM_Pump_Theta_Phi(this.props,n,r,e,a,o)},doPMPolingTheta:function(t){this.props.set(t[0]);var n=t[1],r=t[2],e=t[3],a=t[4],o=t[5];return i.calc_PM_Pump_Theta_Poling(this.props,n,r,e,a,o)}})},function(module,exports){"use strict";function runner(t,n){var r;return n?(r=_registry[t]=function(){this.init&&this.init()},r.prototype=n,r):(r=_registry[t],!!r&&new r)}function execute(helper,args){if(args.method)return helper[args.method](args.args);if(args.fn){var fn=eval("("+args.fn+")");return fn()}}function map(helper,args){var result,i,l,arr=args.args;if(result=args.transfer?new Float64Array(arr.length):[],args.method){for(i=0,l=arr.length;i<l;++i)result[i]=helper[args.method](arr[i]);return result}if(args.fn){var fn=eval("("+args.fn+")");for(i=0,l=arr.length;i<l;++i)result[i]=fn(arr[i]);return result}}function run(t,n){var r;return"exec"===t?(r=n.fn?{}:_runners[n.name],r||(r=runner(n.name)),r?(_runners[n.name]=r,r?n.map?map(r,n):execute(r,n):{error:'Runner with name "'+t+'" not created'}):{error:'Runner "'+n.name+'" is not defined'}):{error:'Command "'+t+'" not implemented'}}function W(t,n){return runner(t,n)}var ffVersion=self.navigator&&self.navigator.userAgent.match(/firefox\/(\d+(\.\d+)?)/i),ffBug=ffVersion&&+ffVersion[1]<28,_registry={},_runners={};self.addEventListener("message",function(t){var n=t.data.jobId,r=t.data.cmd,e=t.data.args,i=run(r,e);self.postMessage({jobId:n,result:i},!ffBug&&i&&i.buffer?[i.buffer]:void 0)},!1),module.exports=W},function(t,n,r){"use strict";r(3);var e={constants:r(300),nelderMead:r(301),svdcmp:r(302),Crystals:r(304)};t.exports=e;var i=r(303);i.sq;Object.assign(e,i);var a=r(407);Object.assign(e,a);var o=r(408);Object.assign(e,o);var c=r(409);Object.assign(e,c);var u=r(431);Object.assign(e,u)},function(t,n,r){(function(t){"use strict";function n(t,n,r){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:r})}if(r(4),r(295),r(297),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(n,function(){return this}())},function(t,n,r){r(5),r(54),r(55),r(56),r(57),r(59),r(62),r(63),r(64),r(65),r(66),r(67),r(68),r(69),r(70),r(72),r(74),r(76),r(78),r(81),r(82),r(83),r(87),r(89),r(91),r(94),r(95),r(96),r(97),r(99),r(100),r(101),r(102),r(103),r(104),r(105),r(107),r(108),r(109),r(111),r(112),r(113),r(115),r(116),r(117),r(118),r(119),r(120),r(121),r(122),r(123),r(124),r(125),r(126),r(127),r(128),r(133),r(134),r(138),r(139),r(140),r(141),r(143),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(156),r(157),r(158),r(159),r(161),r(162),r(168),r(169),r(171),r(172),r(173),r(177),r(178),r(179),r(180),r(181),r(183),r(184),r(185),r(186),r(189),r(191),r(192),r(193),r(195),r(197),r(199),r(200),r(201),r(203),r(204),r(205),r(206),r(213),r(216),r(217),r(219),r(220),r(223),r(224),r(226),r(227),r(228),r(229),r(230),r(231),r(232),r(233),r(234),r(235),r(236),r(237),r(238),r(239),r(240),r(241),r(242),r(243),r(244),r(246),r(247),r(248),r(249),r(250),r(251),r(253),r(254),r(255),r(256),r(257),r(258),r(259),r(260),r(262),r(263),r(265),r(266),r(267),r(268),r(271),r(272),r(273),r(274),r(275),r(276),r(277),r(278),r(280),r(281),r(282),r(283),r(284),r(285),r(286),r(287),r(288),r(289),r(290),r(293),r(294),t.exports=r(11)},function(t,n,r){"use strict";var e=r(6),i=r(7),a=r(8),o=r(10),c=r(20),u=r(24).KEY,s=r(9),f=r(25),l=r(26),h=r(21),p=r(27),_=r(28),v=r(29),d=r(31),y=r(44),g=r(47),m=r(14),b=r(34),M=r(18),x=r(19),w=r(48),S=r(51),I=r(53),P=r(13),A=r(32),O=I.f,j=P.f,T=S.f,R=e.Symbol,F=e.JSON,E=F&&F.stringify,L="prototype",N=p("_hidden"),W=p("toPrimitive"),k={}.propertyIsEnumerable,z=f("symbol-registry"),C=f("symbols"),q=f("op-symbols"),D=Object[L],J="function"==typeof R,U=e.QObject,B=!U||!U[L]||!U[L].findChild,G=a&&s(function(){return 7!=w(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=O(D,n);e&&delete D[n],j(t,n,r),e&&t!==D&&j(D,n,e)}:j,H=function(t){var n=C[t]=w(R[L]);return n._k=t,n},V=J&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},K=function(t,n,r){return t===D&&K(q,n,r),m(t),n=M(n,!0),m(r),i(C,n)?(r.enumerable?(i(t,N)&&t[N][n]&&(t[N][n]=!1),r=w(r,{enumerable:x(0,!1)})):(i(t,N)||j(t,N,x(1,{})),t[N][n]=!0),G(t,n,r)):j(t,n,r)},Y=function(t,n){m(t);for(var r,e=y(n=b(n)),i=0,a=e.length;a>i;)K(t,r=e[i++],n[r]);return t},X=function(t,n){return void 0===n?w(t):Y(w(t),n)},$=function(t){var n=k.call(this,t=M(t,!0));return!(this===D&&i(C,t)&&!i(q,t))&&(!(n||!i(this,t)||!i(C,t)||i(this,N)&&this[N][t])||n)},Z=function(t,n){if(t=b(t),n=M(n,!0),t!==D||!i(C,n)||i(q,n)){var r=O(t,n);return!r||!i(C,n)||i(t,N)&&t[N][n]||(r.enumerable=!0),r}},Q=function(t){for(var n,r=T(b(t)),e=[],a=0;r.length>a;)i(C,n=r[a++])||n==N||n==u||e.push(n);return e},tt=function(t){for(var n,r=t===D,e=T(r?q:b(t)),a=[],o=0;e.length>o;)!i(C,n=e[o++])||r&&!i(D,n)||a.push(C[n]);return a};J||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===D&&n.call(q,r),i(this,N)&&i(this[N],t)&&(this[N][t]=!1),G(this,t,x(1,r))};return a&&B&&G(D,t,{configurable:!0,set:n}),H(t)},c(R[L],"toString",function(){return this._k}),I.f=Z,P.f=K,r(52).f=S.f=Q,r(46).f=$,r(45).f=tt,a&&!r(30)&&c(D,"propertyIsEnumerable",$,!0),_.f=function(t){return H(p(t))}),o(o.G+o.W+o.F*!J,{Symbol:R});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)p(nt[rt++]);for(var nt=A(p.store),rt=0;nt.length>rt;)v(nt[rt++]);o(o.S+o.F*!J,"Symbol",{"for":function(t){return i(z,t+="")?z[t]:z[t]=R(t)},keyFor:function(t){if(V(t))return d(z,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){B=!0},useSimple:function(){B=!1}}),o(o.S+o.F*!J,"Object",{create:X,defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:tt}),F&&o(o.S+o.F*(!J||s(function(){var t=R();return"[null]"!=E([t])||"{}"!=E({a:t})||"{}"!=E(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!V(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&g(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!V(n))return n}),e[1]=n,E.apply(F,e)}}}),R[L][W]||r(12)(R[L],W,R[L].valueOf),l(R,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){t.exports=!r(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){t.exports=function(t){try{return!!t()}catch(n){return!0}}},function(t,n,r){var e=r(6),i=r(11),a=r(12),o=r(20),c=r(22),u="prototype",s=function(t,n,r){var f,l,h,p,_=t&s.F,v=t&s.G,d=t&s.S,y=t&s.P,g=t&s.B,m=v?e:d?e[n]||(e[n]={}):(e[n]||{})[u],b=v?i:i[n]||(i[n]={}),M=b[u]||(b[u]={});v&&(r=n);for(f in r)l=!_&&m&&void 0!==m[f],h=(l?m:r)[f],p=g&&l?c(h,e):y&&"function"==typeof h?c(Function.call,h):h,m&&o(m,f,h,t&s.U),b[f]!=h&&a(b,f,p),y&&M[f]!=h&&(M[f]=h)};e.core=i,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,n,r){var e=r(13),i=r(19);t.exports=r(8)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(14),i=r(16),a=r(18),o=Object.defineProperty;n.f=r(8)?Object.defineProperty:function(t,n,r){if(e(t),n=a(n,!0),e(r),i)try{return o(t,n,r)}catch(c){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(15);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){t.exports=!r(8)&&!r(9)(function(){return 7!=Object.defineProperty(r(17)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(15),i=r(6).document,a=e(i)&&e(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,n,r){var e=r(15);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,r){var e=r(6),i=r(12),a=r(7),o=r(21)("src"),c="toString",u=Function[c],s=(""+u).split(c);r(11).inspectSource=function(t){return u.call(t)},(t.exports=function(t,n,r,c){var u="function"==typeof r;u&&(a(r,"name")||i(r,"name",n)),t[n]!==r&&(u&&(a(r,o)||i(r,o,t[n]?""+t[n]:s.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:i(t,n,r):(delete t[n],i(t,n,r)))})(Function.prototype,c,function(){return"function"==typeof this&&this[o]||u.call(this)})},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(23);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,r){var e=r(21)("meta"),i=r(15),a=r(7),o=r(13).f,c=0,u=Object.isExtensible||function(){return!0},s=!r(9)(function(){return u(Object.preventExtensions({}))}),f=function(t){o(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,e)){if(!u(t))return"F";if(!n)return"E";f(t)}return t[e].i},h=function(t,n){if(!a(t,e)){if(!u(t))return!0;if(!n)return!1;f(t)}return t[e].w},p=function(t){return s&&_.NEED&&u(t)&&!a(t,e)&&f(t),t},_=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:p}},function(t,n,r){var e=r(6),i="__core-js_shared__",a=e[i]||(e[i]={});t.exports=function(t){return a[t]||(a[t]={})}},function(t,n,r){var e=r(13).f,i=r(7),a=r(27)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,a)&&e(t,a,{configurable:!0,value:n})}},function(t,n,r){var e=r(25)("wks"),i=r(21),a=r(6).Symbol,o="function"==typeof a,c=t.exports=function(t){return e[t]||(e[t]=o&&a[t]||(o?a:i)("Symbol."+t))};c.store=e},function(t,n,r){n.f=r(27)},function(t,n,r){var e=r(6),i=r(11),a=r(30),o=r(28),c=r(13).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=a?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:o.f(t)})}},function(t,n){t.exports=!1},function(t,n,r){var e=r(32),i=r(34);t.exports=function(t,n){for(var r,a=i(t),o=e(a),c=o.length,u=0;c>u;)if(a[r=o[u++]]===n)return r}},function(t,n,r){var e=r(33),i=r(43);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(7),i=r(34),a=r(38)(!1),o=r(42)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),u=0,s=[];for(r in c)r!=o&&e(c,r)&&s.push(r);for(;n.length>u;)e(c,r=n[u++])&&(~a(s,r)||s.push(r));return s}},function(t,n,r){var e=r(35),i=r(37);t.exports=function(t){return e(i(t))}},function(t,n,r){var e=r(36);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,r){var e=r(34),i=r(39),a=r(41);t.exports=function(t){return function(n,r,o){var c,u=e(n),s=i(u.length),f=a(o,s);if(t&&r!=r){for(;s>f;)if(c=u[f++],c!=c)return!0}else for(;s>f;f++)if((t||f in u)&&u[f]===r)return t||f||0;return!t&&-1}}},function(t,n,r){var e=r(40),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(40),i=Math.max,a=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):a(t,n)}},function(t,n,r){var e=r(25)("keys"),i=r(21);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,r){var e=r(32),i=r(45),a=r(46);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var o,c=r(t),u=a.f,s=0;c.length>s;)u.call(t,o=c[s++])&&n.push(o);return n}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(36);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){var e=r(14),i=r(49),a=r(43),o=r(42)("IE_PROTO"),c=function(){},u="prototype",s=function(){var t,n=r(17)("iframe"),e=a.length,i="<",o=">";for(n.style.display="none",r(50).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(i+"script"+o+"document.F=Object"+i+"/script"+o),t.close(),s=t.F;e--;)delete s[u][a[e]];return s()};t.exports=Object.create||function(t,n){var r;return null!==t?(c[u]=e(t),r=new c,c[u]=null,r[o]=t):r=s(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(13),i=r(14),a=r(32);t.exports=r(8)?Object.defineProperties:function(t,n){i(t);for(var r,o=a(n),c=o.length,u=0;c>u;)e.f(t,r=o[u++],n[r]);return t}},function(t,n,r){t.exports=r(6).document&&document.documentElement},function(t,n,r){var e=r(34),i=r(52).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(n){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?c(t):i(e(t))}},function(t,n,r){var e=r(33),i=r(43).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n,r){var e=r(46),i=r(19),a=r(34),o=r(18),c=r(7),u=r(16),s=Object.getOwnPropertyDescriptor;n.f=r(8)?s:function(t,n){if(t=a(t),n=o(n,!0),u)try{return s(t,n)}catch(r){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(10);e(e.S,"Object",{create:r(48)})},function(t,n,r){var e=r(10);e(e.S+e.F*!r(8),"Object",{defineProperty:r(13).f})},function(t,n,r){var e=r(10);e(e.S+e.F*!r(8),"Object",{defineProperties:r(49)})},function(t,n,r){var e=r(34),i=r(53).f;r(58)("getOwnPropertyDescriptor",function(){return function(t,n){return i(e(t),n)}})},function(t,n,r){var e=r(10),i=r(11),a=r(9);t.exports=function(t,n){var r=(i.Object||{})[t]||Object[t],o={};o[t]=n(r),e(e.S+e.F*a(function(){r(1)}),"Object",o)}},function(t,n,r){var e=r(60),i=r(61);r(58)("getPrototypeOf",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(37);t.exports=function(t){return Object(e(t))}},function(t,n,r){var e=r(7),i=r(60),a=r(42)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,n,r){var e=r(60),i=r(32);r(58)("keys",function(){return function(t){return i(e(t))}})},function(t,n,r){r(58)("getOwnPropertyNames",function(){return r(51).f})},function(t,n,r){var e=r(15),i=r(24).onFreeze;r(58)("freeze",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(15),i=r(24).onFreeze;r(58)("seal",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(15),i=r(24).onFreeze;r(58)("preventExtensions",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(15);r(58)("isFrozen",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(15);r(58)("isSealed",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(15);r(58)("isExtensible",function(t){return function(n){return!!e(n)&&(!t||t(n))}})},function(t,n,r){var e=r(10);e(e.S+e.F,"Object",{assign:r(71)})},function(t,n,r){"use strict";var e=r(32),i=r(45),a=r(46),o=r(60),c=r(35),u=Object.assign;t.exports=!u||r(9)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=u({},t)[r]||Object.keys(u({},n)).join("")!=e})?function(t,n){for(var r=o(t),u=arguments.length,s=1,f=i.f,l=a.f;u>s;)for(var h,p=c(arguments[s++]),_=f?e(p).concat(f(p)):e(p),v=_.length,d=0;v>d;)l.call(p,h=_[d++])&&(r[h]=p[h]);return r}:u},function(t,n,r){var e=r(10);e(e.S,"Object",{is:r(73)})},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t===1/n:t!=t&&n!=n}},function(t,n,r){var e=r(10);e(e.S,"Object",{setPrototypeOf:r(75).set})},function(t,n,r){var e=r(15),i=r(14),a=function(t,n){if(i(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{e=r(22)(Function.call,r(53).f(Object.prototype,"__proto__").set,2),e(t,[]),n=!(t instanceof Array)}catch(i){n=!0}return function(t,r){return a(t,r),n?t.__proto__=r:e(t,r),t}}({},!1):void 0),check:a}},function(t,n,r){"use strict";var e=r(77),i={};i[r(27)("toStringTag")]="z",i+""!="[object z]"&&r(20)(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},function(t,n,r){var e=r(36),i=r(27)("toStringTag"),a="Arguments"==e(function(){return arguments}()),o=function(t,n){try{return t[n]}catch(r){}};t.exports=function(t){var n,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=o(n=Object(t),i))?r:a?e(n):"Object"==(c=e(n))&&"function"==typeof n.callee?"Arguments":c}},function(t,n,r){var e=r(10);e(e.P,"Function",{bind:r(79)})},function(t,n,r){"use strict";var e=r(23),i=r(15),a=r(80),o=[].slice,c={},u=function(t,n,r){if(!(n in c)){for(var e=[],i=0;i<n;i++)e[i]="a["+i+"]";c[n]=Function("F,a","return new F("+e.join(",")+")")}return c[n](t,r)};t.exports=Function.bind||function(t){var n=e(this),r=o.call(arguments,1),c=function(){var e=r.concat(o.call(arguments));return this instanceof c?u(n,e.length,e):a(n,e,t)};return i(n.prototype)&&(c.prototype=n.prototype),c}},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(13).f,i=r(19),a=r(7),o=Function.prototype,c=/^\s*function ([^ (]*)/,u="name",s=Object.isExtensible||function(){return!0};u in o||r(8)&&e(o,u,{configurable:!0,get:function(){try{var t=this,n=(""+t).match(c)[1];return a(t,u)||!s(t)||e(t,u,i(5,n)),n}catch(r){return""}}})},function(t,n,r){"use strict";var e=r(15),i=r(61),a=r(27)("hasInstance"),o=Function.prototype;a in o||r(13).f(o,a,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,r){var e=r(10),i=r(84);e(e.G+e.F*(parseInt!=i),{parseInt:i})},function(t,n,r){var e=r(6).parseInt,i=r(85).trim,a=r(86),o=/^[\-+]?0[xX]/;t.exports=8!==e(a+"08")||22!==e(a+"0x16")?function(t,n){var r=i(String(t),3);return e(r,n>>>0||(o.test(r)?16:10))}:e},function(t,n,r){var e=r(10),i=r(37),a=r(9),o=r(86),c="["+o+"]",u="​",s=RegExp("^"+c+c+"*"),f=RegExp(c+c+"*$"),l=function(t,n,r){var i={},c=a(function(){return!!o[t]()||u[t]()!=u}),s=i[t]=c?n(h):o[t];r&&(i[r]=s),e(e.P+e.F*c,"String",i)},h=l.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(s,"")),2&n&&(t=t.replace(f,"")),t};t.exports=l},function(t,n){t.exports="\t\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,n,r){var e=r(10),i=r(88);e(e.G+e.F*(parseFloat!=i),{parseFloat:i})},function(t,n,r){var e=r(6).parseFloat,i=r(85).trim;t.exports=1/e(r(86)+"-0")!==-(1/0)?function(t){var n=i(String(t),3),r=e(n);return 0===r&&"-"==n.charAt(0)?-0:r}:e},function(t,n,r){"use strict";var e=r(6),i=r(7),a=r(36),o=r(90),c=r(18),u=r(9),s=r(52).f,f=r(53).f,l=r(13).f,h=r(85).trim,p="Number",_=e[p],v=_,d=_.prototype,y=a(r(48)(d))==p,g="trim"in String.prototype,m=function(t){var n=c(t,!1);if("string"==typeof n&&n.length>2){n=g?n.trim():h(n,3);var r,e,i,a=n.charCodeAt(0);if(43===a||45===a){if(r=n.charCodeAt(2),88===r||120===r)return NaN}else if(48===a){switch(n.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+n}for(var o,u=n.slice(2),s=0,f=u.length;s<f;s++)if(o=u.charCodeAt(s),o<48||o>i)return NaN;return parseInt(u,e)}}return+n};if(!_(" 0o1")||!_("0b1")||_("+0x1")){_=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof _&&(y?u(function(){d.valueOf.call(r)}):a(r)!=p)?o(new v(m(n)),r,_):m(n)};for(var b,M=r(8)?s(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;M.length>x;x++)i(v,b=M[x])&&!i(_,b)&&l(_,b,f(v,b));_.prototype=d,d.constructor=_,r(20)(e,p,_)}},function(t,n,r){var e=r(15),i=r(75).set;t.exports=function(t,n,r){var a,o=n.constructor;return o!==r&&"function"==typeof o&&(a=o.prototype)!==r.prototype&&e(a)&&i&&i(t,a),t}},function(t,n,r){"use strict";var e=r(10),i=r(40),a=r(92),o=r(93),c=1..toFixed,u=Math.floor,s=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",l="0",h=function(t,n){for(var r=-1,e=n;++r<6;)e+=t*s[r],s[r]=e%1e7,e=u(e/1e7)},p=function(t){for(var n=6,r=0;--n>=0;)r+=s[n],s[n]=u(r/t),r=r%t*1e7},_=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==s[t]){var r=String(s[t]);n=""===n?r:n+o.call(l,7-r.length)+r}return n},v=function(t,n,r){return 0===n?r:n%2===1?v(t,n-1,r*t):v(t*t,n/2,r)},d=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n};e(e.P+e.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(9)(function(){c.call({})})),"Number",{toFixed:function(t){var n,r,e,c,u=a(this,f),s=i(t),y="",g=l;if(s<0||s>20)throw RangeError(f);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(y="-",u=-u),u>1e-21)if(n=d(u*v(2,69,1))-69,r=n<0?u*v(2,-n,1):u/v(2,n,1),r*=4503599627370496,n=52-n,n>0){for(h(0,r),e=s;e>=7;)h(1e7,0),e-=7;for(h(v(10,e,1),0),e=n-1;e>=23;)p(1<<23),e-=23;p(1<<e),h(1,1),p(2),g=_()}else h(0,r),h(1<<-n,0),g=_()+o.call(l,s);return s>0?(c=g.length,g=y+(c<=s?"0."+o.call(l,s-c)+g:g.slice(0,c-s)+"."+g.slice(c-s))):g=y+g,g}})},function(t,n,r){var e=r(36);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t}},function(t,n,r){"use strict";var e=r(40),i=r(37);t.exports=function(t){var n=String(i(this)),r="",a=e(t);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(n+=n))1&a&&(r+=n);return r}},function(t,n,r){"use strict";var e=r(10),i=r(9),a=r(92),o=1..toPrecision;e(e.P+e.F*(i(function(){return"1"!==o.call(1,void 0)})||!i(function(){o.call({})})),"Number",{toPrecision:function(t){var n=a(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(n):o.call(n,t)}})},function(t,n,r){var e=r(10);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){var e=r(10),i=r(6).isFinite;e(e.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,n,r){var e=r(10);e(e.S,"Number",{isInteger:r(98)})},function(t,n,r){var e=r(15),i=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&i(t)===t}},function(t,n,r){var e=r(10);e(e.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,r){var e=r(10),i=r(98),a=Math.abs;e(e.S,"Number",{isSafeInteger:function(t){return i(t)&&a(t)<=9007199254740991}})},function(t,n,r){var e=r(10);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,r){var e=r(10);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,r){var e=r(10),i=r(88);e(e.S+e.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,n,r){var e=r(10),i=r(84);e(e.S+e.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,n,r){var e=r(10),i=r(106),a=Math.sqrt,o=Math.acosh;e(e.S+e.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+a(t-1)*a(t+1))}})},function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,r){function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=r(10),a=Math.asinh;i(i.S+i.F*!(a&&1/a(0)>0),"Math",{asinh:e})},function(t,n,r){var e=r(10),i=Math.atanh;e(e.S+e.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,r){var e=r(10),i=r(110);e(e.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n,r){var e=r(10);e(e.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,r){var e=r(10),i=Math.exp;e(e.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,n,r){var e=r(10),i=r(114);e(e.S+e.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||r(-2e-17)!=-2e-17?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},function(t,n,r){var e=r(10),i=r(110),a=Math.pow,o=a(2,-52),c=a(2,-23),u=a(2,127)*(2-c),s=a(2,-126),f=function(t){return t+1/o-1/o};e(e.S,"Math",{fround:function(t){var n,r,e=Math.abs(t),a=i(t);return e<s?a*f(e/s/c)*s*c:(n=(1+c/o)*e,r=n-(n-e),r>u||r!=r?a*(1/0):a*r)}})},function(t,n,r){var e=r(10),i=Math.abs;e(e.S,"Math",{hypot:function(t,n){for(var r,e,a=0,o=0,c=arguments.length,u=0;o<c;)r=i(arguments[o++]),u<r?(e=u/r,a=a*e*e+1,u=r):r>0?(e=r/u,a+=e*e):a+=r;return u===1/0?1/0:u*Math.sqrt(a)}})},function(t,n,r){var e=r(10),i=Math.imul;e(e.S+e.F*r(9)(function(){return i(4294967295,5)!=-5||2!=i.length}),"Math",{imul:function(t,n){var r=65535,e=+t,i=+n,a=r&e,o=r&i;return 0|a*o+((r&e>>>16)*o+a*(r&i>>>16)<<16>>>0)}})},function(t,n,r){var e=r(10);e(e.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,n,r){var e=r(10);e(e.S,"Math",{log1p:r(106)})},function(t,n,r){var e=r(10);e(e.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,r){var e=r(10);e(e.S,"Math",{sign:r(110)})},function(t,n,r){var e=r(10),i=r(114),a=Math.exp;e(e.S+e.F*r(9)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(a(t-1)-a(-t-1))*(Math.E/2)}})},function(t,n,r){var e=r(10),i=r(114),a=Math.exp;e(e.S,"Math",{tanh:function(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(a(t)+a(-t))}})},function(t,n,r){var e=r(10);e(e.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,r){var e=r(10),i=r(41),a=String.fromCharCode,o=String.fromCodePoint;e(e.S+e.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,o=0;e>o;){if(n=+arguments[o++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?a(n):a(((n-=65536)>>10)+55296,n%1024+56320))}return r.join("")}})},function(t,n,r){var e=r(10),i=r(34),a=r(39);e(e.S,"String",{raw:function(t){for(var n=i(t.raw),r=a(n.length),e=arguments.length,o=[],c=0;r>c;)o.push(String(n[c++])),c<e&&o.push(String(arguments[c]));return o.join("")}})},function(t,n,r){"use strict";r(85)("trim",function(t){return function(){return t(this,3)}})},function(t,n,r){"use strict";var e=r(129)(!0);r(130)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){var e=r(40),i=r(37);t.exports=function(t){return function(n,r){var a,o,c=String(i(n)),u=e(r),s=c.length;return u<0||u>=s?t?"":void 0:(a=c.charCodeAt(u),a<55296||a>56319||u+1===s||(o=c.charCodeAt(u+1))<56320||o>57343?t?c.charAt(u):a:t?c.slice(u,u+2):(a-55296<<10)+(o-56320)+65536)}}},function(t,n,r){"use strict";var e=r(30),i=r(10),a=r(20),o=r(12),c=r(7),u=r(131),s=r(132),f=r(26),l=r(61),h=r(27)("iterator"),p=!([].keys&&"next"in[].keys()),_="@@iterator",v="keys",d="values",y=function(){return this};t.exports=function(t,n,r,g,m,b,M){s(r,n,g);var x,w,S,I=function(t){if(!p&&t in j)return j[t];switch(t){case v:return function(){return new r(this,t)};case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},P=n+" Iterator",A=m==d,O=!1,j=t.prototype,T=j[h]||j[_]||m&&j[m],R=T||I(m),F=m?A?I("entries"):R:void 0,E="Array"==n?j.entries||T:T;if(E&&(S=l(E.call(new t)),S!==Object.prototype&&(f(S,P,!0),e||c(S,h)||o(S,h,y))),A&&T&&T.name!==d&&(O=!0,R=function(){return T.call(this)}),e&&!M||!p&&!O&&j[h]||o(j,h,R),u[n]=R,u[P]=y,m)if(x={values:A?R:I(d),
keys:b?R:I(v),entries:F},M)for(w in x)w in j||a(j,w,x[w]);else i(i.P+i.F*(p||O),n,x);return x}},function(t,n){t.exports={}},function(t,n,r){"use strict";var e=r(48),i=r(19),a=r(26),o={};r(12)(o,r(27)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(o,{next:i(1,r)}),a(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(10),i=r(129)(!1);e(e.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(10),i=r(39),a=r(135),o="endsWith",c=""[o];e(e.P+e.F*r(137)(o),"String",{endsWith:function(t){var n=a(this,t,o),r=arguments.length>1?arguments[1]:void 0,e=i(n.length),u=void 0===r?e:Math.min(i(r),e),s=String(t);return c?c.call(n,s,u):n.slice(u-s.length,u)===s}})},function(t,n,r){var e=r(136),i=r(37);t.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},function(t,n,r){var e=r(15),i=r(36),a=r(27)("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[a])?!!n:"RegExp"==i(t))}},function(t,n,r){var e=r(27)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[e]=!1,!"/./"[t](n)}catch(i){}}return!0}},function(t,n,r){"use strict";var e=r(10),i=r(135),a="includes";e(e.P+e.F*r(137)(a),"String",{includes:function(t){return!!~i(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){var e=r(10);e(e.P,"String",{repeat:r(93)})},function(t,n,r){"use strict";var e=r(10),i=r(39),a=r(135),o="startsWith",c=""[o];e(e.P+e.F*r(137)(o),"String",{startsWith:function(t){var n=a(this,t,o),r=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return c?c.call(n,e,r):n.slice(r,r+e.length)===e}})},function(t,n,r){"use strict";r(142)("anchor",function(t){return function(n){return t(this,"a","name",n)}})},function(t,n,r){var e=r(10),i=r(9),a=r(37),o=/"/g,c=function(t,n,r,e){var i=String(a(t)),c="<"+n;return""!==r&&(c+=" "+r+'="'+String(e).replace(o,"&quot;")+'"'),c+">"+i+"</"+n+">"};t.exports=function(t,n){var r={};r[t]=n(c),e(e.P+e.F*i(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",r)}},function(t,n,r){"use strict";r(142)("big",function(t){return function(){return t(this,"big","","")}})},function(t,n,r){"use strict";r(142)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,n,r){"use strict";r(142)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,n,r){"use strict";r(142)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,n,r){"use strict";r(142)("fontcolor",function(t){return function(n){return t(this,"font","color",n)}})},function(t,n,r){"use strict";r(142)("fontsize",function(t){return function(n){return t(this,"font","size",n)}})},function(t,n,r){"use strict";r(142)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,n,r){"use strict";r(142)("link",function(t){return function(n){return t(this,"a","href",n)}})},function(t,n,r){"use strict";r(142)("small",function(t){return function(){return t(this,"small","","")}})},function(t,n,r){"use strict";r(142)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,n,r){"use strict";r(142)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,n,r){"use strict";r(142)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,n,r){var e=r(10);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,r){"use strict";var e=r(10),i=r(60),a=r(18);e(e.P+e.F*r(9)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var n=i(this),r=a(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},function(t,n,r){"use strict";var e=r(10),i=r(9),a=Date.prototype.getTime,o=function(t){return t>9?t:"0"+t};e(e.P+e.F*(i(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!i(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),e=n<0?"-":n>9999?"+":"";return e+("00000"+Math.abs(n)).slice(e?-6:-4)+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+"."+(r>99?r:"0"+o(r))+"Z"}})},function(t,n,r){var e=Date.prototype,i="Invalid Date",a="toString",o=e[a],c=e.getTime;new Date(NaN)+""!=i&&r(20)(e,a,function(){var t=c.call(this);return t===t?o.call(this):i})},function(t,n,r){var e=r(27)("toPrimitive"),i=Date.prototype;e in i||r(12)(i,e,r(160))},function(t,n,r){"use strict";var e=r(14),i=r(18),a="number";t.exports=function(t){if("string"!==t&&t!==a&&"default"!==t)throw TypeError("Incorrect hint");return i(e(this),t!=a)}},function(t,n,r){var e=r(10);e(e.S,"Array",{isArray:r(47)})},function(t,n,r){"use strict";var e=r(22),i=r(10),a=r(60),o=r(163),c=r(164),u=r(39),s=r(165),f=r(166);i(i.S+i.F*!r(167)(function(t){Array.from(t)}),"Array",{from:function(t){var n,r,i,l,h=a(t),p="function"==typeof this?this:Array,_=arguments.length,v=_>1?arguments[1]:void 0,d=void 0!==v,y=0,g=f(h);if(d&&(v=e(v,_>2?arguments[2]:void 0,2)),void 0==g||p==Array&&c(g))for(n=u(h.length),r=new p(n);n>y;y++)s(r,y,d?v(h[y],y):h[y]);else for(l=g.call(h),r=new p;!(i=l.next()).done;y++)s(r,y,d?o(l,v,[i.value,y],!0):i.value);return r.length=y,r}})},function(t,n,r){var e=r(14);t.exports=function(t,n,r,i){try{return i?n(e(r)[0],r[1]):n(r)}catch(a){var o=t["return"];throw void 0!==o&&e(o.call(t)),a}}},function(t,n,r){var e=r(131),i=r(27)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||a[i]===t)}},function(t,n,r){"use strict";var e=r(13),i=r(19);t.exports=function(t,n,r){n in t?e.f(t,n,i(0,r)):t[n]=r}},function(t,n,r){var e=r(77),i=r(27)("iterator"),a=r(131);t.exports=r(11).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[e(t)]}},function(t,n,r){var e=r(27)("iterator"),i=!1;try{var a=[7][e]();a["return"]=function(){i=!0},Array.from(a,function(){throw 2})}catch(o){}t.exports=function(t,n){if(!n&&!i)return!1;var r=!1;try{var a=[7],o=a[e]();o.next=function(){return{done:r=!0}},a[e]=function(){return o},t(a)}catch(c){}return r}},function(t,n,r){"use strict";var e=r(10),i=r(165);e(e.S+e.F*r(9)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)i(r,t,arguments[t++]);return r.length=n,r}})},function(t,n,r){"use strict";var e=r(10),i=r(34),a=[].join;e(e.P+e.F*(r(35)!=Object||!r(170)(a)),"Array",{join:function(t){return a.call(i(this),void 0===t?",":t)}})},function(t,n,r){var e=r(9);t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,r){"use strict";var e=r(10),i=r(50),a=r(36),o=r(41),c=r(39),u=[].slice;e(e.P+e.F*r(9)(function(){i&&u.call(i)}),"Array",{slice:function(t,n){var r=c(this.length),e=a(this);if(n=void 0===n?r:n,"Array"==e)return u.call(this,t,n);for(var i=o(t,r),s=o(n,r),f=c(s-i),l=Array(f),h=0;h<f;h++)l[h]="String"==e?this.charAt(i+h):this[i+h];return l}})},function(t,n,r){"use strict";var e=r(10),i=r(23),a=r(60),o=r(9),c=[].sort,u=[1,2,3];e(e.P+e.F*(o(function(){u.sort(void 0)})||!o(function(){u.sort(null)})||!r(170)(c)),"Array",{sort:function(t){return void 0===t?c.call(a(this)):c.call(a(this),i(t))}})},function(t,n,r){"use strict";var e=r(10),i=r(174)(0),a=r(170)([].forEach,!0);e(e.P+e.F*!a,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,n,r){var e=r(22),i=r(35),a=r(60),o=r(39),c=r(175);t.exports=function(t,n){var r=1==t,u=2==t,s=3==t,f=4==t,l=6==t,h=5==t||l,p=n||c;return function(n,c,_){for(var v,d,y=a(n),g=i(y),m=e(c,_,3),b=o(g.length),M=0,x=r?p(n,b):u?p(n,0):void 0;b>M;M++)if((h||M in g)&&(v=g[M],d=m(v,M,y),t))if(r)x[M]=d;else if(d)switch(t){case 3:return!0;case 5:return v;case 6:return M;case 2:x.push(v)}else if(f)return!1;return l?-1:s||f?f:x}}},function(t,n,r){var e=r(176);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){var e=r(15),i=r(47),a=r(27)("species");t.exports=function(t){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&(n=n[a],null===n&&(n=void 0))),void 0===n?Array:n}},function(t,n,r){"use strict";var e=r(10),i=r(174)(1);e(e.P+e.F*!r(170)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(10),i=r(174)(2);e(e.P+e.F*!r(170)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(10),i=r(174)(3);e(e.P+e.F*!r(170)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(10),i=r(174)(4);e(e.P+e.F*!r(170)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(10),i=r(182);e(e.P+e.F*!r(170)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,n,r){var e=r(23),i=r(60),a=r(35),o=r(39);t.exports=function(t,n,r,c,u){e(n);var s=i(t),f=a(s),l=o(s.length),h=u?l-1:0,p=u?-1:1;if(r<2)for(;;){if(h in f){c=f[h],h+=p;break}if(h+=p,u?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;u?h>=0:l>h;h+=p)h in f&&(c=n(c,f[h],h,s));return c}},function(t,n,r){"use strict";var e=r(10),i=r(182);e(e.P+e.F*!r(170)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,n,r){"use strict";var e=r(10),i=r(38)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(o||!r(170)(a)),"Array",{indexOf:function(t){return o?a.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(10),i=r(34),a=r(40),o=r(39),c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(u||!r(170)(c)),"Array",{lastIndexOf:function(t){if(u)return c.apply(this,arguments)||0;var n=i(this),r=o(n.length),e=r-1;for(arguments.length>1&&(e=Math.min(e,a(arguments[1]))),e<0&&(e=r+e);e>=0;e--)if(e in n&&n[e]===t)return e||0;return-1}})},function(t,n,r){var e=r(10);e(e.P,"Array",{copyWithin:r(187)}),r(188)("copyWithin")},function(t,n,r){"use strict";var e=r(60),i=r(41),a=r(39);t.exports=[].copyWithin||function(t,n){var r=e(this),o=a(r.length),c=i(t,o),u=i(n,o),s=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===s?o:i(s,o))-u,o-c),l=1;for(u<c&&c<u+f&&(l=-1,u+=f-1,c+=f-1);f-- >0;)u in r?r[c]=r[u]:delete r[c],c+=l,u+=l;return r}},function(t,n,r){var e=r(27)("unscopables"),i=Array.prototype;void 0==i[e]&&r(12)(i,e,{}),t.exports=function(t){i[e][t]=!0}},function(t,n,r){var e=r(10);e(e.P,"Array",{fill:r(190)}),r(188)("fill")},function(t,n,r){"use strict";var e=r(60),i=r(41),a=r(39);t.exports=function(t){for(var n=e(this),r=a(n.length),o=arguments.length,c=i(o>1?arguments[1]:void 0,r),u=o>2?arguments[2]:void 0,s=void 0===u?r:i(u,r);s>c;)n[c++]=t;return n}},function(t,n,r){"use strict";var e=r(10),i=r(174)(5),a="find",o=!0;a in[]&&Array(1)[a](function(){o=!1}),e(e.P+e.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(188)(a)},function(t,n,r){"use strict";var e=r(10),i=r(174)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),e(e.P+e.F*o,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(188)(a)},function(t,n,r){r(194)("Array")},function(t,n,r){"use strict";var e=r(6),i=r(13),a=r(8),o=r(27)("species");t.exports=function(t){var n=e[t];a&&n&&!n[o]&&i.f(n,o,{configurable:!0,get:function(){return this}})}},function(t,n,r){"use strict";var e=r(188),i=r(196),a=r(131),o=r(34);t.exports=r(130)(Array,"Array",function(t,n){this._t=o(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),a.Arguments=a.Array,e("keys"),e("values"),e("entries")},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){var e=r(6),i=r(90),a=r(13).f,o=r(52).f,c=r(136),u=r(198),s=e.RegExp,f=s,l=s.prototype,h=/a/g,p=/a/g,_=new s(h)!==h;if(r(8)&&(!_||r(9)(function(){return p[r(27)("match")]=!1,s(h)!=h||s(p)==p||"/a/i"!=s(h,"i")}))){s=function(t,n){var r=this instanceof s,e=c(t),a=void 0===n;return!r&&e&&t.constructor===s&&a?t:i(_?new f(e&&!a?t.source:t,n):f((e=t instanceof s)?t.source:t,e&&a?u.call(t):n),r?this:l,s)};for(var v=(function(t){t in s||a(s,t,{configurable:!0,get:function(){return f[t]},set:function(n){f[t]=n}})}),d=o(f),y=0;d.length>y;)v(d[y++]);l.constructor=s,s.prototype=l,r(20)(e,"RegExp",s)}r(194)("RegExp")},function(t,n,r){"use strict";var e=r(14);t.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n,r){"use strict";r(200);var e=r(14),i=r(198),a=r(8),o="toString",c=/./[o],u=function(t){r(20)(RegExp.prototype,o,t,!0)};r(9)(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?u(function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?i.call(t):void 0)}):c.name!=o&&u(function(){return c.call(this)})},function(t,n,r){r(8)&&"g"!=/./g.flags&&r(13).f(RegExp.prototype,"flags",{configurable:!0,get:r(198)})},function(t,n,r){r(202)("match",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){"use strict";var e=r(12),i=r(20),a=r(9),o=r(37),c=r(27);t.exports=function(t,n,r){var u=c(t),s=r(o,u,""[t]),f=s[0],l=s[1];a(function(){var n={};return n[u]=function(){return 7},7!=""[t](n)})&&(i(String.prototype,t,f),e(RegExp.prototype,u,2==n?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)}))}},function(t,n,r){r(202)("replace",2,function(t,n,r){return[function(e,i){"use strict";var a=t(this),o=void 0==e?void 0:e[n];return void 0!==o?o.call(e,a,i):r.call(String(a),e,i)},r]})},function(t,n,r){r(202)("search",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(202)("split",2,function(t,n,e){"use strict";var i=r(136),a=e,o=[].push,c="split",u="length",s="lastIndex";if("c"=="abbc"[c](/(b)*/)[1]||4!="test"[c](/(?:)/,-1)[u]||2!="ab"[c](/(?:ab)*/)[u]||4!="."[c](/(.?)(.?)/)[u]||"."[c](/()()/)[u]>1||""[c](/.?/)[u]){var f=void 0===/()??/.exec("")[1];e=function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!i(t))return a.call(r,t,n);var e,c,l,h,p,_=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,y=void 0===n?4294967295:n>>>0,g=new RegExp(t.source,v+"g");for(f||(e=new RegExp("^"+g.source+"$(?!\\s)",v));(c=g.exec(r))&&(l=c.index+c[0][u],!(l>d&&(_.push(r.slice(d,c.index)),!f&&c[u]>1&&c[0].replace(e,function(){for(p=1;p<arguments[u]-2;p++)void 0===arguments[p]&&(c[p]=void 0)}),c[u]>1&&c.index<r[u]&&o.apply(_,c.slice(1)),h=c[0][u],d=l,_[u]>=y)));)g[s]===c.index&&g[s]++;return d===r[u]?!h&&g.test("")||_.push(""):_.push(r.slice(d)),_[u]>y?_.slice(0,y):_}}else"0"[c](void 0,0)[u]&&(e=function(t,n){return void 0===t&&0===n?[]:a.call(this,t,n)});return[function(r,i){var a=t(this),o=void 0==r?void 0:r[n];return void 0!==o?o.call(r,a,i):e.call(String(a),r,i)},e]})},function(t,n,r){"use strict";var e,i,a,o=r(30),c=r(6),u=r(22),s=r(77),f=r(10),l=r(15),h=r(23),p=r(207),_=r(208),v=r(209),d=r(210).set,y=r(211)(),g="Promise",m=c.TypeError,b=c.process,M=c[g],b=c.process,x="process"==s(b),w=function(){},S=!!function(){try{var t=M.resolve(1),n=(t.constructor={})[r(27)("species")]=function(t){t(w,w)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(w)instanceof n}catch(e){}}(),I=function(t,n){return t===n||t===M&&n===a},P=function(t){var n;return!(!l(t)||"function"!=typeof(n=t.then))&&n},A=function(t){return I(M,t)?new O(t):new i(t)},O=i=function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw m("Bad Promise constructor");n=t,r=e}),this.resolve=h(n),this.reject=h(r)},j=function(t){try{t()}catch(n){return{error:n}}},T=function(t,n){if(!t._n){t._n=!0;var r=t._c;y(function(){for(var e=t._v,i=1==t._s,a=0,o=function(n){var r,a,o=i?n.ok:n.fail,c=n.resolve,u=n.reject,s=n.domain;try{o?(i||(2==t._h&&E(t),t._h=1),o===!0?r=e:(s&&s.enter(),r=o(e),s&&s.exit()),r===n.promise?u(m("Promise-chain cycle")):(a=P(r))?a.call(r,c,u):c(r)):u(e)}catch(f){u(f)}};r.length>a;)o(r[a++]);t._c=[],t._n=!1,n&&!t._h&&R(t)})}},R=function(t){d.call(c,function(){var n,r,e,i=t._v;if(F(t)&&(n=j(function(){x?b.emit("unhandledRejection",i,t):(r=c.onunhandledrejection)?r({promise:t,reason:i}):(e=c.console)&&e.error&&e.error("Unhandled promise rejection",i)}),t._h=x||F(t)?2:1),t._a=void 0,n)throw n.error})},F=function(t){if(1==t._h)return!1;for(var n,r=t._a||t._c,e=0;r.length>e;)if(n=r[e++],n.fail||!F(n.promise))return!1;return!0},E=function(t){d.call(c,function(){var n;x?b.emit("rejectionHandled",t):(n=c.onrejectionhandled)&&n({promise:t,reason:t._v})})},L=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),T(n,!0))},N=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw m("Promise can't be resolved itself");(n=P(t))?y(function(){var e={_w:r,_d:!1};try{n.call(t,u(N,e,1),u(L,e,1))}catch(i){L.call(e,i)}}):(r._v=t,r._s=1,T(r,!1))}catch(e){L.call({_w:r,_d:!1},e)}}};S||(M=function(t){p(this,M,g,"_h"),h(t),e.call(this);try{t(u(N,this,1),u(L,this,1))}catch(n){L.call(this,n)}},e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},e.prototype=r(212)(M.prototype,{then:function(t,n){var r=A(v(this,M));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=x?b.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&T(this,!1),r.promise},"catch":function(t){return this.then(void 0,t)}}),O=function(){var t=new e;this.promise=t,this.resolve=u(N,t,1),this.reject=u(L,t,1)}),f(f.G+f.W+f.F*!S,{Promise:M}),r(26)(M,g),r(194)(g),a=r(11)[g],f(f.S+f.F*!S,g,{reject:function(t){var n=A(this),r=n.reject;return r(t),n.promise}}),f(f.S+f.F*(o||!S),g,{resolve:function(t){if(t instanceof M&&I(t.constructor,this))return t;var n=A(this),r=n.resolve;return r(t),n.promise}}),f(f.S+f.F*!(S&&r(167)(function(t){M.all(t)["catch"](w)})),g,{all:function(t){var n=this,r=A(n),e=r.resolve,i=r.reject,a=j(function(){var r=[],a=0,o=1;_(t,!1,function(t){var c=a++,u=!1;r.push(void 0),o++,n.resolve(t).then(function(t){u||(u=!0,r[c]=t,--o||e(r))},i)}),--o||e(r)});return a&&i(a.error),r.promise},race:function(t){var n=this,r=A(n),e=r.reject,i=j(function(){_(t,!1,function(t){n.resolve(t).then(r.resolve,e)})});return i&&e(i.error),r.promise}})},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n,r){var e=r(22),i=r(163),a=r(164),o=r(14),c=r(39),u=r(166),s={},f={},n=t.exports=function(t,n,r,l,h){var p,_,v,d,y=h?function(){return t}:u(t),g=e(r,l,n?2:1),m=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(a(y)){for(p=c(t.length);p>m;m++)if(d=n?g(o(_=t[m])[0],_[1]):g(t[m]),d===s||d===f)return d}else for(v=y.call(t);!(_=v.next()).done;)if(d=i(v,g,_.value,n),d===s||d===f)return d};n.BREAK=s,n.RETURN=f},function(t,n,r){var e=r(14),i=r(23),a=r(27)("species");t.exports=function(t,n){var r,o=e(t).constructor;return void 0===o||void 0==(r=e(o)[a])?n:i(r)}},function(t,n,r){var e,i,a,o=r(22),c=r(80),u=r(50),s=r(17),f=r(6),l=f.process,h=f.setImmediate,p=f.clearImmediate,_=f.MessageChannel,v=0,d={},y="onreadystatechange",g=function(){var t=+this;if(d.hasOwnProperty(t)){var n=d[t];delete d[t],n()}},m=function(t){g.call(t.data)};h&&p||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return d[++v]=function(){c("function"==typeof t?t:Function(t),n)},e(v),v},p=function(t){delete d[t]},"process"==r(36)(l)?e=function(t){l.nextTick(o(g,t,1))}:_?(i=new _,a=i.port2,i.port1.onmessage=m,e=o(a.postMessage,a,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(e=function(t){f.postMessage(t+"","*")},f.addEventListener("message",m,!1)):e=y in s("script")?function(t){u.appendChild(s("script"))[y]=function(){u.removeChild(this),g.call(t)}}:function(t){setTimeout(o(g,t,1),0)}),t.exports={set:h,clear:p}},function(t,n,r){var e=r(6),i=r(210).set,a=e.MutationObserver||e.WebKitMutationObserver,o=e.process,c=e.Promise,u="process"==r(36)(o);t.exports=function(){var t,n,r,s=function(){var e,i;for(u&&(e=o.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(a){throw t?r():n=void 0,a}}n=void 0,e&&e.enter()};if(u)r=function(){o.nextTick(s)};else if(a){var f=!0,l=document.createTextNode("");new a(s).observe(l,{characterData:!0}),r=function(){l.data=f=!f}}else if(c&&c.resolve){var h=c.resolve();r=function(){h.then(s)}}else r=function(){i.call(e,s)};return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i}}},function(t,n,r){var e=r(20);t.exports=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t}},function(t,n,r){"use strict";var e=r(214);t.exports=r(215)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var n=e.getEntry(this,t);return n&&n.v},set:function(t,n){return e.def(this,0===t?0:t,n)}},e,!0)},function(t,n,r){"use strict";var e=r(13).f,i=r(48),a=r(212),o=r(22),c=r(207),u=r(37),s=r(208),f=r(130),l=r(196),h=r(194),p=r(8),_=r(24).fastKey,v=p?"_s":"size",d=function(t,n){var r,e=_(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,f){var l=t(function(t,e){c(t,l,n,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=e&&s(e,r,t[f],t)});return a(l.prototype,{clear:function(){for(var t=this,n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},"delete":function(t){var n=this,r=d(n,t);if(r){var e=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=e),e&&(e.p=i),n._f==r&&(n._f=e),n._l==r&&(n._l=i),n[v]--}return!!r},forEach:function(t){c(this,l,"forEach");for(var n,r=o(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!d(this,t)}}),p&&e(l.prototype,"size",{get:function(){return u(this[v])}}),l},def:function(t,n,r){var e,i,a=d(t,n);return a?a.v=r:(t._l=a={i:i=_(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=a),e&&(e.n=a),t[v]++,"F"!==i&&(t._i[i]=a)),t},getEntry:d,setStrong:function(t,n,r){f(t,n,function(t,n){this._t=t,this._k=n,this._l=void 0},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==n?l(0,r.k):"values"==n?l(0,r.v):l(0,[r.k,r.v]):(t._t=void 0,l(1))},r?"entries":"values",!r,!0),h(n)}}},function(t,n,r){"use strict";var e=r(6),i=r(10),a=r(20),o=r(212),c=r(24),u=r(208),s=r(207),f=r(15),l=r(9),h=r(167),p=r(26),_=r(90);t.exports=function(t,n,r,v,d,y){var g=e[t],m=g,b=d?"set":"add",M=m&&m.prototype,x={},w=function(t){var n=M[t];a(M,t,"delete"==t?function(t){return!(y&&!f(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!f(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!f(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,r){return n.call(this,0===t?0:t,r),this})};if("function"==typeof m&&(y||M.forEach&&!l(function(){(new m).entries().next()}))){var S=new m,I=S[b](y?{}:-0,1)!=S,P=l(function(){S.has(1)}),A=h(function(t){new m(t)}),O=!y&&l(function(){for(var t=new m,n=5;n--;)t[b](n,n);return!t.has(-0)});A||(m=n(function(n,r){s(n,m,t);var e=_(new g,n,m);return void 0!=r&&u(r,d,e[b],e),e}),m.prototype=M,M.constructor=m),(P||O)&&(w("delete"),w("has"),d&&w("get")),(O||I)&&w(b),y&&M.clear&&delete M.clear}else m=v.getConstructor(n,t,d,b),o(m.prototype,r),c.NEED=!0;return p(m,t),x[t]=m,i(i.G+i.W+i.F*(m!=g),x),y||v.setStrong(m,t,d),m}},function(t,n,r){"use strict";var e=r(214);t.exports=r(215)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t=0===t?0:t,t)}},e)},function(t,n,r){"use strict";var e,i=r(174)(0),a=r(20),o=r(24),c=r(71),u=r(218),s=r(15),f=o.getWeak,l=Object.isExtensible,h=u.ufstore,p={},_=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(s(t)){var n=f(t);return n===!0?h(this).get(t):n?n[this._i]:void 0}},set:function(t,n){return u.def(this,t,n)}},d=t.exports=r(215)("WeakMap",_,v,u,!0,!0);7!=(new d).set((Object.freeze||Object)(p),7).get(p)&&(e=u.getConstructor(_),c(e.prototype,v),o.NEED=!0,i(["delete","has","get","set"],function(t){var n=d.prototype,r=n[t];a(n,t,function(n,i){if(s(n)&&!l(n)){this._f||(this._f=new e);var a=this._f[t](n,i);return"set"==t?this:a}return r.call(this,n,i)})}))},function(t,n,r){"use strict";var e=r(212),i=r(24).getWeak,a=r(14),o=r(15),c=r(207),u=r(208),s=r(174),f=r(7),l=s(5),h=s(6),p=0,_=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},d=function(t,n){return l(t.a,function(t){return t[0]===n})};v.prototype={get:function(t){var n=d(this,t);if(n)return n[1]},has:function(t){return!!d(this,t)},set:function(t,n){var r=d(this,t);r?r[1]=n:this.a.push([t,n])},"delete":function(t){var n=h(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,a){var s=t(function(t,e){c(t,s,n,"_i"),t._i=p++,t._l=void 0,void 0!=e&&u(e,r,t[a],t)});return e(s.prototype,{"delete":function(t){if(!o(t))return!1;var n=i(t);return n===!0?_(this)["delete"](t):n&&f(n,this._i)&&delete n[this._i]},has:function(t){if(!o(t))return!1;var n=i(t);return n===!0?_(this).has(t):n&&f(n,this._i)}}),s},def:function(t,n,r){var e=i(a(n),!0);return e===!0?_(t).set(n,r):e[t._i]=r,t},ufstore:_}},function(t,n,r){"use strict";var e=r(218);r(215)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t,!0)}},e,!1,!0)},function(t,n,r){"use strict";var e=r(10),i=r(221),a=r(222),o=r(14),c=r(41),u=r(39),s=r(15),f=r(6).ArrayBuffer,l=r(209),h=a.ArrayBuffer,p=a.DataView,_=i.ABV&&f.isView,v=h.prototype.slice,d=i.VIEW,y="ArrayBuffer";e(e.G+e.W+e.F*(f!==h),{ArrayBuffer:h}),e(e.S+e.F*!i.CONSTR,y,{isView:function(t){return _&&_(t)||s(t)&&d in t}}),e(e.P+e.U+e.F*r(9)(function(){return!new h(2).slice(1,void 0).byteLength}),y,{slice:function(t,n){if(void 0!==v&&void 0===n)return v.call(o(this),t);for(var r=o(this).byteLength,e=c(t,r),i=c(void 0===n?r:n,r),a=new(l(this,h))(u(i-e)),s=new p(this),f=new p(a),_=0;e<i;)f.setUint8(_++,s.getUint8(e++));return a}}),r(194)(y)},function(t,n,r){for(var e,i=r(6),a=r(12),o=r(21),c=o("typed_array"),u=o("view"),s=!(!i.ArrayBuffer||!i.DataView),f=s,l=0,h=9,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<h;)(e=i[p[l++]])?(a(e.prototype,c,!0),a(e.prototype,u,!0)):f=!1;t.exports={ABV:s,CONSTR:f,TYPED:c,VIEW:u}},function(t,n,r){"use strict";var e=r(6),i=r(8),a=r(30),o=r(221),c=r(12),u=r(212),s=r(9),f=r(207),l=r(40),h=r(39),p=r(52).f,_=r(13).f,v=r(190),d=r(26),y="ArrayBuffer",g="DataView",m="prototype",b="Wrong length!",M="Wrong index!",x=e[y],w=e[g],S=e.Math,I=e.RangeError,P=e.Infinity,A=x,O=S.abs,j=S.pow,T=S.floor,R=S.log,F=S.LN2,E="buffer",L="byteLength",N="byteOffset",W=i?"_b":E,k=i?"_l":L,z=i?"_o":N,C=function(t,n,r){var e,i,a,o=Array(r),c=8*r-n-1,u=(1<<c)-1,s=u>>1,f=23===n?j(2,-24)-j(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for(t=O(t),t!=t||t===P?(i=t!=t?1:0,e=u):(e=T(R(t)/F),t*(a=j(2,-e))<1&&(e--,a*=2),t+=e+s>=1?f/a:f*j(2,1-s),t*a>=2&&(e++,a/=2),e+s>=u?(i=0,e=u):e+s>=1?(i=(t*a-1)*j(2,n),e+=s):(i=t*j(2,s-1)*j(2,n),e=0));n>=8;o[l++]=255&i,i/=256,n-=8);for(e=e<<n|i,c+=n;c>0;o[l++]=255&e,e/=256,c-=8);return o[--l]|=128*h,o},q=function(t,n,r){var e,i=8*r-n-1,a=(1<<i)-1,o=a>>1,c=i-7,u=r-1,s=t[u--],f=127&s;for(s>>=7;c>0;f=256*f+t[u],u--,c-=8);for(e=f&(1<<-c)-1,f>>=-c,c+=n;c>0;e=256*e+t[u],u--,c-=8);if(0===f)f=1-o;else{if(f===a)return e?NaN:s?-P:P;e+=j(2,n),f-=o}return(s?-1:1)*e*j(2,f-n)},D=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},J=function(t){return[255&t]},U=function(t){return[255&t,t>>8&255]},B=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},G=function(t){return C(t,52,8)},H=function(t){return C(t,23,4)},V=function(t,n,r){_(t[m],n,{get:function(){return this[r]}})},K=function(t,n,r,e){var i=+r,a=l(i);if(i!=a||a<0||a+n>t[k])throw I(M);var o=t[W]._b,c=a+t[z],u=o.slice(c,c+n);return e?u:u.reverse()},Y=function(t,n,r,e,i,a){var o=+r,c=l(o);if(o!=c||c<0||c+n>t[k])throw I(M);for(var u=t[W]._b,s=c+t[z],f=e(+i),h=0;h<n;h++)u[s+h]=f[a?h:n-h-1]},X=function(t,n){f(t,x,y);var r=+n,e=h(r);if(r!=e)throw I(b);return e};if(o.ABV){if(!s(function(){new x})||!s(function(){new x(.5)})){x=function(t){return new A(X(this,t))};for(var $,Z=x[m]=A[m],Q=p(A),tt=0;Q.length>tt;)($=Q[tt++])in x||c(x,$,A[$]);a||(Z.constructor=x)}var nt=new w(new x(2)),rt=w[m].setInt8;nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||u(w[m],{setInt8:function(t,n){rt.call(this,t,n<<24>>24)},setUint8:function(t,n){rt.call(this,t,n<<24>>24)}},!0)}else x=function(t){var n=X(this,t);this._b=v.call(Array(n),0),this[k]=n},w=function(t,n,r){f(this,w,g),f(t,x,g);var e=t[k],i=l(n);if(i<0||i>e)throw I("Wrong offset!");if(r=void 0===r?e-i:h(r),i+r>e)throw I(b);this[W]=t,this[z]=i,this[k]=r},i&&(V(x,L,"_l"),V(w,E,"_b"),V(w,L,"_l"),V(w,N,"_o")),u(w[m],{getInt8:function(t){return K(this,1,t)[0]<<24>>24},getUint8:function(t){return K(this,1,t)[0]},getInt16:function(t){var n=K(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=K(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return D(K(this,4,t,arguments[1]))},getUint32:function(t){return D(K(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return q(K(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return q(K(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){Y(this,1,t,J,n)},setUint8:function(t,n){Y(this,1,t,J,n)},setInt16:function(t,n){Y(this,2,t,U,n,arguments[2])},setUint16:function(t,n){Y(this,2,t,U,n,arguments[2])},setInt32:function(t,n){Y(this,4,t,B,n,arguments[2])},setUint32:function(t,n){Y(this,4,t,B,n,arguments[2])},setFloat32:function(t,n){Y(this,4,t,H,n,arguments[2])},setFloat64:function(t,n){Y(this,8,t,G,n,arguments[2])}});d(x,y),d(w,g),c(w[m],o.VIEW,!0),n[y]=x,n[g]=w},function(t,n,r){var e=r(10);e(e.G+e.W+e.F*!r(221).ABV,{DataView:r(222).DataView})},function(t,n,r){r(225)("Int8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){"use strict";if(r(8)){var e=r(30),i=r(6),a=r(9),o=r(10),c=r(221),u=r(222),s=r(22),f=r(207),l=r(19),h=r(12),p=r(212),_=r(40),v=r(39),d=r(41),y=r(18),g=r(7),m=r(73),b=r(77),M=r(15),x=r(60),w=r(164),S=r(48),I=r(61),P=r(52).f,A=r(166),O=r(21),j=r(27),T=r(174),R=r(38),F=r(209),E=r(195),L=r(131),N=r(167),W=r(194),k=r(190),z=r(187),C=r(13),q=r(53),D=C.f,J=q.f,U=i.RangeError,B=i.TypeError,G=i.Uint8Array,H="ArrayBuffer",V="Shared"+H,K="BYTES_PER_ELEMENT",Y="prototype",X=Array[Y],$=u.ArrayBuffer,Z=u.DataView,Q=T(0),tt=T(2),nt=T(3),rt=T(4),et=T(5),it=T(6),at=R(!0),ot=R(!1),ct=E.values,ut=E.keys,st=E.entries,ft=X.lastIndexOf,lt=X.reduce,ht=X.reduceRight,pt=X.join,_t=X.sort,vt=X.slice,dt=X.toString,yt=X.toLocaleString,gt=j("iterator"),mt=j("toStringTag"),bt=O("typed_constructor"),Mt=O("def_constructor"),xt=c.CONSTR,wt=c.TYPED,St=c.VIEW,It="Wrong length!",Pt=T(1,function(t,n){return Ft(F(t,t[Mt]),n)}),At=a(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),Ot=!!G&&!!G[Y].set&&a(function(){new G(1).set({})}),jt=function(t,n){if(void 0===t)throw B(It);var r=+t,e=v(t);if(n&&!m(r,e))throw U(It);return e},Tt=function(t,n){var r=_(t);if(r<0||r%n)throw U("Wrong offset!");return r},Rt=function(t){if(M(t)&&wt in t)return t;throw B(t+" is not a typed array!")},Ft=function(t,n){
if(!(M(t)&&bt in t))throw B("It is not a typed array constructor!");return new t(n)},Et=function(t,n){return Lt(F(t,t[Mt]),n)},Lt=function(t,n){for(var r=0,e=n.length,i=Ft(t,e);e>r;)i[r]=n[r++];return i},Nt=function(t,n,r){D(t,n,{get:function(){return this._d[r]}})},Wt=function(t){var n,r,e,i,a,o,c=x(t),u=arguments.length,f=u>1?arguments[1]:void 0,l=void 0!==f,h=A(c);if(void 0!=h&&!w(h)){for(o=h.call(c),e=[],n=0;!(a=o.next()).done;n++)e.push(a.value);c=e}for(l&&u>2&&(f=s(f,arguments[2],2)),n=0,r=v(c.length),i=Ft(this,r);r>n;n++)i[n]=l?f(c[n],n):c[n];return i},kt=function(){for(var t=0,n=arguments.length,r=Ft(this,n);n>t;)r[t]=arguments[t++];return r},zt=!!G&&a(function(){yt.call(new G(1))}),Ct=function(){return yt.apply(zt?vt.call(Rt(this)):Rt(this),arguments)},qt={copyWithin:function(t,n){return z.call(Rt(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return rt(Rt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return k.apply(Rt(this),arguments)},filter:function(t){return Et(this,tt(Rt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return et(Rt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Rt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(Rt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(Rt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return at(Rt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return pt.apply(Rt(this),arguments)},lastIndexOf:function(t){return ft.apply(Rt(this),arguments)},map:function(t){return Pt(Rt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return lt.apply(Rt(this),arguments)},reduceRight:function(t){return ht.apply(Rt(this),arguments)},reverse:function(){for(var t,n=this,r=Rt(n).length,e=Math.floor(r/2),i=0;i<e;)t=n[i],n[i++]=n[--r],n[r]=t;return n},some:function(t){return nt(Rt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return _t.call(Rt(this),t)},subarray:function(t,n){var r=Rt(this),e=r.length,i=d(t,e);return new(F(r,r[Mt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,v((void 0===n?e:d(n,e))-i))}},Dt=function(t,n){return Et(this,vt.call(Rt(this),t,n))},Jt=function(t){Rt(this);var n=Tt(arguments[1],1),r=this.length,e=x(t),i=v(e.length),a=0;if(i+n>r)throw U(It);for(;a<i;)this[n+a]=e[a++]},Ut={entries:function(){return st.call(Rt(this))},keys:function(){return ut.call(Rt(this))},values:function(){return ct.call(Rt(this))}},Bt=function(t,n){return M(t)&&t[wt]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Gt=function(t,n){return Bt(t,n=y(n,!0))?l(2,t[n]):J(t,n)},Ht=function(t,n,r){return!(Bt(t,n=y(n,!0))&&M(r)&&g(r,"value"))||g(r,"get")||g(r,"set")||r.configurable||g(r,"writable")&&!r.writable||g(r,"enumerable")&&!r.enumerable?D(t,n,r):(t[n]=r.value,t)};xt||(q.f=Gt,C.f=Ht),o(o.S+o.F*!xt,"Object",{getOwnPropertyDescriptor:Gt,defineProperty:Ht}),a(function(){dt.call({})})&&(dt=yt=function(){return pt.call(this)});var Vt=p({},qt);p(Vt,Ut),h(Vt,gt,Ut.values),p(Vt,{slice:Dt,set:Jt,constructor:function(){},toString:dt,toLocaleString:Ct}),Nt(Vt,"buffer","b"),Nt(Vt,"byteOffset","o"),Nt(Vt,"byteLength","l"),Nt(Vt,"length","e"),D(Vt,mt,{get:function(){return this[wt]}}),t.exports=function(t,n,r,u){u=!!u;var s=t+(u?"Clamped":"")+"Array",l="Uint8Array"!=s,p="get"+t,_="set"+t,d=i[s],y=d||{},g=d&&I(d),m=!d||!c.ABV,x={},w=d&&d[Y],A=function(t,r){var e=t._d;return e.v[p](r*n+e.o,At)},O=function(t,r,e){var i=t._d;u&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),i.v[_](r*n+i.o,e,At)},j=function(t,n){D(t,n,{get:function(){return A(this,n)},set:function(t){return O(this,n,t)},enumerable:!0})};m?(d=r(function(t,r,e,i){f(t,d,s,"_d");var a,o,c,u,l=0,p=0;if(M(r)){if(!(r instanceof $||(u=b(r))==H||u==V))return wt in r?Lt(d,r):Wt.call(d,r);a=r,p=Tt(e,n);var _=r.byteLength;if(void 0===i){if(_%n)throw U(It);if(o=_-p,o<0)throw U(It)}else if(o=v(i)*n,o+p>_)throw U(It);c=o/n}else c=jt(r,!0),o=c*n,a=new $(o);for(h(t,"_d",{b:a,o:p,l:o,e:c,v:new Z(a)});l<c;)j(t,l++)}),w=d[Y]=S(Vt),h(w,"constructor",d)):N(function(t){new d(null),new d(t)},!0)||(d=r(function(t,r,e,i){f(t,d,s);var a;return M(r)?r instanceof $||(a=b(r))==H||a==V?void 0!==i?new y(r,Tt(e,n),i):void 0!==e?new y(r,Tt(e,n)):new y(r):wt in r?Lt(d,r):Wt.call(d,r):new y(jt(r,l))}),Q(g!==Function.prototype?P(y).concat(P(g)):P(y),function(t){t in d||h(d,t,y[t])}),d[Y]=w,e||(w.constructor=d));var T=w[gt],R=!!T&&("values"==T.name||void 0==T.name),F=Ut.values;h(d,bt,!0),h(w,wt,s),h(w,St,!0),h(w,Mt,d),(u?new d(1)[mt]==s:mt in w)||D(w,mt,{get:function(){return s}}),x[s]=d,o(o.G+o.W+o.F*(d!=y),x),o(o.S,s,{BYTES_PER_ELEMENT:n,from:Wt,of:kt}),K in w||h(w,K,n),o(o.P,s,qt),W(s),o(o.P+o.F*Ot,s,{set:Jt}),o(o.P+o.F*!R,s,Ut),o(o.P+o.F*(w.toString!=dt),s,{toString:dt}),o(o.P+o.F*a(function(){new d(1).slice()}),s,{slice:Dt}),o(o.P+o.F*(a(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!a(function(){w.toLocaleString.call([1,2])})),s,{toLocaleString:Ct}),L[s]=R?T:F,e||R||h(w,gt,F)}}else t.exports=function(){}},function(t,n,r){r(225)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(225)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}},!0)},function(t,n,r){r(225)("Int16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(225)("Uint16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(225)("Int32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(225)("Uint32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(225)("Float32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(225)("Float64",8,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){var e=r(10),i=r(23),a=r(14),o=(r(6).Reflect||{}).apply,c=Function.apply;e(e.S+e.F*!r(9)(function(){o(function(){})}),"Reflect",{apply:function(t,n,r){var e=i(t),u=a(r);return o?o(e,n,u):c.call(e,n,u)}})},function(t,n,r){var e=r(10),i=r(48),a=r(23),o=r(14),c=r(15),u=r(9),s=r(79),f=(r(6).Reflect||{}).construct,l=u(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),h=!u(function(){f(function(){})});e(e.S+e.F*(l||h),"Reflect",{construct:function(t,n){a(t),o(n);var r=arguments.length<3?t:a(arguments[2]);if(h&&!l)return f(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var e=[null];return e.push.apply(e,n),new(s.apply(t,e))}var u=r.prototype,p=i(c(u)?u:Object.prototype),_=Function.apply.call(t,p,n);return c(_)?_:p}})},function(t,n,r){var e=r(13),i=r(10),a=r(14),o=r(18);i(i.S+i.F*r(9)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,n,r){a(t),n=o(n,!0),a(r);try{return e.f(t,n,r),!0}catch(i){return!1}}})},function(t,n,r){var e=r(10),i=r(53).f,a=r(14);e(e.S,"Reflect",{deleteProperty:function(t,n){var r=i(a(t),n);return!(r&&!r.configurable)&&delete t[n]}})},function(t,n,r){"use strict";var e=r(10),i=r(14),a=function(t){this._t=i(t),this._i=0;var n,r=this._k=[];for(n in t)r.push(n)};r(132)(a,"Object",function(){var t,n=this,r=n._k;do if(n._i>=r.length)return{value:void 0,done:!0};while(!((t=r[n._i++])in n._t));return{value:t,done:!1}}),e(e.S,"Reflect",{enumerate:function(t){return new a(t)}})},function(t,n,r){function e(t,n){var r,c,f=arguments.length<3?t:arguments[2];return s(t)===f?t[n]:(r=i.f(t,n))?o(r,"value")?r.value:void 0!==r.get?r.get.call(f):void 0:u(c=a(t))?e(c,n,f):void 0}var i=r(53),a=r(61),o=r(7),c=r(10),u=r(15),s=r(14);c(c.S,"Reflect",{get:e})},function(t,n,r){var e=r(53),i=r(10),a=r(14);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return e.f(a(t),n)}})},function(t,n,r){var e=r(10),i=r(61),a=r(14);e(e.S,"Reflect",{getPrototypeOf:function(t){return i(a(t))}})},function(t,n,r){var e=r(10);e(e.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,r){var e=r(10),i=r(14),a=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(t){return i(t),!a||a(t)}})},function(t,n,r){var e=r(10);e(e.S,"Reflect",{ownKeys:r(245)})},function(t,n,r){var e=r(52),i=r(45),a=r(14),o=r(6).Reflect;t.exports=o&&o.ownKeys||function(t){var n=e.f(a(t)),r=i.f;return r?n.concat(r(t)):n}},function(t,n,r){var e=r(10),i=r(14),a=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(t){i(t);try{return a&&a(t),!0}catch(n){return!1}}})},function(t,n,r){function e(t,n,r){var u,h,p=arguments.length<4?t:arguments[3],_=a.f(f(t),n);if(!_){if(l(h=o(t)))return e(h,n,r,p);_=s(0)}return c(_,"value")?!(_.writable===!1||!l(p))&&(u=a.f(p,n)||s(0),u.value=r,i.f(p,n,u),!0):void 0!==_.set&&(_.set.call(p,r),!0)}var i=r(13),a=r(53),o=r(61),c=r(7),u=r(10),s=r(19),f=r(14),l=r(15);u(u.S,"Reflect",{set:e})},function(t,n,r){var e=r(10),i=r(75);i&&e(e.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(r){return!1}}})},function(t,n,r){"use strict";var e=r(10),i=r(38)(!0);e(e.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(188)("includes")},function(t,n,r){"use strict";var e=r(10),i=r(129)(!0);e(e.P,"String",{at:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(10),i=r(252);e(e.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,r){var e=r(39),i=r(93),a=r(37);t.exports=function(t,n,r,o){var c=String(a(t)),u=c.length,s=void 0===r?" ":String(r),f=e(n);if(f<=u||""==s)return c;var l=f-u,h=i.call(s,Math.ceil(l/s.length));return h.length>l&&(h=h.slice(0,l)),o?h+c:c+h}},function(t,n,r){"use strict";var e=r(10),i=r(252);e(e.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,r){"use strict";r(85)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,n,r){"use strict";r(85)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,n,r){"use strict";var e=r(10),i=r(37),a=r(39),o=r(136),c=r(198),u=RegExp.prototype,s=function(t,n){this._r=t,this._s=n};r(132)(s,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),e(e.P,"String",{matchAll:function(t){if(i(this),!o(t))throw TypeError(t+" is not a regexp!");var n=String(this),r="flags"in u?String(t.flags):c.call(t),e=new RegExp(t.source,~r.indexOf("g")?r:"g"+r);return e.lastIndex=a(t.lastIndex),new s(e,n)}})},function(t,n,r){r(29)("asyncIterator")},function(t,n,r){r(29)("observable")},function(t,n,r){var e=r(10),i=r(245),a=r(34),o=r(53),c=r(165);e(e.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,r=a(t),e=o.f,u=i(r),s={},f=0;u.length>f;)c(s,n=u[f++],e(r,n));return s}})},function(t,n,r){var e=r(10),i=r(261)(!1);e(e.S,"Object",{values:function(t){return i(t)}})},function(t,n,r){var e=r(32),i=r(34),a=r(46).f;t.exports=function(t){return function(n){for(var r,o=i(n),c=e(o),u=c.length,s=0,f=[];u>s;)a.call(o,r=c[s++])&&f.push(t?[r,o[r]]:o[r]);return f}}},function(t,n,r){var e=r(10),i=r(261)(!0);e(e.S,"Object",{entries:function(t){return i(t)}})},function(t,n,r){"use strict";var e=r(10),i=r(60),a=r(23),o=r(13);r(8)&&e(e.P+r(264),"Object",{__defineGetter__:function(t,n){o.f(i(this),t,{get:a(n),enumerable:!0,configurable:!0})}})},function(t,n,r){t.exports=r(30)||!r(9)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete r(6)[t]})},function(t,n,r){"use strict";var e=r(10),i=r(60),a=r(23),o=r(13);r(8)&&e(e.P+r(264),"Object",{__defineSetter__:function(t,n){o.f(i(this),t,{set:a(n),enumerable:!0,configurable:!0})}})},function(t,n,r){"use strict";var e=r(10),i=r(60),a=r(18),o=r(61),c=r(53).f;r(8)&&e(e.P+r(264),"Object",{__lookupGetter__:function(t){var n,r=i(this),e=a(t,!0);do if(n=c(r,e))return n.get;while(r=o(r))}})},function(t,n,r){"use strict";var e=r(10),i=r(60),a=r(18),o=r(61),c=r(53).f;r(8)&&e(e.P+r(264),"Object",{__lookupSetter__:function(t){var n,r=i(this),e=a(t,!0);do if(n=c(r,e))return n.set;while(r=o(r))}})},function(t,n,r){var e=r(10);e(e.P+e.R,"Map",{toJSON:r(269)("Map")})},function(t,n,r){var e=r(77),i=r(270);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,n,r){var e=r(208);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){var e=r(10);e(e.P+e.R,"Set",{toJSON:r(269)("Set")})},function(t,n,r){var e=r(10);e(e.S,"System",{global:r(6)})},function(t,n,r){var e=r(10),i=r(36);e(e.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,n,r){var e=r(10);e(e.S,"Math",{iaddh:function(t,n,r,e){var i=t>>>0,a=n>>>0,o=r>>>0;return a+(e>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(t,n,r){var e=r(10);e(e.S,"Math",{isubh:function(t,n,r,e){var i=t>>>0,a=n>>>0,o=r>>>0;return a-(e>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(t,n,r){var e=r(10);e(e.S,"Math",{imulh:function(t,n){var r=65535,e=+t,i=+n,a=e&r,o=i&r,c=e>>16,u=i>>16,s=(c*o>>>0)+(a*o>>>16);return c*u+(s>>16)+((a*u>>>0)+(s&r)>>16)}})},function(t,n,r){var e=r(10);e(e.S,"Math",{umulh:function(t,n){var r=65535,e=+t,i=+n,a=e&r,o=i&r,c=e>>>16,u=i>>>16,s=(c*o>>>0)+(a*o>>>16);return c*u+(s>>>16)+((a*u>>>0)+(s&r)>>>16)}})},function(t,n,r){var e=r(279),i=r(14),a=e.key,o=e.set;e.exp({defineMetadata:function(t,n,r,e){o(t,n,i(r),a(e))}})},function(t,n,r){var e=r(213),i=r(10),a=r(25)("metadata"),o=a.store||(a.store=new(r(217))),c=function(t,n,r){var i=o.get(t);if(!i){if(!r)return;o.set(t,i=new e)}var a=i.get(n);if(!a){if(!r)return;i.set(n,a=new e)}return a},u=function(t,n,r){var e=c(n,r,!1);return void 0!==e&&e.has(t)},s=function(t,n,r){var e=c(n,r,!1);return void 0===e?void 0:e.get(t)},f=function(t,n,r,e){c(r,e,!0).set(t,n)},l=function(t,n){var r=c(t,n,!1),e=[];return r&&r.forEach(function(t,n){e.push(n)}),e},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},p=function(t){i(i.S,"Reflect",t)};t.exports={store:o,map:c,has:u,get:s,set:f,keys:l,key:h,exp:p}},function(t,n,r){var e=r(279),i=r(14),a=e.key,o=e.map,c=e.store;e.exp({deleteMetadata:function(t,n){var r=arguments.length<3?void 0:a(arguments[2]),e=o(i(n),r,!1);if(void 0===e||!e["delete"](t))return!1;if(e.size)return!0;var u=c.get(n);return u["delete"](r),!!u.size||c["delete"](n)}})},function(t,n,r){var e=r(279),i=r(14),a=r(61),o=e.has,c=e.get,u=e.key,s=function(t,n,r){var e=o(t,n,r);if(e)return c(t,n,r);var i=a(n);return null!==i?s(t,i,r):void 0};e.exp({getMetadata:function(t,n){return s(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(216),i=r(270),a=r(279),o=r(14),c=r(61),u=a.keys,s=a.key,f=function(t,n){var r=u(t,n),a=c(t);if(null===a)return r;var o=f(a,n);return o.length?r.length?i(new e(r.concat(o))):o:r};a.exp({getMetadataKeys:function(t){return f(o(t),arguments.length<2?void 0:s(arguments[1]))}})},function(t,n,r){var e=r(279),i=r(14),a=e.get,o=e.key;e.exp({getOwnMetadata:function(t,n){return a(t,i(n),arguments.length<3?void 0:o(arguments[2]))}})},function(t,n,r){var e=r(279),i=r(14),a=e.keys,o=e.key;e.exp({getOwnMetadataKeys:function(t){return a(i(t),arguments.length<2?void 0:o(arguments[1]))}})},function(t,n,r){var e=r(279),i=r(14),a=r(61),o=e.has,c=e.key,u=function(t,n,r){var e=o(t,n,r);if(e)return!0;var i=a(n);return null!==i&&u(t,i,r)};e.exp({hasMetadata:function(t,n){return u(t,i(n),arguments.length<3?void 0:c(arguments[2]))}})},function(t,n,r){var e=r(279),i=r(14),a=e.has,o=e.key;e.exp({hasOwnMetadata:function(t,n){return a(t,i(n),arguments.length<3?void 0:o(arguments[2]))}})},function(t,n,r){var e=r(279),i=r(14),a=r(23),o=e.key,c=e.set;e.exp({metadata:function(t,n){return function(r,e){c(t,n,(void 0!==e?i:a)(r),o(e))}}})},function(t,n,r){var e=r(10),i=r(211)(),a=r(6).process,o="process"==r(36)(a);e(e.G,{asap:function(t){var n=o&&a.domain;i(n?n.bind(t):t)}})},function(t,n,r){"use strict";var e=r(10),i=r(6),a=r(11),o=r(211)(),c=r(27)("observable"),u=r(23),s=r(14),f=r(207),l=r(212),h=r(12),p=r(208),_=p.RETURN,v=function(t){return null==t?void 0:u(t)},d=function(t){var n=t._c;n&&(t._c=void 0,n())},y=function(t){return void 0===t._o},g=function(t){y(t)||(t._o=void 0,d(t))},m=function(t,n){s(t),this._c=void 0,this._o=t,t=new b(this);try{var r=n(t),e=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){e.unsubscribe()}:u(r),this._c=r)}catch(i){return void t.error(i)}y(this)&&d(this)};m.prototype=l({},{unsubscribe:function(){g(this)}});var b=function(t){this._s=t};b.prototype=l({},{next:function(t){var n=this._s;if(!y(n)){var r=n._o;try{var e=v(r.next);if(e)return e.call(r,t)}catch(i){try{g(n)}finally{throw i}}}},error:function(t){var n=this._s;if(y(n))throw t;var r=n._o;n._o=void 0;try{var e=v(r.error);if(!e)throw t;t=e.call(r,t)}catch(i){try{d(n)}finally{throw i}}return d(n),t},complete:function(t){var n=this._s;if(!y(n)){var r=n._o;n._o=void 0;try{var e=v(r.complete);t=e?e.call(r,t):void 0}catch(i){try{d(n)}finally{throw i}}return d(n),t}}});var M=function(t){f(this,M,"Observable","_f")._f=u(t)};l(M.prototype,{subscribe:function(t){return new m(t,this._f)},forEach:function(t){var n=this;return new(a.Promise||i.Promise)(function(r,e){u(t);var i=n.subscribe({next:function(n){try{return t(n)}catch(r){e(r),i.unsubscribe()}},error:e,complete:r})})}}),l(M,{from:function(t){var n="function"==typeof this?this:M,r=v(s(t)[c]);if(r){var e=s(r.call(t));return e.constructor===n?e:new n(function(t){return e.subscribe(t)})}return new n(function(n){var r=!1;return o(function(){if(!r){try{if(p(t,!1,function(t){if(n.next(t),r)return _})===_)return}catch(e){if(r)throw e;return void n.error(e)}n.complete()}}),function(){r=!0}})},of:function(){for(var t=0,n=arguments.length,r=Array(n);t<n;)r[t]=arguments[t++];return new("function"==typeof this?this:M)(function(t){var n=!1;return o(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),h(M.prototype,c,function(){return this}),e(e.G,{Observable:M}),r(194)("Observable")},function(t,n,r){var e=r(6),i=r(10),a=r(80),o=r(291),c=e.navigator,u=!!c&&/MSIE .\./.test(c.userAgent),s=function(t){return u?function(n,r){return t(a(o,[].slice.call(arguments,2),"function"==typeof n?n:Function(n)),r)}:t};i(i.G+i.B+i.F*u,{setTimeout:s(e.setTimeout),setInterval:s(e.setInterval)})},function(t,n,r){"use strict";var e=r(292),i=r(80),a=r(23);t.exports=function(){for(var t=a(this),n=arguments.length,r=Array(n),o=0,c=e._,u=!1;n>o;)(r[o]=arguments[o++])===c&&(u=!0);return function(){var e,a=this,o=arguments.length,s=0,f=0;if(!u&&!o)return i(t,r,a);if(e=r.slice(),u)for(;n>s;s++)e[s]===c&&(e[s]=arguments[f++]);for(;o>f;)e.push(arguments[f++]);return i(t,e,a)}}},function(t,n,r){t.exports=r(6)},function(t,n,r){var e=r(10),i=r(210);e(e.G+e.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,n,r){for(var e=r(195),i=r(20),a=r(6),o=r(12),c=r(131),u=r(27),s=u("iterator"),f=u("toStringTag"),l=c.Array,h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],p=0;p<5;p++){var _,v=h[p],d=a[v],y=d&&d.prototype;if(y){y[s]||o(y,s,l),y[f]||o(y,f,v),c[v]=l;for(_ in e)y[_]||i(y,_,e[_],!0)}}},function(t,n,r){(function(n,r){!function(n){"use strict";function e(t,n,r,e){var i=Object.create((n||a).prototype),o=new _(e||[]);return i._invoke=l(t,r,o),i}function i(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(e){return{type:"throw",arg:e}}}function a(){}function o(){}function c(){}function u(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function s(t){this.arg=t}function f(t){function n(r,e,a,o){var c=i(t[r],t,e);if("throw"!==c.type){var u=c.arg,f=u.value;return f instanceof s?Promise.resolve(f.arg).then(function(t){n("next",t,a,o)},function(t){n("throw",t,a,o)}):Promise.resolve(f).then(function(t){u.value=t,a(u)},o)}o(c.arg)}function e(t,r){function e(){return new Promise(function(e,i){n(t,r,e,i)})}return a=a?a.then(e,e):e()}"object"==typeof r&&r.domain&&(n=r.domain.bind(n));var a;this._invoke=e}function l(t,n,r){var e=S;return function(a,o){if(e===P)throw new Error("Generator is already running");if(e===A){if("throw"===a)throw o;return d()}for(;;){var c=r.delegate;if(c){if("return"===a||"throw"===a&&c.iterator[a]===y){r.delegate=null;var u=c.iterator["return"];if(u){var s=i(u,c.iterator,o);if("throw"===s.type){a="throw",o=s.arg;continue}}if("return"===a)continue}var s=i(c.iterator[a],c.iterator,o);if("throw"===s.type){r.delegate=null,a="throw",o=s.arg;continue}a="next",o=y;var f=s.arg;if(!f.done)return e=I,f;r[c.resultName]=f.value,r.next=c.nextLoc,r.delegate=null}if("next"===a)r.sent=r._sent=o;else if("throw"===a){if(e===S)throw e=A,o;r.dispatchException(o)&&(a="next",o=y)}else"return"===a&&r.abrupt("return",o);e=P;var s=i(t,n,r);if("normal"===s.type){e=r.done?A:I;var f={value:s.arg,done:r.done};if(s.arg!==O)return f;r.delegate&&"next"===a&&(o=y)}else"throw"===s.type&&(e=A,a="throw",o=s.arg)}}}function h(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function p(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function v(t){if(t){var n=t[b];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function i(){for(;++r<t.length;)if(g.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=y,i.done=!0,i};return e.next=e}}return{next:d}}function d(){return{value:y,done:!0}}var y,g=Object.prototype.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},b=m.iterator||"@@iterator",M=m.toStringTag||"@@toStringTag",x="object"==typeof t,w=n.regeneratorRuntime;if(w)return void(x&&(t.exports=w));w=n.regeneratorRuntime=x?t.exports:{},w.wrap=e;var S="suspendedStart",I="suspendedYield",P="executing",A="completed",O={},j=c.prototype=a.prototype;o.prototype=j.constructor=c,c.constructor=o,c[M]=o.displayName="GeneratorFunction",w.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===o||"GeneratorFunction"===(n.displayName||n.name))},w.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,M in t||(t[M]="GeneratorFunction")),t.prototype=Object.create(j),t},w.awrap=function(t){return new s(t)},u(f.prototype),w.async=function(t,n,r,i){var a=new f(e(t,n,r,i));return w.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},u(j),j[b]=function(){return this},j[M]="Generator",j.toString=function(){return"[object Generator]"},w.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},w.values=v,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.tryEntries.forEach(p),!t)for(var n in this)"t"===n.charAt(0)&&g.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=y)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){function n(n,e){return a.type="throw",a.arg=t,r.next=n,!!e}if(this.done)throw t;for(var r=this,e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=g.call(i,"catchLoc"),c=g.call(i,"finallyLoc");if(o&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&g.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=n,i?this.next=i.finallyLoc:this.complete(a),O},complete:function(t,n){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&n&&(this.next=n)},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),p(r),O}},"catch":function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;p(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:v(t),resultName:n,nextLoc:r},O}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this)}).call(n,function(){return this}(),r(296))},function(t,n){function r(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(n){try{return f.call(null,t,0)}catch(n){return f.call(this,t,0)}}}function a(t){if(l===clearTimeout)return clearTimeout(t);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}function o(){v&&p&&(v=!1,p.length?_=p.concat(_):d=-1,_.length&&c())}function c(){if(!v){var t=i(o);v=!0;for(var n=_.length;n;){for(p=_,_=[];++d<n;)p&&p[d].run();d=-1,n=_.length}p=null,v=!1,a(t)}}function u(t,n){this.fun=t,this.array=n}function s(){}var f,l,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(t){l=e}}();var p,_=[],v=!1,d=-1;h.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];_.push(new u(t,n)),1!==_.length||v||i(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=s,h.addListener=s,h.once=s,h.off=s,h.removeListener=s,h.removeAllListeners=s,h.emit=s,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,n,r){r(298),t.exports=r(11).RegExp.escape},function(t,n,r){var e=r(10),i=r(299)(/[\\^$*+?.()|[\]{}]/g,"\\$&");e(e.S,"RegExp",{escape:function(t){return i(t)}})},function(t,n){t.exports=function(t,n){var r=n===Object(n)?function(t){return n[t]}:n;return function(n){return String(n).replace(t,r)}}},function(t,n){"use strict";var r=Math.pow(10,-9),e=Math.pow(10,-6),i=Math.pow(10,-12),a=1,o=2.99792458*Math.pow(10,8)*a,c=2*Math.PI,u=8.854*Math.pow(10,-12);t.exports={um:e,nm:r,pm:i,c:o,e0:u,twoPI:c}},function(t,n){"use strict";function r(t){this.vertices=t,this.centroid=null,this.reflect_point=null,this.reflect_cost=null,this.expand_point=null,this.expand_cost=null,this.contract_point=null,this.contract_cost=null}r.prototype.sortByCost=function(t){this.vertices.sort(function(n,r){var e=t(n),i=t(r);return e<i?-1:e>i?1:0})},r.prototype.updateCentroid=function(t){this.sortByCost(t);var n,r=this.vertices.length-1,e=0;for(n=0;n<r;n+=1)e+=this.vertices[n];this.centroid=e/r},r.prototype.updateReflectPoint=function(t){var n=this.vertices[this.vertices.length-1];this.reflect_point=this.centroid+(this.centroid-n),this.reflect_cost=t(this.reflect_point)},r.prototype.updateExpandPoint=function(t){var n=this.vertices[this.vertices.length-1];this.expand_point=this.centroid+2*(this.centroid-n),this.expand_cost=t(this.expand_point)},r.prototype.updateContractPoint=function(t){var n=this.vertices[this.vertices.length-1];this.contract_point=this.centroid+.5*(this.centroid-n),this.contract_cost=t(this.contract_point)},r.prototype.getVertexCost=function(t,n){return"worst"===n?t(this.vertices[this.vertices.length-1]):"secondWorst"===n?t(this.vertices[this.vertices.length-2]):"best"===n?t(this.vertices[0]):void 0},r.prototype.reflect=function(){this.vertices[this.vertices.length-1]=this.reflect_point},r.prototype.expand=function(){this.vertices[this.vertices.length-1]=this.expand_point},r.prototype.contract=function(){this.vertices[this.vertices.length-1]=this.contract_point},r.prototype.reduce=function(){var t,n=this.vertices[0];for(t=1;t<this.vertices.length;t+=1)this.vertices[t]=n+.5*(this.vertices[t]-n)};var e=function(t,n,e){var i,a,o=new r([n,n+1,n+2]);for(i=0;i<e;i+=1)o.updateCentroid(t),o.updateReflectPoint(t),a=o.vertices[0],o.reflect_cost<o.getVertexCost(t,"secondWorst")&&o.reflect_cost>o.getVertexCost(t,"best")?o.reflect():o.reflect_cost<o.getVertexCost(t,"best")?(o.updateExpandPoint(t),o.expand_cost<o.reflect_cost?o.expand():o.reflect()):(o.updateContractPoint(t),o.contract_cost<o.getVertexCost(t,"worst")?o.contract():o.reduce());return a};t.exports=e},function(t,n,r){"use strict";var e=r(303),i=function(t,n){var r,e=Math.abs(t),i=Math.abs(n);return e>i?(r=i/e,e*Math.sqrt(1+r*r)):0===i?0:(r=e/i,i*Math.sqrt(1+r*r))},a=function(t,n){return n>=0?Math.abs(t):-Math.abs(t)},o=function(t){var n,r,o,c,u,s,f,l,h,p,_,v,d,y,g,m=0,b=0,M=0,x=[],w=t.length,S=t[0].length,I=e.zeros(w,S),P=[];for(r=0;r<S;++r){if(f=r+1,x[r]=M*b,b=v=M=0,r<w){for(s=r;s<w;++s)M+=Math.abs(t[s][r]);if(0!==M){for(s=r;s<w;++s)t[s][r]/=M,v+=t[s][r]*t[s][r];for(p=t[r][r],b=-a(Math.sqrt(v),p),_=p*b-v,t[r][r]=p-b,c=f;c<S;++c){for(v=0,s=r;s<w;++s)v+=t[s][r]*t[s][c];for(p=v/_,s=r;s<w;++s)t[s][c]+=p*t[s][r]}for(s=r;s<w;++s)t[s][r]*=M}}if(P[r]=M*b,b=v=M=0,r<w&&r!==S-1){for(s=f;s<S;++s)M+=Math.abs(t[r][s]);if(0!==M){for(s=f;s<S;++s)t[r][s]/=M,v+=t[r][s]*t[r][s];for(p=t[r][f],b=-a(Math.sqrt(v),p),_=p*b-v,t[r][f]=p-b,s=f;s<S;++s)x[s]=t[r][s]/_;for(c=f;c<w;++c){for(v=0,s=f;s<S;++s)v+=t[c][s]*t[r][s];for(s=f;s<S;++s)t[c][s]+=v*x[s]}for(s=f;s<S;++s)t[r][s]*=M}}m=Math.max(m,Math.abs(P[r])+Math.abs(x[r]))}for(r=S-1;r>=0;--r){if(r<S-1){if(0!==b){for(c=f;c<S;++c)I[c][r]=t[r][c]/t[r][f]/b;for(c=f;c<S;++c){for(v=0,s=f;s<S;++s)v+=t[r][s]*I[s][c];for(s=f;s<S;++s)I[s][c]+=v*I[s][r]}}for(c=f;c<S;++c)I[r][c]=I[c][r]=0}I[r][r]=1,b=x[r],f=r}for(r=Math.min(S,w)-1;r>=0;--r){for(f=r+1,b=P[r],c=f;c<S;++c)t[r][c]=0;if(0!==b){for(b=1/b,c=f;c<S;++c){for(v=0,s=f;s<w;++s)v+=t[s][r]*t[s][c];for(p=v/t[r][r]*b,s=r;s<w;++s)t[s][c]+=p*t[s][r]}for(c=r;c<w;++c)t[c][r]*=b}else for(c=r;c<w;++c)t[c][r]=0;++t[r][r]}for(s=S-1;s>=0;--s)for(o=1;o<=30;++o){for(n=!0,f=s;f>=0;--f){if(l=f-1,Math.abs(x[f])+m===m){n=!1;break}if(Math.abs(P[l])+m===m)break}if(n)for(h=0,v=1,r=f;r<=s&&(p=v*x[r],Math.abs(p)+m!==m);++r)for(b=P[r],_=i(p,b),P[r]=_,_=1/_,h=b*_,v=-p*_,c=0;c<w;++c)y=t[c][l],g=t[c][r],t[c][l]=y*h+g*v,t[c][r]=g*h-y*v;if(g=P[s],f===s){if(g<0)for(P[s]=-g,c=0;c<S;++c)I[c][s]=-I[c][s];break}if(30===o)return!1;for(d=P[f],l=s-1,y=P[l],b=x[l],_=x[s],p=((y-g)*(y+g)+(b-_)*(b+_))/(2*_*y),b=i(p,1),p=((d-g)*(d+g)+_*(y/(p+a(b,p))-_))/d,h=v=1,c=f;c<=l;++c){for(r=c+1,b=x[r],y=P[r],_=v*b,b=h*b,g=i(p,_),x[c]=g,h=p/g,v=_/g,p=d*h+b*v,b=b*h-d*v,_=y*v,y*=h,u=0;u<S;++u)d=I[u][c],g=I[u][r],I[u][c]=d*h+g*v,I[u][r]=g*h-d*v;for(g=i(p,_),P[c]=g,0!==g&&(g=1/g,h=p*g,v=_*g),p=h*b+v*y,d=h*y-v*b,u=0;u<w;++u)y=t[u][c],g=t[u][r],t[u][c]=y*h+g*v,t[u][r]=g*h-y*v}x[f]=0,x[s]=p,P[s]=d}return{U:t,W:P,V:I}};t.exports=o},function(t,n){"use strict";var r={};r.sq=function(t){return t*t};r.Sum=function(t){for(var n=0,r=t.length,e=0;e<r;e++)n+=t[e];return n},r.reverse=function(t){for(var n=new Float64Array(t.length),r=t.length,e=0;e<r;e++)n[e]=t[r-1-e];return n},r.Transpose=function(t,n){for(var r=new Float64Array(n*n),e=t.length,i=0;i<e;i++){var a=i%n,o=Math.floor(i/n);r[a*n+o]=t[i]}return r},r.AntiTranspose=function(t,n){for(var r=new Float64Array(n*n),e=t.length,i=0;i<e;i++){var a=i%n,o=Math.floor(i/n);r[(n-1-a)*n+(n-1-o)]=t[i];
}return r},r.linspace=function(t,n,r){for(var e=new Float64Array(r),i=(n-t)/(r-1),a=0;a<r;a++)e[a]=t+a*i;return e},r.create_2d_array=function(t,n,r){for(var e=[],i=0,a=0;a<r;a++){for(var o=new Float64Array(n),c=0;c<n;c++)o[c]=t[i],i+=1;e[a]=o}return e},r.create_2d_array_view=function(t,n,r){var e=[];if(!t.buffer||!t.buffer.byteLength)return null;for(var i=0;i<r;i++)e[i]=new Float64Array(t.buffer,16*i,n);return e},r.zeros=function(t,n){for(var r=[],e=0;e<n;e++){for(var i=new Float64Array(t),a=0;a<t;a++)i[a]=0;r[e]=i}return r},r.normalize=function(t){for(var n=Math.max.apply(null,t),r=t.length,e=0;e<r;e++)t[e]=t[e]/n;return t},r.normalizeToVal=function(t,n){for(var r=t.length,e=0;e<r;e++)t[e]=t[e]/n;return t},r.max=function(t){for(var n,r=t.length,e=-1*(1/0);r--;)n=t[r],e<n&&(e=n);return e},r.NintegrateWeights=function(t){var n=new Array(t+1);n[0]=1,n[t]=1;for(var r=1;r<t;r++)r%2===0?n[r]=2:n[r]=4;return n},r.Nintegrate2arg=function(t,n,r,e,i,a){e=(r-n)/i;for(var o=0,c=0,u=0;u<i+1;u++){var s=t(n+u*e);o+=s[0]*a[u],c+=s[1]*a[u]}return[o*e/3,c*e/3]},r.Nintegrate=function(t,n,r,e){e%2!==0&&(e+=1);var i=new Array(e+1);i[0]=1,i[e]=1;for(var a=1;a<e;a++)a%2===0?i[a]=2:i[a]=4;for(var o=(r-n)/e,c=0,u=0;u<e+1;u++)c+=t(n+u*o)*i[u];return c*o/3},r.Nintegrate2DWeights=function(t){t%2!==0&&(t+=1);var n=new Array(t+1);n[0]=1,n[t]=1;for(var r=1;r<t;r++)r%2===0?n[r]=2:n[r]=4;return n},r.Nintegrate2D=function(t,n,r,e,i,a,o){var c;if(a%2!==0&&(a+=1),null===o||void 0===o){c=new Array(a+1),c[0]=1,c[a]=1;for(var u=1;u<a;u++)u%2===0?c[u]=2:c[u]=4}else c=o;for(var s=(r-n)/a,f=(i-e)/a,l=0,h=0;h<a+1;h++)for(var p=0;p<a+1;p++)l+=t(n+h*s,e+p*f)*c[h]*c[p];return l*s*f/9},r.Nintegrate2DModeSolver=function(t,n,r,e,i,a,o){for(var c=o,u=(r-n)/a,s=(i-e)/a,f=0,l=0,h=0,p=0;p<a+1;p++)for(var _=0;_<a+1;_++)h=t(n+p*u,e+_*s),f+=h[0]*c[p]*c[_],l+=h[1]*c[p]*c[_];return[f*u*s/9,l*u*s/9]},r.Nintegrate2DWeights_3_8=function(t){var n=new Array(t+1);n[0]=1,n[t+1]=1;for(var r=1;r<t+1;r++)r%3===0?n[r]=2:n[r]=3;return n},r.Nintegrate2D_3_8=function(t,n,e,i,a,o,c){var u;u=null===c||void 0===c?r.Nintegrate2DWeights_3_8(o):c;for(var s=(e-n)/o,f=(a-i)/o,l=0,h=0;h<o+2;h++)for(var p=0;p<o+2;p++)l+=t(n+h*s,i+p*f)*u[h]*u[p];return l*s*f*9/64},r.Nintegrate2D_3_8_singles=function(t,n,r,e,i,a,o,c){for(var u=c,s=(e-r)/o,f=(a-i)/o,l=0,h=0,p=s*f*9/64,_=0;_<o+2;_++)for(var v=r+_*s,d=n(v),y=0;y<o+2;y++){var g=i+y*f,m=t(v,g,d),b=u[_]*u[y];l+=m[0]*b,h+=m[1]*b}return[l*p,h*p]},r.RiemannSum2D=function(t,n,r,e,i,a){for(var o=(r-n)/a,c=(i-e)/a,u=0,s=0;s<a;s++)for(var f=0;f<a;f++)u+=t(n+s*o,e+f*c);return u*o*c},r.cmultiplyR=function(t,n,r,e){return t*r-n*e},r.cmultiplyI=function(t,n,r,e){return t*e+n*r},r.cdivideR=function(t,n,r,e){return(t*r+n*e)/(r*r+e*e)},r.cdivideI=function(t,n,r,e){return(n*r-t*e)/(r*r+e*e)},r.caddR=function(t,n,r,e){return t+r},r.caddI=function(t,n,r,e){return n+e},r.csqrtR=function(t,n){var r=Math.sqrt(t*t+n*n),e=t+r,i=e/Math.sqrt(2*e);return i},r.csqrtI=function(t,n){var r=Math.sqrt(t*t+n*n),e=t+r,i=n/Math.sqrt(2*e);return i},r.csqrt=function(t,n){var r=Math.sqrt(t*t+n*n),e=t+r,i=n/Math.sqrt(2*e),a=e/Math.sqrt(2*e);return[a,i]},r.sign=function(t){return"number"==typeof t?t?t<0?-1:1:t===t?0:NaN:NaN},t.exports=r},function(t,n,r){"use strict";var e={},i=r(305),a=r(303).sq,o={name:"Unnamed Crystal",temp:20,info:"",indicies:function(){return[1,1,1]}},c=function(t,n){if(!t)return null;if(!(n||t in e))throw'Crystal type "'+t+" not yet defined.";if(n){if(t in e)throw'Crystal type "'+t+" already defined.";e[t]=Object.assign({},o,n,{id:t})}return i(e[t])};c.keys=function(){return Object.keys(e)},c("BBO-1",{name:"BBO ref 1",indicies:function(t,n){t=1e6*t;var r=a(t),e=Math.sqrt(2.7359+.01878/(r-.01822)-.01354*r),i=Math.sqrt(2.3753+.01224/(r-.01667)-.01516*r),o=-93e-7,c=-166e-7;return e+=(n-20)*o,i+=(n-20)*c,[e,e,i]}}),c("KTP-3",{name:"KTP ref 1",info:'Includes Franco Wong"s modificatin.  http://dx.doi.org/10.1063/1.1668320, http://www.redoptronics.com/KTP-crystal.html',indicies:function(t,n){t=1e6*t;var r,e=a(t),i=Math.sqrt(2.10468+.89342*e/(e-.04438)-.01036*e);r=t<1.2?Math.sqrt(2.14559+.87629*e/(e-.0485)-.01173*e):Math.sqrt(2.0993+.922683*e/(e-.0467695)-.0138408*e);var o=Math.sqrt(1.9446+1.3617*e/(e-.047)-.01491*e),c=11e-6,u=13e-6,s=16e-6;return i+=(n-20)*c,r+=(n-20)*u,o+=(n-20)*s,[i,r,o]}}),c("BiBO-1",{name:"BiBO ref 1",info:"http://www.newlightphotonics.com/bibo-properties.html",indicies:function(t,n){t=1e6*t;var r=a(t),e=Math.sqrt(3.074+.0323/(r-.0316)-.01337*r),i=Math.sqrt(3.1685+.0373/(r-.0346)-.0175*r),o=Math.sqrt(3.6545+.0511/(r-.0371)-.0226*r);return[e,i,o]}}),c("LiNbO3-1",{name:"LiNbO3 ref 1",info:"http://www.newlightphotonics.com/bibo-properties.html",type:"Negative Uniaxial",cls:"class_3m",lambda_min:.4*1e-9,lambda_max:3.4*1e-9,indicies:function(t,n){t=1e6*t;var r=a(t),e=Math.sqrt(4.9048-.11768/(.0475-r)-.027169*r),i=e,o=Math.sqrt(4.582-.099169/(.044432-r)-.02195*r),c=-8.74e-7,u=c,s=39073e-9;return e+=(n-20)*c,i+=(n-20)*u,o+=(n-20)*s,[e,i,o]}}),c("LiNB-MgO",{name:"LiNbO3 (5% MgO doped)",info:"Applied Physics B May 2008,Volume 91,Issue 2,pp 343-348",type:"",cls:"",lambda_min:4.4e-7,lambda_max:4e3*1e-9,indicies:function(t,n){t=1e6*t;var r=(n-24.5)*(n+570.82),e=5.756,i=.0983,o=.202,c=189.32,u=12.52,s=.0132,f=286e-8,l=4.7e-8,h=6.113e-8,p=1516e-7,_=t*t,v=Math.sqrt(e+f*r+(i+l*r)/(_-a(o+h*r))+(c+p*r)/(_-a(u))-s*_);e=5.653,i=.1185,o=.2091,c=89.61,u=10.85,s=.0197,f=7.941e-7,l=3.134e-8,h=-4.641e-9,p=-2188e-9;var d=Math.sqrt(e+f*r+(i+l*r)/(_-a(o+h*r))+(c+p*r)/(_-a(u))-s*_),y=d;return[d,y,v]}}),c("KDP-1",{name:"KDP ref 1",info:"http://www.newlightphotonics.com/KDP-crystal.html",type:"Negative Uniaxial",cls:"class_3m",lambda_min:200*1e-9,lambda_max:15e-7,indicies:function(t,n){t=1e6*t;var r=a(t),e=Math.sqrt(2.259276+13.005522*r/(r-400)+.01008956/(r-.012942625)),i=e,o=Math.sqrt(2.132668+3.2279924*r/(r-400)+.008637494/(r-.012281043)),c=-8.74e-7,u=c,s=39073e-9;return e+=(n-20)*c,i+=(n-20)*u,o+=(n-20)*s,[e,i,o]}}),c("AgGaSe2-1",{name:"AgGaSe2 Ref 1",info:"H. Kildal, J. Mikkelsen, Opt. Commun. 9, 315 (1973)",type:"",cls:"",lambda_min:1e3*1e-9,lambda_max:13500*1e-9,indicies:function(t,n){t=1e6*t;var r=Math.sqrt(3.9362+2.9113/(1-a(.38821/t))+1.7954/(1-a(40/t))),e=r,i=Math.sqrt(3.3132+3.3616/(1-a(.38201/t))+1.7677/(1-a(40/t))),o=15e-5,c=o,u=15e-5;return r+=(n-20)*o,e+=(n-20)*c,i+=(n-20)*u,[r,e,i]}}),c("AgGaSe2-2",{name:"AgGaSe2 Ref 2",info:"G. C. Bhar, Appl. Opt., 15, 305 (1976)",type:"",cls:"",lambda_min:1e3*1e-9,lambda_max:13500*1e-9,indicies:function(t,n){t=1e6*t;var r=Math.sqrt(4.6453+2.2057/(1-a(.43347/t))+1.8377/(1-a(40/t))),e=r,i=Math.sqrt(5.2912+1.397/(1-a(.53339/t))+1.9282/(1-a(40/t))),o=15e-5,c=o,u=15e-5;return r+=(n-20)*o,e+=(n-20)*c,i+=(n-20)*u,[r,e,i]}}),c("AgGaS2-1",{name:"AgGaS2 Ref 1",info:"G. C. Bhar, Appl. Opt., 15, 305 (1976)",type:"",cls:"",lambda_min:500*1e-9,lambda_max:13e3*1e-9,indicies:function(t,n){t=1e6*t;var r=a(t),e=Math.sqrt(3.628+2.1686*r/(r-.1003)+2.1753*r/(r-950)),i=e,o=Math.sqrt(4.0172+1.5274*r/(r-.131)+2.1699*r/(r-950)),c=154e-6,u=c,s=155e-6;return e+=(n-20)*c,i+=(n-20)*u,o+=(n-20)*s,[e,i,o]}}),c("LiIO3-1",{name:"LiIO3 Ref 1",info:"B. F. Levine, C. G. Bethea: Appl. Phys. Lett. 20, 272 (1972)",type:"Negative Uniaxial",cls:"Class 6",lambda_min:300*1e-9,lambda_max:5e-6,indicies:function(t,n){t=1e6*t;var r=a(t),e=Math.sqrt(2.03132+1.37623/(1-.0350832/r)+1.06745/(1-169/r)),i=e,o=Math.sqrt(1.83086+1.08807/(1-.031381/r)+.554582/(1-158.76/r));return[e,i,o]}}),c("LiIO3-2",{name:"LiIO3 Ref 2",info:"K. Takizawa, M. Okada, S. Leiri, Opt. Commun., 23, 279 (1977)",type:"Negative Uniaxial",cls:"Class 6",lambda_min:300*1e-9,lambda_max:5e-6,indicies:function(t,n){t=1e6*t;var r=a(t),e=Math.sqrt(3.4095+.047664/(r-.033991)),i=e,o=Math.sqrt(2.9163+.034514/(r-.031034));return[e,i,o]}}),t.exports=c},function(t,n,r){function e(t){return i(t,!0,!0)}var i=r(306);t.exports=e},function(t,n,r){function e(t,n,r,M,x,w,S){var A;if(M&&(A=w?M(t,x,w,S):M(t)),void 0!==A)return A;if(!g(t))return t;var O=d(t);if(O){if(A=p(t),!n)return s(t,A)}else{var T=h(t),R=T==I||T==P;if(y(t))return u(t,n);if(T==j||T==b||R&&!w){if(A=v(R?{}:t),!n)return f(t,c(A,t))}else{if(!H[T])return w?t:{};A=_(t,T,e,n)}}S||(S=new i);var F=S.get(t);if(F)return F;S.set(t,A);var E=O?void 0:(r?l:m)(t);return a(E||t,function(i,a){E&&(a=i,i=t[a]),o(A,a,e(i,n,r,M,a,t,S))}),A}var i=r(307),a=r(347),o=r(348),c=r(351),u=r(374),s=r(375),f=r(376),l=r(379),h=r(382),p=r(388),_=r(389),v=r(404),d=r(359),y=r(360),g=r(325),m=r(353),b="[object Arguments]",M="[object Array]",x="[object Boolean]",w="[object Date]",S="[object Error]",I="[object Function]",P="[object GeneratorFunction]",A="[object Map]",O="[object Number]",j="[object Object]",T="[object RegExp]",R="[object Set]",F="[object String]",E="[object Symbol]",L="[object WeakMap]",N="[object ArrayBuffer]",W="[object DataView]",k="[object Float32Array]",z="[object Float64Array]",C="[object Int8Array]",q="[object Int16Array]",D="[object Int32Array]",J="[object Uint8Array]",U="[object Uint8ClampedArray]",B="[object Uint16Array]",G="[object Uint32Array]",H={};H[b]=H[M]=H[N]=H[W]=H[x]=H[w]=H[k]=H[z]=H[C]=H[q]=H[D]=H[A]=H[O]=H[j]=H[T]=H[R]=H[F]=H[E]=H[J]=H[U]=H[B]=H[G]=!0,H[S]=H[I]=H[L]=!1,t.exports=e},function(t,n,r){function e(t){var n=this.__data__=new i(t);this.size=n.size}var i=r(308),a=r(316),o=r(317),c=r(318),u=r(319),s=r(320);e.prototype.clear=a,e.prototype["delete"]=o,e.prototype.get=c,e.prototype.has=u,e.prototype.set=s,t.exports=e},function(t,n,r){function e(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}var i=r(309),a=r(310),o=r(313),c=r(314),u=r(315);e.prototype.clear=i,e.prototype["delete"]=a,e.prototype.get=o,e.prototype.has=c,e.prototype.set=u,t.exports=e},function(t,n){function r(){this.__data__=[],this.size=0}t.exports=r},function(t,n,r){function e(t){var n=this.__data__,r=i(n,t);if(r<0)return!1;var e=n.length-1;return r==e?n.pop():o.call(n,r,1),--this.size,!0}var i=r(311),a=Array.prototype,o=a.splice;t.exports=e},function(t,n,r){function e(t,n){for(var r=t.length;r--;)if(i(t[r][0],n))return r;return-1}var i=r(312);t.exports=e},function(t,n){function r(t,n){return t===n||t!==t&&n!==n}t.exports=r},function(t,n,r){function e(t){var n=this.__data__,r=i(n,t);return r<0?void 0:n[r][1]}var i=r(311);t.exports=e},function(t,n,r){function e(t){return i(this.__data__,t)>-1}var i=r(311);t.exports=e},function(t,n,r){function e(t,n){var r=this.__data__,e=i(r,t);return e<0?(++this.size,r.push([t,n])):r[e][1]=n,this}var i=r(311);t.exports=e},function(t,n,r){function e(){this.__data__=new i,this.size=0}var i=r(308);t.exports=e},function(t,n){function r(t){var n=this.__data__,r=n["delete"](t);return this.size=n.size,r}t.exports=r},function(t,n){function r(t){return this.__data__.get(t)}t.exports=r},function(t,n){function r(t){return this.__data__.has(t)}t.exports=r},function(t,n,r){function e(t,n){var r=this.__data__;if(r instanceof i){var e=r.__data__;if(!a||e.length<c-1)return e.push([t,n]),this.size=++r.size,this;r=this.__data__=new o(e)}return r.set(t,n),this.size=r.size,this}var i=r(308),a=r(321),o=r(332),c=200;t.exports=e},function(t,n,r){var e=r(322),i=r(328),a=e(i,"Map");t.exports=a},function(t,n,r){function e(t,n){var r=a(t,n);return i(r)?r:void 0}var i=r(323),a=r(331);t.exports=e},function(t,n,r){function e(t){if(!o(t)||a(t))return!1;var n=i(t)?_:s;return n.test(c(t))}var i=r(324),a=r(326),o=r(325),c=r(330),u=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,f=Function.prototype,l=Object.prototype,h=f.toString,p=l.hasOwnProperty,_=RegExp("^"+h.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=e},function(t,n,r){function e(t){var n=i(t)?s.call(t):"";return n==a||n==o||n==c}var i=r(325),a="[object Function]",o="[object GeneratorFunction]",c="[object Proxy]",u=Object.prototype,s=u.toString;t.exports=e},function(t,n){function r(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}t.exports=r},function(t,n,r){function e(t){return!!a&&a in t}var i=r(327),a=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=e},function(t,n,r){var e=r(328),i=e["__core-js_shared__"];t.exports=i},function(t,n,r){var e=r(329),i="object"==typeof self&&self&&self.Object===Object&&self,a=e||i||Function("return this")();t.exports=a},function(t,n){(function(n){var r="object"==typeof n&&n&&n.Object===Object&&n;t.exports=r}).call(n,function(){return this}())},function(t,n){function r(t){if(null!=t){try{return i.call(t)}catch(n){}try{return t+""}catch(n){}}return""}var e=Function.prototype,i=e.toString;t.exports=r},function(t,n){function r(t,n){return null==t?void 0:t[n]}t.exports=r},function(t,n,r){function e(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}var i=r(333),a=r(341),o=r(344),c=r(345),u=r(346);e.prototype.clear=i,e.prototype["delete"]=a,e.prototype.get=o,e.prototype.has=c,e.prototype.set=u,t.exports=e},function(t,n,r){function e(){this.size=0,this.__data__={hash:new i,map:new(o||a),string:new i}}var i=r(334),a=r(308),o=r(321);t.exports=e},function(t,n,r){function e(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}var i=r(335),a=r(337),o=r(338),c=r(339),u=r(340);e.prototype.clear=i,e.prototype["delete"]=a,e.prototype.get=o,e.prototype.has=c,e.prototype.set=u,t.exports=e},function(t,n,r){function e(){this.__data__=i?i(null):{},this.size=0}var i=r(336);t.exports=e},function(t,n,r){var e=r(322),i=e(Object,"create");t.exports=i},function(t,n){function r(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}t.exports=r},function(t,n,r){function e(t){var n=this.__data__;if(i){var r=n[t];return r===a?void 0:r}return c.call(n,t)?n[t]:void 0}var i=r(336),a="__lodash_hash_undefined__",o=Object.prototype,c=o.hasOwnProperty;t.exports=e},function(t,n,r){function e(t){var n=this.__data__;return i?void 0!==n[t]:o.call(n,t)}var i=r(336),a=Object.prototype,o=a.hasOwnProperty;t.exports=e},function(t,n,r){function e(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=i&&void 0===n?a:n,this}var i=r(336),a="__lodash_hash_undefined__";t.exports=e},function(t,n,r){function e(t){var n=i(this,t)["delete"](t);return this.size-=n?1:0,n}var i=r(342);t.exports=e},function(t,n,r){function e(t,n){var r=t.__data__;return i(n)?r["string"==typeof n?"string":"hash"]:r.map}var i=r(343);t.exports=e},function(t,n){function r(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}t.exports=r},function(t,n,r){function e(t){return i(this,t).get(t)}var i=r(342);t.exports=e},function(t,n,r){function e(t){return i(this,t).has(t)}var i=r(342);t.exports=e},function(t,n,r){function e(t,n){var r=i(this,t),e=r.size;return r.set(t,n),this.size+=r.size==e?0:1,this}var i=r(342);t.exports=e},function(t,n){function r(t,n){for(var r=-1,e=t?t.length:0;++r<e&&n(t[r],r,t)!==!1;);return t}t.exports=r},function(t,n,r){function e(t,n,r){var e=t[n];c.call(t,n)&&a(e,r)&&(void 0!==r||n in t)||i(t,n,r)}var i=r(349),a=r(312),o=Object.prototype,c=o.hasOwnProperty;t.exports=e},function(t,n,r){function e(t,n,r){"__proto__"==n&&i?i(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}var i=r(350);t.exports=e},function(t,n,r){var e=r(322),i=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(n){}}();t.exports=i},function(t,n,r){function e(t,n){return t&&i(n,a(n),t)}var i=r(352),a=r(353);t.exports=e},function(t,n,r){function e(t,n,r,e){var o=!r;r||(r={});for(var c=-1,u=n.length;++c<u;){var s=n[c],f=e?e(r[s],t[s],s,r,t):void 0;void 0===f&&(f=t[s]),o?a(r,s,f):i(r,s,f)}return r}var i=r(348),a=r(349);t.exports=e},function(t,n,r){function e(t){return o(t)?i(t):a(t)}var i=r(354),a=r(369),o=r(373);t.exports=e},function(t,n,r){function e(t,n){var r=o(t),e=!r&&a(t),f=!r&&!e&&c(t),h=!r&&!e&&!f&&s(t),p=r||e||f||h,_=p?i(t.length,String):[],v=_.length;for(var d in t)!n&&!l.call(t,d)||p&&("length"==d||f&&("offset"==d||"parent"==d)||h&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||u(d,v))||_.push(d);return _}var i=r(355),a=r(356),o=r(359),c=r(360),u=r(363),s=r(364),f=Object.prototype,l=f.hasOwnProperty;t.exports=e},function(t,n){function r(t,n){for(var r=-1,e=Array(t);++r<t;)e[r]=n(r);return e}t.exports=r},function(t,n,r){var e=r(357),i=r(358),a=Object.prototype,o=a.hasOwnProperty,c=a.propertyIsEnumerable,u=e(function(){return arguments}())?e:function(t){return i(t)&&o.call(t,"callee")&&!c.call(t,"callee")};t.exports=u},function(t,n,r){function e(t){return i(t)&&c.call(t)==a}var i=r(358),a="[object Arguments]",o=Object.prototype,c=o.toString;t.exports=e},function(t,n){function r(t){return null!=t&&"object"==typeof t}t.exports=r},function(t,n){var r=Array.isArray;t.exports=r},function(t,n,r){(function(t){var e=r(328),i=r(362),a="object"==typeof n&&n&&!n.nodeType&&n,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,c=o&&o.exports===a,u=c?e.Buffer:void 0,s=u?u.isBuffer:void 0,f=s||i;t.exports=f}).call(n,r(361)(t))},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,n){function r(){return!1}t.exports=r},function(t,n){function r(t,n){return n=null==n?e:n,!!n&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<n}var e=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=r},function(t,n,r){var e=r(365),i=r(367),a=r(368),o=a&&a.isTypedArray,c=o?i(o):e;t.exports=c},function(t,n,r){function e(t){return a(t)&&i(t.length)&&!!T[F.call(t)]}var i=r(366),a=r(358),o="[object Arguments]",c="[object Array]",u="[object Boolean]",s="[object Date]",f="[object Error]",l="[object Function]",h="[object Map]",p="[object Number]",_="[object Object]",v="[object RegExp]",d="[object Set]",y="[object String]",g="[object WeakMap]",m="[object ArrayBuffer]",b="[object DataView]",M="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",S="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",A="[object Uint8ClampedArray]",O="[object Uint16Array]",j="[object Uint32Array]",T={};T[M]=T[x]=T[w]=T[S]=T[I]=T[P]=T[A]=T[O]=T[j]=!0,T[o]=T[c]=T[m]=T[u]=T[b]=T[s]=T[f]=T[l]=T[h]=T[p]=T[_]=T[v]=T[d]=T[y]=T[g]=!1;var R=Object.prototype,F=R.toString;t.exports=e},function(t,n){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}var e=9007199254740991;t.exports=r},function(t,n){function r(t){return function(n){return t(n)}}t.exports=r},function(t,n,r){(function(t){var e=r(329),i="object"==typeof n&&n&&!n.nodeType&&n,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===i,c=o&&e.process,u=function(){try{return c&&c.binding("util")}catch(t){}}();t.exports=u}).call(n,r(361)(t))},function(t,n,r){function e(t){if(!i(t))return a(t);var n=[];for(var r in Object(t))c.call(t,r)&&"constructor"!=r&&n.push(r);return n}var i=r(370),a=r(371),o=Object.prototype,c=o.hasOwnProperty;t.exports=e},function(t,n){function r(t){var n=t&&t.constructor,r="function"==typeof n&&n.prototype||e;return t===r}var e=Object.prototype;t.exports=r},function(t,n,r){var e=r(372),i=e(Object.keys,Object);t.exports=i},function(t,n){function r(t,n){return function(r){return t(n(r))}}t.exports=r},function(t,n,r){function e(t){return null!=t&&a(t.length)&&!i(t)}var i=r(324),a=r(366);t.exports=e},function(t,n,r){(function(t){function e(t,n){if(n)return t.slice();var r=t.length,e=s?s(r):new t.constructor(r);return t.copy(e),e}var i=r(328),a="object"==typeof n&&n&&!n.nodeType&&n,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,c=o&&o.exports===a,u=c?i.Buffer:void 0,s=u?u.allocUnsafe:void 0;t.exports=e}).call(n,r(361)(t))},function(t,n){function r(t,n){var r=-1,e=t.length;for(n||(n=Array(e));++r<e;)n[r]=t[r];return n}t.exports=r},function(t,n,r){function e(t,n){return i(t,a(t),n)}var i=r(352),a=r(377);t.exports=e},function(t,n,r){var e=r(372),i=r(378),a=Object.getOwnPropertySymbols,o=a?e(a,Object):i;t.exports=o},function(t,n){function r(){return[]}t.exports=r},function(t,n,r){function e(t){return i(t,o,a)}var i=r(380),a=r(377),o=r(353);t.exports=e},function(t,n,r){function e(t,n,r){var e=n(t);return a(t)?e:i(e,r(t))}var i=r(381),a=r(359);t.exports=e},function(t,n){function r(t,n){for(var r=-1,e=n.length,i=t.length;++r<e;)t[i+r]=n[r];return t}t.exports=r},function(t,n,r){var e=r(383),i=r(321),a=r(384),o=r(385),c=r(386),u=r(387),s=r(330),f="[object Map]",l="[object Object]",h="[object Promise]",p="[object Set]",_="[object WeakMap]",v="[object DataView]",d=Object.prototype,y=d.toString,g=s(e),m=s(i),b=s(a),M=s(o),x=s(c),w=u;(e&&w(new e(new ArrayBuffer(1)))!=v||i&&w(new i)!=f||a&&w(a.resolve())!=h||o&&w(new o)!=p||c&&w(new c)!=_)&&(w=function(t){var n=y.call(t),r=n==l?t.constructor:void 0,e=r?s(r):void 0;if(e)switch(e){case g:return v;case m:return f;case b:return h;case M:return p;case x:return _}return n}),t.exports=w},function(t,n,r){var e=r(322),i=r(328),a=e(i,"DataView");t.exports=a},function(t,n,r){var e=r(322),i=r(328),a=e(i,"Promise");t.exports=a},function(t,n,r){var e=r(322),i=r(328),a=e(i,"Set");t.exports=a},function(t,n,r){var e=r(322),i=r(328),a=e(i,"WeakMap");t.exports=a},function(t,n){function r(t){return i.call(t)}var e=Object.prototype,i=e.toString;t.exports=r},function(t,n){function r(t){var n=t.length,r=t.constructor(n);return n&&"string"==typeof t[0]&&i.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var e=Object.prototype,i=e.hasOwnProperty;t.exports=r},function(t,n,r){function e(t,n,r,e){var T=t.constructor;switch(n){case m:return i(t);case l:case h:return new T((+t));case b:return a(t,e);case M:case x:case w:case S:case I:case P:case A:case O:case j:return f(t,e);case p:return o(t,e,r);case _:case y:return new T(t);case v:return c(t);case d:return u(t,e,r);case g:return s(t)}}var i=r(390),a=r(392),o=r(393),c=r(397),u=r(398),s=r(401),f=r(403),l="[object Boolean]",h="[object Date]",p="[object Map]",_="[object Number]",v="[object RegExp]",d="[object Set]",y="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",b="[object DataView]",M="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",S="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",A="[object Uint8ClampedArray]",O="[object Uint16Array]",j="[object Uint32Array]";t.exports=e},function(t,n,r){function e(t){var n=new t.constructor(t.byteLength);return new i(n).set(new i(t)),n}var i=r(391);t.exports=e},function(t,n,r){var e=r(328),i=e.Uint8Array;t.exports=i},function(t,n,r){function e(t,n){var r=n?i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var i=r(390);t.exports=e},function(t,n,r){function e(t,n,r){var e=n?r(o(t),!0):o(t);return a(e,i,new t.constructor)}var i=r(394),a=r(395),o=r(396);t.exports=e},function(t,n){function r(t,n){return t.set(n[0],n[1]),t}t.exports=r},function(t,n){function r(t,n,r,e){var i=-1,a=t?t.length:0;for(e&&a&&(r=t[++i]);++i<a;)r=n(r,t[i],i,t);return r}t.exports=r},function(t,n){function r(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}t.exports=r},function(t,n){function r(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}var e=/\w*$/;t.exports=r},function(t,n,r){function e(t,n,r){var e=n?r(o(t),!0):o(t);return a(e,i,new t.constructor)}var i=r(399),a=r(395),o=r(400);t.exports=e},function(t,n){function r(t,n){return t.add(n),t}t.exports=r},function(t,n){function r(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=t}),r}t.exports=r},function(t,n,r){function e(t){return o?Object(o.call(t)):{}}var i=r(402),a=i?i.prototype:void 0,o=a?a.valueOf:void 0;t.exports=e},function(t,n,r){var e=r(328),i=e.Symbol;t.exports=i},function(t,n,r){function e(t,n){var r=n?i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var i=r(390);t.exports=e},function(t,n,r){function e(t){return"function"!=typeof t.constructor||o(t)?{}:i(a(t))}var i=r(405),a=r(406),o=r(370);t.exports=e},function(t,n,r){var e=r(325),i=Object.create,a=function(){function t(){}return function(n){if(!e(n))return{};if(i)return i(n);t.prototype=n;var r=new t;return t.prototype=void 0,r}}();t.exports=a},function(t,n,r){var e=r(372),i=e(Object.getPrototypeOf,Object);t.exports=i},function(t,n,r){"use strict";t.exports={};var e=r(300),i=r(303),a=i.sq,o=r(408),c=(r(409),r(302)),u=r(301),s=r(431);t.exports.calc_delK=function(t){var n=2*Math.PI,r=t.n_p,e=t.n_s,i=t.n_i,a=Math.sin(t.theta_s),o=Math.sin(t.theta_i),c=1/t.lambda_s,u=1/t.lambda_i,s=[a*Math.cos(t.phi_s),a*Math.sin(t.phi_s),Math.cos(t.theta_s)],f=[o*Math.cos(t.phi_i),o*Math.sin(t.phi_i),Math.cos(t.theta_i)],l=n*(e*s[0]*c+i*f[0]*u),h=n*(e*s[1]*c+i*f[1]*u),p=n*(r/t.lambda_p-e*s[2]*c-i*f[2]*u);return t.enable_pp&&(p-=n/(t.poling_period*t.poling_sign)),[l,h,p]},t.exports.calc_PM_tz=function(n){var r=n.lambda_p,e=n.n_p;n.lambda_p=1/(1/n.lambda_s+1/n.lambda_i),n.n_p=n.calc_Index_PMType(n.lambda_p,n.type,n.S_p,"pump");var o=t.exports.calc_delK(n);n.lambda_p=r,n.n_p=e;var c,u,s=n.L/2*o[2],f=0,l=0,h=1*Math.sqrt(2);n.calcfibercoupling?(c=n.W_sx,u=n.W_ix):(c=Math.pow(2,20),u=Math.pow(2,20));var p=a(n.W*h),_=a(c*h),v=a(u*h),d=Math.cos(2*n.theta_s),y=Math.cos(2*n.theta_i),g=Math.cos(2*n.phi_s),m=Math.cos(n.theta_s),b=Math.cos(n.theta_i),M=Math.cos(n.phi_s),x=Math.sin(2*n.theta_s),w=Math.sin(2*n.theta_i),S=Math.sin(2*n.phi_s),I=Math.sin(n.theta_s),P=Math.sin(n.theta_i),A=Math.sin(n.phi_s),O=Math.cos(2*(n.theta_i-n.phi_s)),j=Math.cos(2*(n.theta_s-n.phi_s)),T=Math.cos(2*(n.theta_s+n.phi_s)),R=Math.cos(2*(n.theta_i+n.phi_s)),F=(Math.cos(2*(n.theta_i+n.theta_s)),Math.sin(2*(n.theta_i+n.theta_s)),Math.sin(n.theta_i+n.theta_s)),E=n.walkoff_p;E=-E;var L,N,W,k,z,C,q=(6+2*y+O-2*g+R)*a(o[0]),D=8*a(P)*S*o[0]*o[1],J=(6+2*y-O+2*g-R)*a(o[1]),U=q+D+J,B=8*(a(o[0])+a(o[1])),G=(6+2*d+j+T-2*g)*a(o[0]),H=8*a(P)*S*o[0]*o[1],V=(6+2*d-j-T+2*g)*a(o[1]),K=G+H+V,Y=(8*_*(a(o[0])+a(o[1])),2*n.n_i*Math.PI/n.lambda_i),X=2*n.n_s*Math.PI/n.lambda_s,$=2*n.n_p*Math.PI/n.lambda_p,Z=4*(w*A*o[0]+M*w*o[1]+2*a(b)*o[2]),Q=4*((w-x)*A*o[0]+M*(w-x)*o[1]+(2+y+d)*o[2]),tt=4*(3+y)*o[2]+o[0]*(4*w*A+(6+2*y+O-2*g+R)*E)+8*M*P*o[1]*(b+P*A*E),nt=-4*(x*A*o[0]+M*x*o[1]-2*a(m)*o[2]),rt=8*(o[2]+o[1]*E),et=4*(3+d)*o[2]+o[0]*(-4*x*A+(6+2*d+j-2*g+T)*E)+8*M*I*o[1]*(-m+I*A*E),it=(a(F)*p+_*(a(P)-w*A*E)+v*(a(I)+x*A*E),a(F)),at=a(P)-w*A*E,ot=a(I)+x*A*E,ct=2*Math.PI;n.singles?(L=1/p,L+=(a(M)+a(m)*a(A))/_,k=Math.sqrt(2*Math.PI)/Math.sqrt(L),N=(p+_)*(a(m)*p+_),W=p*_*((a(M)+a(m)*a(A))*p+_),z=Math.sqrt(2*Math.PI)/Math.sqrt(N/W),C=1/Math.sqrt(ct*_)*(1/Math.sqrt(ct*p))):(L=(a(M)+a(b)*a(A))/v,L+=1/p,L+=(a(M)+a(m)*a(A))/_,k=Math.sqrt(2*Math.PI)/Math.sqrt(L),N=(p*_+v*(p+_))*a(b)*p*_+v*(a(m)*p+_),W=v*p*_*((a(M)+a(b)*a(A))*p*_+v*((a(M)+a(m)*a(A))*p+_)),z=Math.sqrt(2*Math.PI)/Math.sqrt(N/W),C=1/Math.sqrt(ct*_)*(1/Math.sqrt(ct*v))*(1/Math.sqrt(ct*p)));var ut;ut=n.calc_apodization&&n.enable_pp?n.apodization_FWHM/2.3548:Math.pow(2,20);var st,ft=function(t){var n=_,r=-2*t/X,e=v,o=-2*t/Y,c=p,u=2*t/$,s=i.cmultiplyR(n,r,n,r),f=i.cmultiplyI(n,r,n,r),l=i.cmultiplyR(e,o,e,o),h=i.cmultiplyI(e,o,e,o),d=i.cmultiplyR(c,u,c,u),y=i.cmultiplyI(c,u,c,u),g=i.cmultiplyR(e,o,n,r),x=i.cmultiplyI(e,o,n,r),w=i.cmultiplyR(c,u,g,x),S=i.cmultiplyI(c,u,g,x),I=i.cmultiplyR(e,o,c,u),P=i.cmultiplyI(e,o,c,u),O=i.cmultiplyR(n,r,c,u),j=i.cmultiplyI(n,r,c,u),T=O*U,R=j*U,F=n*B,E=r*B,L=c*K,N=u*K,W=i.caddR(F,E,L,N),k=i.caddI(F,E,L,N),z=i.cmultiplyR(W,k,e,o),C=i.cmultiplyI(W,k,e,o),q=i.caddR(T,R,z,C),D=i.caddI(T,R,z,C),J=i.cmultiplyR(w,S,q,D),G=i.cmultiplyI(w,S,q,D),H=i.caddR(O,j,I,P),V=i.caddI(O,j,I,P),ct=i.caddR(H,V,g,x),ut=i.caddI(H,V,g,x),st=a(b)*O,ft=a(b)*j,lt=a(m)*I,ht=a(m)*P,pt=i.caddR(st,ft,lt,ht),_t=i.caddI(st,ft,lt,ht),vt=i.caddR(pt,_t,g,x),dt=i.caddI(pt,_t,g,x),yt=16*i.cmultiplyR(vt,dt,ct,ut),gt=16*i.cmultiplyI(vt,dt,ct,ut),mt=i.cdivideR(J,G,yt,gt),bt=i.cdivideI(J,G,yt,gt),Mt=d*Z,xt=y*Z,wt=i.cmultiplyR(Mt,xt,s,f),St=i.cmultiplyI(Mt,xt,s,f),It=c*Q,Pt=u*Q,At=n*tt,Ot=r*tt,jt=i.caddR(It,Pt,At,Ot),Tt=i.caddI(It,Pt,At,Ot),Rt=i.cmultiplyR(jt,Tt,w,S),Ft=i.cmultiplyI(jt,Tt,w,S),Et=nt*d,Lt=nt*y,Nt=rt*s,Wt=rt*f,kt=i.caddR(Et,Lt,Nt,Wt),zt=i.caddI(Et,Lt,Nt,Wt),Ct=et*O,qt=et*j,Dt=i.caddR(kt,zt,Ct,qt),Jt=i.caddI(kt,zt,Ct,qt),Ut=i.cmultiplyR(Dt,Jt,l,h),Bt=i.cmultiplyI(Dt,Jt,l,h),Gt=i.caddR(wt,St,Rt,Ft),Ht=i.caddI(wt,St,Rt,Ft),Vt=i.caddR(Gt,Ht,Ut,Bt),Kt=i.caddI(Gt,Ht,Ut,Bt),Yt=2*i.cdivideR(Vt,Kt,yt,gt),Xt=2*i.cdivideI(Vt,Kt,yt,gt),$t=c*it,Zt=u*it,Qt=n*at,tn=r*at,nn=e*ot,rn=o*ot,en=i.caddR($t,Zt,Qt,tn),an=i.caddI($t,Zt,Qt,tn),on=i.caddR(en,an,nn,rn),cn=i.caddI(en,an,nn,rn),un=a(b)*O,sn=a(b)*j,fn=a(m)*I,ln=a(m)*P,hn=i.caddR(un,sn,fn,ln),pn=i.caddI(un,sn,fn,ln),_n=2*i.caddR(hn,pn,g,x),vn=2*i.caddI(hn,pn,g,x),dn=i.cdivideR(on,cn,_n,vn),yn=i.cdivideI(on,cn,_n,vn),gn=1*a(1/Math.sqrt(2*Math.PI))/Math.sqrt(2*Math.PI),mn=i.cdivideR(gn*Math.sqrt(_*v*p),0,w,S),bn=i.cdivideI(gn*Math.sqrt(_*v*p),0,w,S),Mn=i.cdivideR(a(M)+a(b)*a(A),0,e,o),xn=i.cdivideI(a(M)+a(b)*a(A),0,e,o),wn=i.cdivideR(1,0,c,u),Sn=i.cdivideI(1,0,c,u),In=i.caddR(Mn,xn,wn,Sn),Pn=i.caddI(Mn,xn,wn,Sn),An=i.cdivideR(a(M)+a(m)*a(A),0,n,r),On=i.cdivideI(a(M)+a(m)*a(A),0,n,r),jn=i.caddR(In,Pn,An,On),Tn=i.caddI(In,Pn,An,On),Rn=i.csqrtR(jn,Tn),Fn=i.csqrtI(jn,Tn),En=i.cdivideR(Math.sqrt(2*Math.PI),0,Rn,Fn),Ln=i.cdivideI(Math.sqrt(2*Math.PI),0,Rn,Fn),Nn=i.caddR(O,j,I,P),Wn=i.caddI(O,j,I,P),kn=i.caddR(Nn,Wn,g,x),zn=i.caddI(Nn,Wn,g,x),Cn=i.caddR(a(m)*I,a(m)*P,g,x),qn=i.caddI(a(m)*I,a(m)*P,g,x),Dn=i.caddR(Cn,qn,a(b)*O,a(b)*j),Jn=i.caddI(Cn,qn,a(b)*O,a(b)*j),Un=i.cmultiplyR(kn,zn,Dn,Jn),Bn=i.cmultiplyI(kn,zn,Dn,Jn),Gn=a(M)+a(m)*a(A),Hn=i.caddR(Gn*I,Gn*P,g,x),Vn=i.caddI(Gn*I,Gn*P,g,x),Kn=a(M)+a(b)*a(A),Yn=i.caddR(Kn*O,Kn*j,Hn,Vn),Xn=i.caddI(Kn*O,Kn*j,Hn,Vn),$n=i.cmultiplyR(w,S,Yn,Xn),Zn=i.cmultiplyI(w,S,Yn,Xn),Qn=i.cdivideR(Un,Bn,$n,Zn),tr=i.cdivideI(Un,Bn,$n,Zn),nr=i.csqrtR(Qn,tr),rr=i.csqrtI(Qn,tr),er=i.cdivideR(Math.sqrt(2*Math.PI),0,nr,rr),ir=i.cdivideI(Math.sqrt(2*Math.PI),0,nr,rr),ar=i.cmultiplyR(mn,bn,En,Ln),or=i.cmultiplyI(mn,bn,En,Ln),cr=i.cmultiplyR(ar,or,er,ir),ur=i.cmultiplyI(ar,or,er,ir);return[mt,bt,Yt,Xt,dn,yn,cr,ur]},lt=function(t){var n=ft(t),r=n[0],e=n[1],o=n[2],c=n[3],u=n[4],s=n[5],f=n[6],l=n[7],h=Math.exp(-.5*a(t/ut));h*=Math.exp(-a(t)*u-t*c-r);var p=h*Math.cos(-a(t)*s+t*o-e),_=h*Math.sin(-a(t)*s+t*o-e),v=i.cmultiplyR(p,_,f,l),d=i.cmultiplyI(p,_,f,l);return[v,d]};if(n.calcfibercoupling){var ht=n.L/n.numzint,pt=i.Nintegrate2arg(lt,-n.L/2,n.L/2,ht,n.numzint,n.zweights);f=pt[0]/n.L,l=pt[1]/n.L,st=1}else{var _t=Math.sin(s)/s;f=_t,l=0,st=Math.exp(-.5*(a(o[0])+a(o[1]))*a(n.W))}return n.use_guassian_approx&&(f=Math.exp(-.193*a(s)),l=0),[f,l,st]},t.exports.pump_spectrum=function(t){var n=2*Math.PI*e.c/a(t.lambda_p)*t.p_bw;n/=2*Math.sqrt(Math.log(2));var r=Math.exp(-.5*a(2*Math.PI*e.c*(1/t.lambda_s+1/t.lambda_i-1/t.lambda_p)/n));return r},t.exports.phasematch=function(n){var r=o.calc_PM_tz_k_coinc(n),e=r[0],i=r[1],a=r[2],c=r[3],u=t.exports.pump_spectrum(n);return[u*a*e,u*a*i,c]},t.exports.phasematch_coinc=function(n){var r=o.calc_PM_tz_k_coinc(n),e=r[0],i=r[1],a=r[2],c=r[3],u=t.exports.pump_spectrum(n);return[u*a*e,u*a*i,c]},t.exports.phasematch_singles=function(n){var r=o.calc_PM_tz_k_singles(n),e=r[0],i=r[1],c=r[2],u=r[3],s=t.exports.pump_spectrum(n);return s=a(s),[s*c*e,s*c*i,u]},t.exports.phasematch_Int_Phase=function(n){var r=t.exports.phasematch(n);r[2];if(n.phase){var e=Math.atan2(r[1],r[0])+Math.PI;r=180*e/Math.PI}else r=a(r[0])+a(r[1]);return{phasematch:r}},t.exports.phasematch_Int_Phase_Singles=function(n){var r=t.exports.phasematch_singles(n);r[2];if(n.phase){var e=Math.atan2(r[1],r[0])+Math.PI;r=180*e/Math.PI}else r=a(r[0])+a(r[1]);return{phasematch:r}},t.exports.normalize_joint_spectrum=function(n){var r=n.clone();r.theta_s=0,r.theta_i=0,r.theta_s_e=0,r.theta_i_e=0,r.update_all_angles(),n.enable_pp?r.calc_poling_period():r.auto_calc_Theta();var e=t.exports.phasematch_Int_Phase(r).phasematch;return e},t.exports.normalize_joint_spectrum_singles=function(n){var r=n.clone();r.theta_s=0,r.theta_i=0,r.theta_s_e=0,r.theta_i_e=0,r.update_all_angles(),n.enable_pp?r.calc_poling_period():r.auto_calc_Theta();
var e=Math.sqrt(2),i=(Math.pow(r.W_sx*e,2),1/Math.cos(r.theta_s_e),t.exports.phasematch_Int_Phase_Singles(r).phasematch);return i},t.exports.calc_HOM_rate=function(t,n,r,o,c,u,s){for(var f=i.linspace(t,n,s),l=i.linspace(o,r,s),h=0,p=u.PM_JSA1_real,_=u.PM_JSA1_imag,v=u.PM_JSA2_real,d=u.PM_JSA2_imag,y=s*s,g=new Float64Array(y),m=0;m<y;m++){var b=m%s,M=Math.floor(m/s),x=2*Math.PI*e.c*(1/f[b]-1/l[M])*c,w=Math.cos(x),S=Math.sin(x),I=w*v[b][M]-S*d[b][M],P=w*d[b][M]+S*v[b][M],A=(p[b][M]-I)/2,O=(_[b][M]-P)/2,j=a(A)+a(O);g[m]=j,h+=j}return{rate:h,JSI:g}},t.exports.calc_HOM_bunch_rate=function(t,n,r,o,c,u,s){for(var f=i.linspace(t,n,s),l=i.linspace(o,r,s),h=0,p=u.PM_JSA1_real,_=u.PM_JSA1_imag,v=u.PM_JSA2_real,d=u.PM_JSA2_imag,y=s*s,g=new Float64Array(y),m=0;m<y;m++){var b=m%s,M=Math.floor(m/s),x=2*Math.PI*e.c*(1/f[b]-1/l[M])*c,w=Math.cos(x),S=Math.sin(x),I=w*v[b][M]-S*d[b][M],P=w*d[b][M]+S*v[b][M],A=(p[b][M]+I)/2,O=(_[b][M]+P)/2,j=a(A)+a(O);g[m]=j,h+=j}return{rate:h,JSI:g}},t.exports.calc_HOM_scan=function(n,r,e,a,o,c,u,f,l){for(var h,p=100,_=i.linspace(r,e,f),v=i.linspace(r,e,f),d=s.calc_JSA(n,a,o,c,u,p),y=s.calc_JSA(n,c,u,a,o,p),g=i.create_2d_array(d[0],p,p),m=i.create_2d_array(d[1],p,p),b=i.create_2d_array(i.AntiTranspose(y[0],p),p,p),M=i.create_2d_array(i.AntiTranspose(y[1],p),p,p),x={PM_JSA1_real:g,PM_JSA1_imag:m,PM_JSA2_real:b,PM_JSA2_imag:M},w=s.calc_JSI(n,a,o,c,u,p),S=i.Sum(w),I=0;I<f;I++)h=l?t.exports.calc_HOM_rate(a,o,c,u,_[I],x,p):t.exports.calc_HOM_bunch_rate(a,o,c,u,_[I],x,p),v[I]=h.rate/S;return v},t.exports.calc_HOM_scan_p=function(n,r,e,a,o,c,u,f){for(var l,h=r.length,p=new Float64Array(h),_=s.calc_JSA(n,e,a,o,c,u),v=s.calc_JSA(n,o,c,e,a,u),d=i.create_2d_array(_[0],u,u),y=i.create_2d_array(_[1],u,u),g=i.create_2d_array(i.AntiTranspose(v[0],u),u,u),m=i.create_2d_array(i.AntiTranspose(v[1],u),u,u),b={PM_JSA1_real:d,PM_JSA1_imag:y,PM_JSA2_real:g,PM_JSA2_imag:m},M=s.calc_JSI(n,e,a,o,c,u),x=i.Sum(M),w=0;w<h;w++)l=f?t.exports.calc_HOM_rate(e,a,o,c,r[w],b,u):t.exports.calc_HOM_bunch_rate(e,a,o,c,r[w],b,u),p[w]=l.rate/x;return p},t.exports.calc_HOM_JSA=function(n,r,e,a,o,c,u,f){var l,h=s.calc_JSA(n,r,e,a,o,u),p=s.calc_JSA(n,a,o,r,e,u),_=i.create_2d_array(h[0],u,u),v=i.create_2d_array(h[1],u,u),d=i.create_2d_array(i.AntiTranspose(p[0],u),u,u),y=i.create_2d_array(i.AntiTranspose(p[1],u),u,u),g={PM_JSA1_real:_,PM_JSA1_imag:v,PM_JSA2_real:d,PM_JSA2_imag:y};return l=f?t.exports.calc_HOM_rate(r,e,a,o,c,g,u):t.exports.calc_HOM_bunch_rate(r,e,a,o,c,g,u),l.JSI},t.exports.calc_2HOM_rate=function(t,n,r,o,c,u,s,f){for(var l=i.linspace(n,r,f),h=i.linspace(o,c,f),p=0,_=0,v=0,d=2*Math.PI*e.c*t,y=0;y<f;y++)for(var g=1/l[y],m=0;m<f;m++)for(var b=u[y][m],M=s[y][m],x=1/l[m],w=0;w<f;w++)for(var S=u[w][m],I=s[w][m],P=1/h[w],A=d*(g-P),O=Math.cos(A),j=Math.sin(A),T=0;T<f;T++){var R=1/h[T],F=d*(x-R),E=Math.cos(F),L=Math.sin(F),N=d*(g-R),W=Math.cos(N),k=Math.sin(N),z=u[w][T],C=s[w][T],q=u[y][T],D=s[y][T],J=b*z-M*C,U=b*C+M*z,B=S*q-I*D,G=S*D+I*q,H=.5*(J-(O*B-j*G)),V=.5*(U-(O*G+j*B)),K=.5*(J-(E*B-L*G)),Y=.5*(U-(E*G+L*B)),X=.5*(J-(W*B-k*G)),$=.5*(U-(W*G+k*B));p+=a(H)+a(V),_+=a(K)+a(Y),v+=a(X)+a($)}return{ii:p,ss:_,si:v}},t.exports.calc_2HOM_norm=function(t,n,r){for(var e=0,i=0;i<r;i++)for(var a=0;a<r;a++)for(var o=t[i][a],c=n[i][a],u=0;u<r;u++)for(var s=0;s<r;s++){var f=t[u][s],l=n[u][s],h=o*f-c*l,p=o*l+c*f;e+=h*h+p*p}return e},t.exports.calc_2HOM_scan=function(n,r,e,a,o,c,u,f){for(var l=30,h=i.linspace(r,e,f),p=new Float64Array(f),_=new Float64Array(f),v=new Float64Array(f),d=s.calc_JSA(n,a,o,c,u,l),y=i.create_2d_array(d[0],l,l),g=i.create_2d_array(d[1],l,l),m=t.exports.calc_2HOM_norm(y,g,l),b=0;b<f;b++){var M=t.exports.calc_2HOM_rate(h[b],a,o,c,u,y,g,l);p[b]=M.ss/m,_[b]=M.ii/m,v[b]=M.si/m}return{ss:p,ii:_,si:v}},t.exports.calc_2HOM_scan_p=function(n,r,e,a,o,c,u){var f=30;u=r.length;for(var l=new Float64Array(u),h=new Float64Array(u),p=new Float64Array(u),_=s.calc_JSA(n,e,a,o,c,f),v=i.create_2d_array(_[0],f,f),d=i.create_2d_array(_[1],f,f),y=t.exports.calc_2HOM_norm(v,d,f),g=0;g<u;g++){var m=t.exports.calc_2HOM_rate(r[g],e,a,o,c,v,d,f);l[g]=m.ss/y,h[g]=m.ii/y,p[g]=m.si/y}return[l,h,p]},t.exports.calc_Schmidt=function(t){var n,r,e=t.length,i=new Array(e);for(r=0;r<e;r++)for(i[r]=new Array(e),n=0;n<e;n++)i[r][n]=Math.sqrt(t[r][n]);var o=c(i),u=o.W;e=u.length;var s=0;for(n=0;n<e;n++)s+=a(u[n]);var f=0;for(r=0;r<e;r++)f+=a(a(u[r])/s);return 1/f},t.exports.autorange_lambda=function(n,r){var e=n.clone();e.phi_i=e.phi_s+Math.PI,e.update_all_angles(),e.use_guassian_approx=!0;var i=t.exports.phasematch_Int_Phase(e);r*=i.phasematch;var a=function(n){e.lambda_s=n,e.n_s=e.calc_Index_PMType(n,e.type,e.S_s,"signal"),e.lambda_i=1/(1/e.lambda_p-1/n),e.optimum_idler(e);var i=t.exports.phasematch_Int_Phase(e);return Math.abs(i.phasematch-r)},o=e.lambda_s-1e-9,c=u(a,o,50),s=1/(1/n.lambda_p-1/c),f=(Math.min(c,s),Math.max(c,s),Math.abs(c-n.lambda_s)),l=2e-9*e.lambda_p/7.75e-7*e.p_bw/1e-9;l>3.5e-8&&(l=3.5e-8),f>l&&(f=l);var h=n.lambda_s-10*f,p=n.lambda_s+10*f,_=1/(1/e.lambda_p-1/p),v=1/(1/e.lambda_p-1/h);return{lambda_s:{min:Math.min(h,p),max:Math.max(h,p)},lambda_i:{min:Math.min(_,v),max:Math.max(_,v)}}},t.exports.autorange_delT=function(t,n,r){var i=(t.get_group_velocity(t.lambda_s,t.type,t.S_s,"signal"),t.get_group_velocity(t.lambda_i,t.type,t.S_i,"idler"),0),o=Math.abs(r-n),c=1/(2*Math.PI*e.c/a(n+o/2)*o),u=i-40*c,s=i+40*c;return[i,u,s]},t.exports.autorange_delT_2crystal=function(t,n,r){var i=(t.get_group_velocity(t.lambda_s,t.type,t.S_s,"signal"),t.get_group_velocity(t.lambda_i,t.type,t.S_i,"idler"),0),o=Math.abs(r-n),c=1/(2*Math.PI*e.c/a(n+o/2)*o),u=i-40*c,s=i+40*c;return[i,u,s]},t.exports.autorange_theta=function(n){var r=n.clone();r.update_all_angles();var e=(2*Math.PI/180,r.theta_s-.3*r.theta_s),i=e*(1-1e-6/r.W);i=Math.max(0,i);var a=r.theta_s+(r.theta_s-i);return a=Math.max(2*Math.PI/180,a),r.theta_s=i,r.update_all_angles(),i=t.exports.find_external_angle(r,"signal"),r.theta_s=a,r.update_all_angles(),a=t.exports.find_external_angle(r,"signal"),[i,a]},t.exports.autorange_poling_period=function(t){var n=t.clone();n.theta=Math.PI/2,n.update_all_angles(),n.calc_poling_period();var r=5e-5,e=n.poling_period-r,i=n.poling_period+r;return e<0&&(e=1e-6),[e,i]},t.exports.find_internal_angle=function(t,n){var r,e,i,a=t.clone();"signal"===n&&(r=Math.sin(t.theta_s_e),i=function(t){return t>Math.PI/2||t<0?1e12:(a.theta_s=t,a.S_s=a.calc_Coordinate_Transform(a.theta,a.phi,a.theta_s,a.phi_s),a.n_s=a.calc_Index_PMType(a.lambda_s,a.type,a.S_s,"signal"),Math.abs(r-a.n_s*Math.sin(a.theta_s)))},e=t.theta_s),"idler"===n&&(r=Math.sin(t.theta_i_e),i=function(t){return t>Math.PI/2||t<0?1e12:(a.theta_i=t,a.S_i=a.calc_Coordinate_Transform(a.theta,a.phi,a.theta_i,a.phi_i),a.n_i=a.calc_Index_PMType(a.lambda_i,a.type,a.S_i,"idler"),Math.abs(r-a.n_i*Math.sin(a.theta_i)))},e=t.theta_i);var o=u(i,e,40);return o},t.exports.find_external_angle=function(t,n){var r,e=0;return"signal"===n&&(r=t.n_s*Math.sin(t.theta_s),e=Math.asin(r)),"idler"===n&&(r=t.n_i*Math.sin(t.theta_i),e=Math.asin(r)),e},t.exports.swap_signal_idler=function(n){var r=n.lambda_s,e=n.theta_s,i=n.phi_s,a=n.n_s,o=n.S_s,c=n.W_sx,u=n.W_sy;n.theta_s_e;return n.lambda_s=n.lambda_i,n.theta_s=n.theta_i,n.phi_s=n.phi_i,n.n_s=n.n_i,n.S_s=n.S_i,n.W_sx=n.W_ix,n.W_sy=n.W_iy,n.theta_s_e=t.exports.find_external_angle(n,"signal"),n.lambda_i=r,n.theta_i=e,n.phi_i=i,n.n_i=a,n.S_i=o,n.W_ix=c,n.W_iy=u,n.update_all_angles(),n}},function(t,n,r){"use strict";t.exports={};var e=1,i=r(300),a=r(303),o=a.sq,c=r(407),u=r(409);t.exports.calc_PM_tz_k_coinc=function(t){var n=1,r=t.lambda_p,s=t.n_p,f=2*Math.PI,l=f*i.c*n,h=t.z0p,p=t.z0s,_=t.z0i;t.lambda_p=1/(1/t.lambda_s+1/t.lambda_i),t.n_p=t.calc_Index_PMType(t.lambda_p,t.type,t.S_p,"pump");var v=t.walkoff_p;u.convertToMicrons(t);var d,y=(l/t.lambda_s,l/t.lambda_i,c.calc_delK(t)),g=(y[0],y[1],y[2]),m=(180/Math.PI,Math.tan(t.theta_s)*t.L*.5*Math.cos(t.phi_s)),b=Math.tan(t.theta_i)*t.L*.5*Math.cos(t.phi_i),M=0,x=0,w=1,S=o(t.W*w),I=o(t.W_sx*w),P=o(t.W_sx*w),A=S*o(e),O=S,j=f*t.n_p/t.lambda_p,T=f*t.n_s/t.lambda_s,R=f*t.n_i/t.lambda_i,F=o(1/Math.cos(t.theta_s_e)),E=o(1/Math.cos(t.theta_i_e));T/t.n_s*Math.sin(t.theta_s_e)*Math.cos(t.phi_s),R/t.n_i*Math.sin(t.theta_i_e)*Math.cos(t.phi_i);t.calc_apodization&&t.enable_pp?(d=t.apodization_FWHM/2.3548,d=2*d/t.L):d=Math.pow(2,20);var L=(2/(T/t.n_s)*(p+m*Math.sin(t.theta_s_e)*Math.cos(t.phi_s)),2/(R/t.n_i)*(_+b*Math.sin(t.theta_i_e)*Math.cos(t.phi_i)),T/t.n_s),N=R/t.n_i,W=Math.sin(t.theta_s_e),k=Math.sin(t.theta_i_e),z=(Math.cos(t.theta_s_e),Math.cos(t.theta_i_e),Math.tan(t.theta_s_e)),C=Math.tan(t.theta_i_e),q=Math.cos(t.phi_s),D=Math.cos(t.phi_i),J=-.25*I,U=-.25*P,B=J*F,G=U*E,H=-2*L*B*W*q,V=-2*N*G*k*D,K=-.5*L*W*q*H,Y=-.5*N*k*D*V,X=p+m*W*q,$=_+b*k*D,Z=.5/L*X,Q=.5/N*$,tt=Z*F,nt=Q*E,rt=-m-X*F*W*q,et=-b-$*E*k*D,it=.5*L*X*o(z)-L*p,at=.5*N*$*o(C)-N*_,ot=-.25*A+B,ct=-tt,ut=-.25*A+G,st=-nt,ft=-.25*O+J,lt=-Z,ht=-.25*O+U,pt=-Q,_t=-.25*(t.L/T-2*h/j),vt=-.25*(t.L/R-2*h/j),dt=.25*t.L*(1/T-1/j),yt=.25*t.L*(1/R-1/j),gt=-.5*A,mt=h/j,bt=-.5*O,Mt=mt,xt=t.L/(2*j),wt=.5*t.L*Math.tan(v),St=.5*t.L*(j+T+R+f/(t.poling_period*t.poling_sign)),It=.5*t.L*(j-T-R-f/(t.poling_period*t.poling_sign)),Pt=K+Y,At=-(it+at),Ot=ot,jt=ct+_t,Tt=0,Rt=ft,Ft=lt+_t,Et=0,Lt=ut,Nt=st+vt,Wt=0,kt=ht,zt=pt+vt,Ct=0,qt=H,Dt=-rt,Jt=0,Ut=wt,Bt=0,Gt=V,Ht=-et,Vt=gt,Kt=mt,Yt=0,Xt=bt,$t=Mt,Zt=0,Qt=Pt,tn=At+St,nn=0,rn=function(t){var n=xt*t,r=dt*t,e=yt*t,i=It*t;Tt=jt+r,Et=Ft+r,Wt=Nt+e,Ct=zt+e,Bt=Ut*(1+t),Yt=Kt-n,Zt=$t-n,nn=tn+i;var c=4*Qt,u=4*nn,s=a.cmultiplyR(qt,Dt,qt,Dt),f=a.cmultiplyI(qt,Dt,qt,Dt),l=a.cdivideR(s,f,Ot,Tt),h=a.cdivideI(s,f,Ot,Tt),p=a.cmultiplyR(Jt,Bt,Jt,Bt),_=a.cmultiplyI(Jt,Bt,Jt,Bt),v=a.cdivideR(p,_,Rt,Et),y=a.cdivideI(p,_,Rt,Et),g=-2*a.cmultiplyR(Ot,Tt,Gt,Ht),m=-2*a.cmultiplyI(Ot,Tt,Gt,Ht),b=a.cmultiplyR(qt,Dt,Vt,Yt),M=a.cmultiplyI(qt,Dt,Vt,Yt),x=a.caddR(g,m,b,M),w=a.caddI(g,m,b,M),S=a.cmultiplyR(x,w,x,w),I=a.cmultiplyI(x,w,x,w),P=-1*a.cmultiplyR(Vt,Yt,Vt,Yt),A=-1*a.cmultiplyI(Vt,Yt,Vt,Yt),O=4*a.cmultiplyR(Ot,Tt,Lt,Wt),j=4*a.cmultiplyI(Ot,Tt,Lt,Wt),T=a.caddR(P,A,O,j),R=a.caddI(P,A,O,j),F=a.cmultiplyR(Ot,Tt,T,R),E=a.cmultiplyI(Ot,Tt,T,R),L=a.cdivideR(S,I,F,E),N=a.cdivideI(S,I,F,E),W=a.caddR(-2*Rt,-2*Et,Xt,Zt),k=a.caddI(-2*Rt,-2*Et,Xt,Zt),z=a.cmultiplyR(W,k,W,k),C=a.cmultiplyI(W,k,W,k),q=a.cmultiplyR(v,y,z,C),D=a.cmultiplyI(v,y,z,C),J=-1*a.cmultiplyR(Xt,Zt,Xt,Zt),U=-1*a.cmultiplyI(Xt,Zt,Xt,Zt),B=4*a.cmultiplyR(Rt,Et,kt,Ct),G=4*a.cmultiplyI(Rt,Et,kt,Ct),H=a.caddR(J,U,B,G),V=a.caddI(J,U,B,G),K=a.cdivideR(q,D,H,V),Y=a.cdivideI(q,D,H,V),X=a.caddR(c,u,-1*l,-1*h),$=a.caddI(c,u,-1*l,-1*h),Z=a.caddR(X,$,-1*v,-1*y),Q=a.caddI(X,$,-1*v,-1*y),tt=a.caddR(Z,Q,-1*L,-1*N),nt=a.caddI(Z,Q,-1*L,-1*N),rt=.25*a.caddR(tt,nt,-1*K,-1*Y),et=.25*a.caddI(tt,nt,-1*K,-1*Y),it=a.cmultiplyR(Ot,Tt,Rt,Et),at=a.cmultiplyI(Ot,Tt,Rt,Et),ot=a.cdivideR(-1*P,-1*A,Ot,Tt),ct=a.cdivideI(-1*P,-1*A,Ot,Tt),ut=a.caddR(-4*Lt,-4*Wt,ot,ct),st=a.caddI(-4*Lt,-4*Wt,ot,ct),ft=a.cdivideR(-1*J,-1*U,Rt,Et),lt=a.cdivideI(-1*J,-1*U,Rt,Et),ht=a.caddR(-4*kt,-4*Ct,ft,lt),pt=a.caddI(-4*kt,-4*Ct,ft,lt),_t=a.cmultiplyR(it,at,ut,st),vt=a.cmultiplyI(it,at,ut,st),gt=a.cmultiplyR(_t,vt,ht,pt),mt=a.cmultiplyI(_t,vt,ht,pt),bt=a.csqrtR(gt,mt),Mt=a.csqrtI(gt,mt),wt=Math.exp(-.5*o(t/d)),St=Math.exp(rt),Pt=St*wt*Math.cos(et),At=St*wt*Math.sin(et),rn=a.cdivideR(Pt,At,bt,Mt),en=a.cdivideI(Pt,At,bt,Mt);return[rn,en]},en=t.L/2*g,an=1;if(t.calcfibercoupling){var on=2/t.numzint,cn=a.Nintegrate2arg(rn,-1,1,on,t.numzint,t.zweights);M=cn[0]/2,x=cn[1]/2;var un=1;M*=un,x*=un}else{var sn=Math.sin(en)/en;M=sn,x=0,an=Math.exp(-.5*(o(y[0])+o(y[1]))*o(t.W))}return t.use_guassian_approx&&(M=Math.exp(-.193*o(en)),x=0),u.convertToMeters(t),t.lambda_p=r,t.n_p=s,[M,x,an]},t.exports.calc_PM_tz_k_singles=function(t){var n=1,r=t.lambda_p,s=t.n_p,f=2*Math.PI,l=f*i.c*n,h=t.z0p,p=t.z0s;t.lambda_p=1/(1/t.lambda_s+1/t.lambda_i),t.n_p=t.calc_Index_PMType(t.lambda_p,t.type,t.S_p,"pump");var _=t.walkoff_p;u.convertToMicrons(t);var v,d=(l/t.lambda_s,l/t.lambda_i,Math.tan(t.theta_s)*t.L*.5*Math.cos(t.phi_s)),y=(Math.tan(t.theta_i)*t.L*.5*Math.cos(t.phi_i),0),g=0,m=1,b=o(t.W*m),M=o(t.W_sx*m),x=(o(t.W_sx*m),b*o(e)),w=b,S=f*t.n_p/t.lambda_p,I=f*t.n_s/t.lambda_s,P=f*t.n_i/t.lambda_i,A=o(1/Math.cos(t.theta_s_e));1*Math.sin(t.theta_s_e)*Math.cos(t.phi_s),2/(I/t.n_s)*(p+d*Math.sin(t.theta_s_e)*Math.cos(t.phi_s));t.calc_apodization&&t.enable_pp?(v=t.apodization_FWHM/2.3548,v=2*v/t.L):v=Math.pow(2,20);var O=I/t.n_s,j=Math.sin(t.theta_s_e),T=(Math.cos(t.theta_s_e),Math.tan(t.theta_s_e)),R=Math.cos(t.phi_s),F=-.25*M,E=F*A,L=-2*O*E*j*R,N=-.5*O*j*R*L,W=p+d*j*R,k=.5/O*W,z=k*A,C=-d-W*A*j*R,q=(.5*O*W*o(T)-O*p,S*I),D=t.L,J=S-I-P-f/(t.poling_period*t.poling_sign),U=t.L*J,B=t.L*(1/P-1/S),G=I/S,H=S*x,V=S*w,K=D*_,Y=o(K),X=4*q*E,$=-4*q*z,Z=4*q*F,Q=-4*q*k,tt=L,nt=-C,rt=X,et=-$,it=Z,at=-Q,ot=tt,ct=-nt,ut=function(t){var n=2*h-D*t,r=1-t,e=1+t;return[n,r,e]},st=function(t,n,r){var e=t-n,i=r[0],o=r[1],c=r[2],u=2*h-D*n,s=1-n,f=1+n,l=B*e,p=-S*D*o+I*i,_=-S*D*s+I*u,d=X,y=$+p,g=Z,m=Q+p,b=rt,M=et-_,P=it,A=at-_,O=(d-H*I)/(4*q),j=y/(4*q),T=(b-H*I)/(4*q),R=M/(4*q),F=(g-V*I)/(4*q),E=m/(4*q),L=(P-V*I)/(4*q),W=A/(4*q),k=H*I-d,z=-y,C=-M,J=b-H*I,ut=V*I-g,st=-m,ft=-A,lt=P-V*I,ht=a.cmultiplyR(i,H,i,H),pt=a.cmultiplyI(i,H,i,H),_t=a.cmultiplyR(u,-H,u,-H),vt=a.cmultiplyI(u,-H,u,-H),dt=G*a.cdivideR(ht,pt,k,z),yt=G*a.cdivideI(ht,pt,k,z),gt=G*a.cdivideR(_t,vt,C,J),mt=G*a.cdivideI(_t,vt,C,J),bt=a.cmultiplyR(0,1,gt,mt),Mt=a.cmultiplyI(0,1,gt,mt),xt=.25*(-2*x-dt+bt),wt=.25*(l-yt+Mt),St=a.cmultiplyR(i,V,i,V),It=a.cmultiplyI(i,V,i,V),Pt=a.cmultiplyR(u,-V,u,-V),At=a.cmultiplyI(u,-V,u,-V),Ot=G*a.cdivideR(St,It,ut,st),jt=G*a.cdivideI(St,It,ut,st),Tt=G*a.cdivideR(Pt,At,ft,lt),Rt=G*a.cdivideI(Pt,At,ft,lt),Ft=a.cmultiplyR(0,1,Tt,Rt),Et=a.cmultiplyI(0,1,Tt,Rt),Lt=.25*(-2*w-Ot+Ft),Nt=.25*(l-jt+Et),Wt=a.cmultiplyR(-H,i,tt,nt),kt=a.cmultiplyI(-H,i,tt,nt),zt=a.cdivideR(Wt,kt,k,z),Ct=a.cdivideI(Wt,kt,k,z),qt=a.cmultiplyR(-u,H,ot,ct),Dt=a.cmultiplyI(-u,H,ot,ct),Jt=a.cdivideR(qt,Dt,C,J),Ut=a.cdivideI(qt,Dt,C,J),Bt=I*(zt+Jt),Gt=I*(Ct+Ut),Ht=f*a.cdivideR(V,u,ft,lt),Vt=f*a.cdivideI(V,u,ft,lt),Kt=c*a.cdivideR(-i,-V,ut,st),Yt=c*a.cdivideI(-i,-V,ut,st),Xt=.5*K*(I*(Ht+Kt)),$t=.5*K*(e+I*(Vt+Yt)),Zt=f*f*a.cdivideR(0,1,ft,lt),Qt=f*f*a.cdivideI(0,1,ft,lt),tn=c*c*a.cdivideR(1,0,ut,st),nn=c*c*a.cdivideI(1,0,ut,st),rn=.25*Y*(Zt-tn),en=.25*Y*(Qt-nn),an=a.cmultiplyR(tt,nt,tt,nt),on=a.cmultiplyI(tt,nt,tt,nt),cn=a.cdivideR(an,on,k,z),un=a.cdivideI(an,on,k,z),sn=a.cmultiplyR(ot,ct,ot,ct),fn=a.cmultiplyI(ot,ct,ot,ct),ln=a.cdivideR(sn,fn,C,J),hn=a.cdivideI(sn,fn,C,J),pn=cn+hn,_n=un-ln,vn=2*N+q*(rn+pn),dn=.5*(U*e)+q*(en+_n),yn=a.cmultiplyR(Bt,Gt,Bt,Gt),gn=a.cmultiplyI(Bt,Gt,Bt,Gt),mn=-a.cdivideR(yn,gn,xt,wt)/4,bn=-a.cdivideI(yn,gn,xt,wt)/4,Mn=a.cmultiplyR(Xt,$t,Xt,$t),xn=a.cmultiplyI(Xt,$t,Xt,$t),wn=a.cdivideR(Mn,xn,-4*Lt,-4*Nt),Sn=a.cdivideI(Mn,xn,-4*Lt,-4*Nt),In=mn+wn+vn,Pn=bn+Sn+dn,An=a.cmultiplyR(O,j,F,E),On=a.cmultiplyI(O,j,F,E),jn=a.cmultiplyR(T,R,L,W),Tn=a.cmultiplyI(T,R,L,W),Rn=a.cmultiplyR(xt,wt,Lt,Nt),Fn=a.cmultiplyI(xt,wt,Lt,Nt),En=a.cmultiplyR(An,On,jn,Tn),Ln=a.cmultiplyI(An,On,jn,Tn),Nn=a.cmultiplyR(En,Ln,Rn,Fn),Wn=a.cmultiplyI(En,Ln,Rn,Fn),kn=8*a.csqrtR(Nn,Wn),zn=8*a.csqrtI(Nn,Wn),Cn=Math.exp(-.5*(t*t/(v*v)))*Math.exp(-.5*(n*n/(v*v))),qn=Math.exp(In),Dn=qn*Cn*Math.cos(Pn),Jn=qn*Cn*Math.sin(Pn),Un=.5*a.cdivideR(Dn,Jn,kn,zn),Bn=.5*a.cdivideI(Dn,Jn,kn,zn);return[Un,Bn]},ft=c.calc_delK(t),lt=(ft[0],ft[1],ft[2]),ht=t.L/2*lt,pt=1;if(t.calcfibercoupling){var _t=(2/t.numz2Dint,a.Nintegrate2D_3_8_singles(st,ut,-1,1,-1,1,t.numz2Dint,t.z2Dweights));y=_t[0]/2,g=_t[1]/2;var vt=1;y*=vt,g*=vt}else{var dt=Math.sin(ht)/ht;y=dt,g=0,pt=Math.exp(-.5*(o(ft[0])+o(ft[1]))*o(t.W))}return t.use_guassian_approx&&(y=Math.exp(-.193*o(ht)),g=0),u.convertToMeters(t),t.lambda_p=r,t.n_p=s,[y,g,pt]}},function(t,n,r){"use strict";var e=function(){function t(t,n){var r=[],e=!0,i=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(e=(o=c.next()).done)&&(r.push(o.value),!n||r.length!==n);e=!0);}catch(u){i=!0,a=u}finally{try{!e&&c["return"]&&c["return"]()}finally{if(i)throw a}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a={};t.exports=a;var o=r(305),c=r(410),u=r(421),s=r(300),f=r(303),l=f.sq,h=r(304),p=r(301),_=r(407),v=r(431);a.PMTypes=["Type 0:   o -> o + o","Type 0:   e -> e + e","Type 1:   e -> o + o","Type 2:   e -> e + o","Type 2:   e -> o + e"],a.apodization_L=[],a.apodization_coeff=[];var d={lambda_p:775*s.nm,lambda_s:1550*s.nm,lambda_i:1201250*s.nm/775,type:"Type 2:   e -> e + o",theta:90*Math.PI/180,phi:0,theta_s:0,theta_i:0,theta_s_e:0*Math.PI/180,theta_i_e:0,phi_s:0,phi_i:Math.PI,L:2e3*s.um,W:100*s.um,p_bw:5.35*s.nm,walkoff_p:0,W_sx:100*s.um,W_sy:100*s.um,W_ix:100*s.um,W_iy:100*s.um,phase:!1,brute_force:!1,brute_dim:50,autocalctheta:!1,autocalcpp:!0,poling_period:1e6,poling_sign:1,calc_apodization:!1,apodization:30,apodization_FWHM:1600*s.um,use_guassian_approx:!1,crystal:h("KTP-3"),temp:20,enable_pp:!0,calcfibercoupling:!0,singles:!1,autocalfocus:!0,z0s:-1e3*s.um,deff:1*s.pm,Pav:.001},y=Object.keys(d),g=function(t,n){var r="undefined"==typeof n?"undefined":i(n);return"object"===r||"array"===r?o(n):void 0!==n?n:t},m=function(t){this.init(t)};m.prototype={init:function(t){this.set(Object.assign({},d,t)),this.update_all_angles(),this.theta_s=_.find_internal_angle(this,"signal"),this.theta_i=_.find_internal_angle(this,"idler"),this.update_all_angles(),this.set_apodization_L(),this.set_apodization_coeff(),this.set_zint(),this.autocalctheta&&this.auto_calc_Theta(),this.z0p=0*s.um,this.z0s=-1*this.L/2,this.z0i=this.z0s},calc_Coordinate_Transform:function(t,n,r,e){var i=Math.sin(t),a=Math.cos(t),o=Math.sin(r),c=Math.cos(r),u=Math.sin(n),s=Math.cos(n),f=Math.sin(e),h=Math.cos(e),p=o*h,_=o*f,v=c,d=a*s*p-u*_+i*s*v,y=a*u*p+s*_+i*u*v,g=-i*p+a*v,m=Math.sqrt(l(p)+l(_)+l(v)),b=d/m,M=y/m,x=g/m;return[b,M,x]},calc_Index_PMType:function(t,n,r,e){var i=this.crystal.indicies(t,this.temp),o=1/l(i[0]),c=1/l(i[1]),u=1/l(i[2]),s=l(r[0]),f=l(r[1]),h=l(r[2]),p=s*(c+u)+f*(o+u)+h*(o+c),_=s*(c*u)+f*(o*u)+h*(o*c),v=l(p)-4*_,d=Math.sqrt(2/(p+Math.sqrt(v))),y=Math.sqrt(2/(p-Math.sqrt(v))),g=1;switch(n){case a.PMTypes[0]:g=y;break;case a.PMTypes[1]:g=d;break;case a.PMTypes[2]:g="pump"===e?d:y;break;case a.PMTypes[3]:g="idler"===e?y:d;break;case a.PMTypes[4]:g="signal"===e?y:d;break;default:throw"Error: bad PMType specified"}return g},update_all_angles:function(){var t=this;t.S_p=t.calc_Coordinate_Transform(t.theta,t.phi,0,0),t.S_s=t.calc_Coordinate_Transform(t.theta,t.phi,t.theta_s,t.phi_s),t.n_p=t.calc_Index_PMType(t.lambda_p,t.type,t.S_p,"pump"),t.n_s=t.calc_Index_PMType(t.lambda_s,t.type,t.S_s,"signal"),t.optimum_idler(),t.theta_i_e=_.find_external_angle(t,"idler")},get_group_velocity:function(t,n,r,e){var i=1e-11,a=this.calc_Index_PMType(t-i,n,r,e),o=this.calc_Index_PMType(t+i,n,r,e),c=(o-a)/(2*i),u=s.c/(a-t*c);return u},auto_calc_Theta:function(){this.lambda_i=1/(1/this.lambda_p-1/this.lambda_s);var t=this,n=function(n){if(n>Math.PI/2||n<0)return 1e12;t.theta=n,t.theta_s=_.find_internal_angle(t,"signal"),t.update_all_angles(t);var r=_.calc_delK(t);return Math.sqrt(l(r[2]))},r=Math.PI/6,e=(new Date,p(n,r,30));e=p(n,e,30);new Date;t.update_all_angles(t),this.calc_walkoff_angles()},calc_poling_period:function(){var t=this;if(this.lambda_i=1/(1/this.lambda_p-1/this.lambda_s),t.poling_period=Math.pow(2,30),t.update_all_angles(t),t.enable_pp){var n=t.clone(),r=function(t){n.poling_period=t,n.optimum_idler();var r=_.calc_delK(n);return Math.sqrt(l(r[2]))},e=_.calc_delK(n)[2],i=2*Math.PI/e;i<0?(n.poling_sign=-1,i*=-1):n.poling_sign=1;new Date;p(r,i,100);new Date;t.poling_period=n.poling_period,t.poling_sign=n.poling_sign,t.calc_walkoff_angles()}},auto_calc_collection_focus:function(){console.log("Calculating Signal/idler focus position"),this.lambda_i=1/(1/this.lambda_p-1/this.lambda_s);var t=this;t.update_all_angles();var n=.01,r=this.lambda_s-this.lambda_s*n,e=this.lambda_s+this.lambda_s*n,i=this.lambda_i-this.lambda_i*n,a=this.lambda_i+this.lambda_i*n,o=2,c=f.linspace(r,e,o),u=f.linspace(i,a,o);t.nslices=10;var s=function(n){if(n>0||n<-1*t.L)return 1e12;t.z0s=n,t.z0i=n;var r=v.calc_JSI_p(t,c,u,o,1),e=f.Sum(r);return 1/(e+1)},l=-this.L/2,h=(new Date,p(s,l,40));new Date;this.z0s=h,this.z0i=this.z0s},optimum_idler:function(){var t=this,n=t.lambda_s/(t.poling_period*t.poling_sign);t.phi_i=t.phi_s+Math.PI;var r=l(t.n_s)+l(t.n_p*t.lambda_s/t.lambda_p);r+=-2*t.n_s*t.n_p*(t.lambda_s/t.lambda_p)*Math.cos(t.theta_s)-2*t.n_p*t.lambda_s/t.lambda_p*n,r+=2*t.n_s*Math.cos(t.theta_s)*n+l(n),r=Math.sqrt(r);var e=t.n_s*Math.sin(t.theta_s)/r,i=Math.asin(e);t.theta_i=i,t.S_i=t.calc_Coordinate_Transform(t.theta,t.phi,t.theta_i,t.phi_i),t.n_i=t.calc_Index_PMType(t.lambda_i,t.type,t.S_i,"idler")},optimum_signal:function(){var t=this,n=t.lambda_i/(t.poling_period*t.poling_sign),r=l(t.n_i)+l(t.n_p*t.lambda_i/t.lambda_p);r+=-2*t.n_i*t.n_p*(t.lambda_i/t.lambda_p)*Math.cos(t.theta_i)-2*t.n_p*t.lambda_i/t.lambda_p*n,r+=2*t.n_i*Math.cos(t.theta_i)*n+l(n),r=Math.sqrt(r);var e=t.n_i*Math.sin(t.theta_i)/r,i=Math.asin(e);t.theta_s=i,t.S_s=t.calc_Coordinate_Transform(t.theta,t.phi,t.theta_s,t.phi_s),t.n_s=t.calc_Index_PMType(t.lambda_s,t.type,t.S_s,"signal")},brute_force_theta_i:function(){var t=this,n=function(n){if(n>Math.PI/2||n<0)return 1e12;t.theta_i=n,t.S_i=t.calc_Coordinate_Transform(t.theta,t.phi,t.theta_i,t.phi_i),t.n_i=t.calc_Index_PMType(t.lambda_i,t.type,t.S_i,"idler");var r=_.phasematch_Int_Phase(t);return 1-r[0]};t.optimum_idler();var r=t.theta_i;p(n,r,25)},brute_force_theta_s:function(){var t=this,n=function(n){if(n>Math.PI/2||n<0)return 1e12;t.theta_s=n,t.S_s=t.calc_Coordinate_Transform(t.theta,t.phi,t.theta_s,t.phi_s),t.n_s=t.calc_Index_PMType(t.lambda_s,t.type,t.S_s,"signal");var r=_.phasematch_Int_Phase(t);return 1-r[0]};t.optimum_signal();var r=t.theta_s;p(n,r,25)},set_apodization_L:function(){this.apodization_L=f.linspace(-this.L/2,this.L/2,this.apodization+1)},set_apodization_coeff:function(){var t=this.apodization_FWHM/2.3548,n=this.apodization_L.length;this.apodization_coeff=[];for(var r=(Math.abs(this.apodization_L[0]-this.apodization_L[1]),0);r<n;r++)this.apodization_coeff[r]=Math.exp(-l(this.apodization_L[r]/t)/2);f.Sum(this.apodization_coeff)},get_rates_constant:function(){var t=2*Math.PI*s.c*(1/(this.lambda_p-this.p_bw/2)-1/(this.lambda_p+this.p_bw/2))*Math.sqrt(2)/(2*Math.sqrt(Math.log(2))),n=Math.pow(2,1.5)*Math.pow(this.deff,2)*Math.pow(this.L,2)*this.Pav,r=Math.pow(Math.PI,.5)*s.e0*Math.pow(s.c,3)*t,e=n/r;return console.log(e,Math.pow(this.deff,2)*Math.pow(this.L,2),this.Pav),e},set_zint:function(){var t=1e-4*Math.pow(this.L/.0025,.5);t<1e-4&&(t=1e-4),t>5e-4&&(t=5e-4);var n=Math.round(this.L/t);n<4&&(n=4),n%2!==0&&(n+=1),this.numzint=n,this.zweights=f.NintegrateWeights(this.numzint);var r=this.numzint;r+=3-r%3,this.z2Dweights=f.Nintegrate2DWeights_3_8(r),this.numz2Dint=r},calc_walkoff_angles:function(){var t=this,n=this.calc_Index_PMType(t.lambda_p,t.type,t.S_p,"pump"),r=t.theta,e=.1*Math.PI/180,i=t.theta-e/2;this.S_p=this.calc_Coordinate_Transform(i,this.phi,this.theta_s,this.theta_i);var a=this.calc_Index_PMType(t.lambda_p,t.type,t.S_p,"pump");i+=e,this.S_p=this.calc_Coordinate_Transform(i,this.phi,this.theta_s,this.theta_i);var o=this.calc_Index_PMType(t.lambda_p,t.type,t.S_p,"pump");i=r,this.S_p=this.calc_Coordinate_Transform(i,this.phi,this.theta_s,this.theta_i),this.walkoff_p=-1/n*(a-o)/e},swap_signal_idler:function(){var t=this,n=t.lambda_s,r=t.theta_s,e=t.phi_s,i=t.n_s,a=t.S_s,o=t.theta_s_e;t.lambda_s=t.lambda_i,t.theta_s=t.theta_i,t.phi_s=t.phi_i,t.n_s=t.n_i,t.S_s=t.S_i,t.theta_s_e=t.theta_i_e,t.lambda_i=n,t.theta_i=r,t.phi_i=e,t.n_i=i,t.S_i=a,t.theta_i_e=o,"Type 2:   e -> e + o"===t.type?t.type="Type 2:   e -> o + e":"Type 2:   e -> o + e"===t.type&&(t.type="Type 2:   e -> e + o")},set:function(t,n){var r=this;if("object"===("undefined"==typeof t?"undefined":i(t))){var a=!0,o=!1,c=void 0;try{for(var u,s=Object.entries(t)[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var f=e(u.value,2),l=f[0],p=f[1];r.set(l,p)}}catch(_){o=!0,c=_}finally{try{!a&&s["return"]&&s["return"]()}finally{if(o)throw c}}return this}if(t in d){if("type"===t?n=n:"crystal"===t&&"object"!==("undefined"==typeof n?"undefined":i(n))&&(n=h(n)),"poling_period"===t&&(0===n||isNaN(n))&&(n=Math.pow(2,30)),"apodization"===t&&n<31&&(n=31),"z0s"===t&&(this.z0i=n),this[t]=n,"apodization"===t||"apodization_FWHM"===t||"L"===t){if(isNaN(this.apodization)||isNaN(this.apodization_FWHM)||isNaN(this.L))return;this.set_apodization_L(),this.set_apodization_coeff()}"L"===t&&this.set_zint()}return this},get:function(t){if(t)return t in d?o(this[t]):void 0;var n=o(u(this,y));return n.crystal=n.crystal.id,n},clone:function b(){var b=Object.create(m.prototype);return c(b,this,g),b}},a.convertToMicrons=function(t){var n=t,r=1;return n.lambda_p=n.lambda_p*r,n.lambda_s=n.lambda_s*r,n.lambda_i=n.lambda_i*r,n.W=n.W*r,n.p_bw=n.p_bw*r,n.W_sx=n.W_sx*r,n.W_ix=n.W_ix*r,n.L=n.L*r,n},a.convertToMeters=function(t){var n=t,r=1;return n.lambda_p=n.lambda_p*r,n.lambda_s=n.lambda_s*r,n.lambda_i=n.lambda_i*r,n.W=n.W*r,n.p_bw=n.p_bw*r,n.W_sx=n.W_sx*r,n.W_ix=n.W_ix*r,n.L=n.L*r,n},a.SPDCprop=m},function(t,n,r){var e=r(352),i=r(411),a=r(353),o=i(function(t,n,r,i){e(n,a(n),t,i)});t.exports=o},function(t,n,r){function e(t){return i(function(n,r){var e=-1,i=r.length,o=i>1?r[i-1]:void 0,c=i>2?r[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,c&&a(r[0],r[1],c)&&(o=i<3?void 0:o,i=1),n=Object(n);++e<i;){var u=r[e];u&&t(n,u,e,o)}return n})}var i=r(412),a=r(420);t.exports=e},function(t,n,r){function e(t,n){return o(a(t,n,i),t+"")}var i=r(413),a=r(414),o=r(416);t.exports=e},function(t,n){function r(t){return t}t.exports=r},function(t,n,r){function e(t,n,r){return n=a(void 0===n?t.length-1:n,0),function(){for(var e=arguments,o=-1,c=a(e.length-n,0),u=Array(c);++o<c;)u[o]=e[n+o];o=-1;for(var s=Array(n+1);++o<n;)s[o]=e[o];return s[n]=r(u),i(t,this,s)}}var i=r(415),a=Math.max;t.exports=e},function(t,n){function r(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}t.exports=r},function(t,n,r){var e=r(417),i=r(419),a=i(e);t.exports=a},function(t,n,r){var e=r(418),i=r(350),a=r(413),o=i?function(t,n){return i(t,"toString",{configurable:!0,enumerable:!1,value:e(n),writable:!0})}:a;t.exports=o},function(t,n){function r(t){return function(){return t}}t.exports=r},function(t,n){function r(t){var n=0,r=0;return function(){var o=a(),c=i-(o-r);if(r=o,c>0){if(++n>=e)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}var e=500,i=16,a=Date.now;t.exports=r},function(t,n,r){function e(t,n,r){if(!c(r))return!1;var e=typeof n;return!!("number"==e?a(r)&&o(n,r.length):"string"==e&&n in r)&&i(r[n],t)}var i=r(312),a=r(373),o=r(363),c=r(325);t.exports=e},function(t,n,r){var e=r(422),i=r(423),a=r(425),o=r(429),c=a(function(t,n){return null==t?{}:i(t,e(n,o))});t.exports=c},function(t,n){function r(t,n){for(var r=-1,e=t?t.length:0,i=Array(e);++r<e;)i[r]=n(t[r],r,t);return i}t.exports=r},function(t,n,r){function e(t,n){return t=Object(t),i(t,n,function(n,r){return r in t})}var i=r(424);t.exports=e},function(t,n,r){function e(t,n,r){for(var e=-1,a=n.length,o={};++e<a;){var c=n[e],u=t[c];r(u,c)&&i(o,c,u)}return o}var i=r(349);t.exports=e},function(t,n,r){function e(t){return o(a(t,void 0,i),t+"")}var i=r(426),a=r(414),o=r(416);t.exports=e},function(t,n,r){function e(t){var n=t?t.length:0;return n?i(t,1):[]}var i=r(427);t.exports=e},function(t,n,r){function e(t,n,r,o,c){var u=-1,s=t.length;for(r||(r=a),c||(c=[]);++u<s;){var f=t[u];n>0&&r(f)?n>1?e(f,n-1,r,o,c):i(c,f):o||(c[c.length]=f)}return c}var i=r(381),a=r(428);t.exports=e},function(t,n,r){function e(t){return o(t)||a(t)||!!(c&&t&&t[c])}var i=r(402),a=r(356),o=r(359),c=i?i.isConcatSpreadable:void 0;t.exports=e},function(t,n,r){function e(t){if("string"==typeof t||i(t))return t;var n=t+"";return"0"==n&&1/t==-a?"-0":n}var i=r(430),a=1/0;t.exports=e},function(t,n,r){function e(t){return"symbol"==typeof t||i(t)&&c.call(t)==a}var i=r(358),a="[object Symbol]",o=Object.prototype,c=o.toString;t.exports=e},function(t,n,r){"use strict";var e=t.exports={},i=r(303),a=i.sq,o=r(300),c=r(407);r(409);e.calc_JSA=function(t,n,r,e,o,u){t.update_all_angles();var s=t.clone();s.phi_i=s.phi_s+Math.PI,s.update_all_angles(),s.optimum_idler(s);var f,l=(180/Math.PI,i.linspace(n,r,u)),h=i.linspace(o,e,u),p=u*u,_=new Float64Array(p),v=new Float64Array(p),d=c.phasematch(s),y=Math.sqrt(a(d[0])+a(d[1]));for(f=0;f<p;f++){var g=f%u,m=Math.floor(f/u);s.lambda_s=l[g],s.lambda_i=h[m],s.n_s=s.calc_Index_PMType(s.lambda_s,s.type,s.S_s,"signal"),s.n_i=s.calc_Index_PMType(s.lambda_i,s.type,s.S_i,"idler");var b=c.phasematch(s);_[f]=b[0]/y,v[f]=b[1]/y}return[_,v]},e.calc_JSI=function(t,n,r,o,c,u){for(var s=u*u,f=new Float64Array(s),l=e.calc_JSA(t,n,r,o,c,u),h=0;h<s;h++)f[h]=a(l[0][h])+a(l[1][h]);return f=i.normalize(f)},e.calc_JSA_p=function(t,n,r,e,i){t.update_all_angles();var u=t.clone();u.phi_i=u.phi_s+Math.PI,u.update_all_angles(),u.optimum_idler(u);for(var s,f=(180/Math.PI,n.length*r.length),l=new Float64Array(f),h=new Float64Array(f),p=2*Math.PI*o.c,_=0;_<r.length;_++)for(s=0;s<n.length;s++){var v=s,d=_;u.lambda_s=n[v],u.lambda_i=r[d],u.n_s=u.calc_Index_PMType(u.lambda_s,u.type,u.S_s,"signal"),u.n_i=u.calc_Index_PMType(u.lambda_i,u.type,u.S_i,"idler");var y=c.phasematch(u),g=(p/u.lambda_s,p/u.lambda_i,a(u.n_s*u.n_i),1);l[s+n.length*_]=y[0]*g/i,h[s+n.length*_]=y[1]*g/i}return[l,h]},e.calc_JSI_p=function(t,n,r,i,o){for(var c=n.length*r.length,u=new Float64Array(c),s=e.calc_JSA_p(t,n,r,i,o),f=0;f<c;f++)u[f]=a(s[0][f])+a(s[1][f]);return u},e.calc_JSI_rates_p=function(t,n,r,i,c){for(var u=n.length*r.length,s=new Float64Array(u),f=e.calc_JSA_p(t,n,r,i,1),l=((n[n.length-1]-n[0])/n.length,(r[r.length-1]-r[0])/r.length,Math.pow(t.W_sx,2),1/Math.cos(t.theta_s_e)),h=1/Math.cos(t.theta_i_e),p=2*Math.PI*o.c,_=p/t.lambda_s,v=p/t.lambda_i,d=a(t.W_sx)*l*a(t.W_ix)*h*a(t.W),y=Math.abs(n[n.length-1]-n[0])/n.length,g=Math.abs(r[r.length-1]-r[0])/r.length,m=_*v/a(t.n_s*t.n_i),b=t.get_rates_constant(),M=p*y/a(t.lambda_s),x=p*g/a(t.lambda_i),w=0;w<u;w++)s[w]=(a(f[0][w])+a(f[1][w]))*b*d*(M*x)*m;return s},e.calc_JSI_Singles_p=function(t,n,r,e,i){t.update_all_angles();var u=t.clone();u.phi_i=u.phi_s+Math.PI,u.update_all_angles(),u.optimum_idler(u);for(var s,f,l,h=(180/Math.PI,n.length*r.length),p=new Float64Array(h),_=new Float64Array(h),v=new Float64Array(h),d=new Float64Array(h),y=new Float64Array(h),g=new Float64Array(h),m=Math.pow(u.W_sx,2),b=Math.pow(u.W_ix,2),M=1/Math.cos(u.theta_s_e),x=1/Math.cos(u.theta_i_e),w=2*Math.PI*o.c,S=w/u.lambda_s,I=w/u.lambda_i,P=Math.pow(u.W,2),A=1/(m*M*P),O=1/(b*x*P),j=Math.abs(n[n.length-1]-n[0])/n.length,T=Math.abs(r[r.length-1]-r[0])/r.length,R=w*j,F=w*T,E=S*I/a(t.n_s*t.n_i),L=t.get_rates_constant(),N=0;N<r.length;N++)for(s=0;s<n.length;s++){var W=s,k=N;u.lambda_s=n[W],u.lambda_i=r[k],f=R/a(n[W]),l=F/a(r[k]),u.n_s=u.calc_Index_PMType(u.lambda_s,u.type,u.S_s,"signal"),u.n_i=u.calc_Index_PMType(u.lambda_i,u.type,u.S_i,"idler");var z=c.phasematch_singles(u);p[s+n.length*N]=z[0]/i,_[s+n.length*N]=z[1]/i,v[s+n.length*N]=Math.sqrt(a(p[s+n.length*N])+a(_[s+n.length*N]))*L*(f*l)*E/A,u.swap_signal_idler();var C=c.phasematch_singles(u);u.swap_signal_idler(),d[s+n.length*N]=C[0]/i,y[s+n.length*N]=C[1]/i,g[s+n.length*N]=Math.sqrt(a(d[s+n.length*N])+a(y[s+n.length*N]))*L*(f*l)*E/O}return[v,g]},e.calc_PM_Curves=function(t,n,r,e,a,o,u){t.update_all_angles();var s=t.clone();s.brute_force&&(u=s.brute_dim);var f,l=i.linspace(e,a,u),h=i.linspace(r,n,u),p=u*u,_=new Float64Array(p);
if("signal"===o)for(f=0;f<p;f++){var v=f%u,d=Math.floor(f/u);s.lambda_s=h[d],s.lambda_p=l[v],s.lambda_i=1/(1/s.lambda_p-1/s.lambda_s),s.n_p=s.calc_Index_PMType(s.lambda_p,s.type,s.S_p,"pump"),s.n_s=s.calc_Index_PMType(s.lambda_s,s.type,s.S_s,"signal"),s.n_i=s.calc_Index_PMType(s.lambda_i,s.type,s.S_i,"idler"),_[f]=c.phasematch_Int_Phase(s).phasematch}return _},e.calc_PM_Crystal_Tilt=function(t,n,r,e,a,o){t.update_all_angles();var c,u=t.clone(),s=i.linspace(r,n,o),f=i.linspace(e,a,o),l=o*o,h=new Float64Array(l);for(c=0;c<l;c++){var p=c%o,_=Math.floor(c/o);u.lambda_s=s[_],u.theta=f[p],u.lambda_i=1/(1/u.lambda_p-1/u.lambda_s),u.update_all_angles(),h[c]="phasematch"}return h},e.calc_PM_Pump_Theta_Phi=function(t,n,r,e,a,o){t.update_all_angles();var u,s=t.clone(),f=i.linspace(n,r,o),l=i.linspace(a,e,o),h=o*o,p=new Float64Array(h);for(u=0;u<h;u++){var _=u%o,v=Math.floor(u/o);s.theta=f[_],s.phi=l[v],s.update_all_angles(),p[u]=c.phasematch_Int_Phase(s).phasematch}return p},e.calc_PM_Pump_Theta_Poling=function(t,n,r,e,a,o){t.update_all_angles();var u,s=t.clone(),f=i.linspace(n,r,o),l=i.linspace(a,e,o),h=o*o,p=new Float64Array(h);for(u=0;u<h;u++){var _=u%o,v=Math.floor(u/o);s.poling_period=f[_],s.theta=l[v],s.update_all_angles(),p[u]=c.phasematch_Int_Phase(s).phasematch}return p},e.calc_XY=function(t,n,r,e,o,u){t.update_all_angles();var s=t.clone();if(s.lambda_i=1/(1/s.lambda_p-1/s.lambda_s),s.phi_i=s.phi_s+Math.PI,s.brute_force=!0,s.brute_force){var f=Math.PI*s.W*s.W/s.lambda_p;10*f<s.L&&(s.L=10*f)}var l=c.autorange_theta(s),h=l[0],p=l[1];180*s.theta_s/Math.PI<4&&(h=0),p<r&&(p=r),p<s.theta_i&&(p=s.theta_i);var _=20,v=Math.round(180*(p-h)/Math.PI*_);s.theta_s_e=r;var d=c.find_internal_angle(s,"signal"),y=(i.NintegrateWeights(v),p-h),g=y/v;h=0,p=d;for(var m,b=i.linspace(n,r,u),M=i.linspace(o,e,u),x=b,w=M,S=0;S<u;S++)b[S]<0?(s.theta_s_e=-1*b[S],x[S]=-1*c.find_internal_angle(s,"signal"),w[u-S-1]=x[S]):(s.theta_s_e=b[S],x[S]=c.find_internal_angle(s,"signal"),w[u-S-1]=x[S]);var I=u*u,P=new Float64Array(I),A=new Float64Array(v),O=(new Date,function(t){s.theta_i=t,s.S_i=s.calc_Coordinate_Transform(s.theta,s.phi,s.theta_i,s.phi_i),s.n_i=s.calc_Index_PMType(s.lambda_i,s.type,s.S_i,"idler");var n=c.phasematch_Int_Phase(s).phasematch;return n});for(m=0;m<I;m++){var j=m%u,T=Math.floor(m/u);if(s.theta_s=Math.asin(Math.sqrt(a(x[j])+a(w[T]))),s.phi_s=Math.atan2(w[T],x[j]),s.phi_i=s.phi_s+Math.PI,s.S_s=s.calc_Coordinate_Transform(s.theta,s.phi,s.theta_s,s.phi_s),s.n_s=s.calc_Index_PMType(s.lambda_s,s.type,s.S_s,"signal"),s.brute_force){for(var R=0;R<v;R++)A[R]=O(h+g*R);P[m]=i.max(A)}else s.optimum_idler(s),P[m]=c.phasematch_Int_Phase(s).phasematch}s.brute_force=!1;new Date;return P},e.calc_XY_both=function(t,n,r,e,o,u){t.update_all_angles();var s=t.clone();s.lambda_i=1/(1/s.lambda_p-1/s.lambda_s),s.phi_i=s.phi_s+Math.PI,s.brute_force&&(u=s.brute_dim);for(var f,l=i.linspace(n,r,u),h=i.linspace(o,e,u),p=l,_=h,v=0;v<u;v++)l[v]<0?(s.theta_s_e=-1*l[v],p[v]=-1*c.find_internal_angle(s,"signal"),_[u-v-1]=p[v]):(s.theta_s_e=l[v],p[v]=c.find_internal_angle(s,"signal"),_[u-v-1]=p[v]);var d,y,g=u*u,m=new Float64Array(g);for(f=0;f<g;f++)d=f%u,y=Math.floor(f/u),s.theta_s=Math.asin(Math.sqrt(a(p[d])+a(_[y]))),s.phi_s=Math.atan2(_[y],p[d]),s.phi_i=s.phi_s+Math.PI,s.S_s=s.calc_Coordinate_Transform(s.theta,s.phi,s.theta_s,s.phi_s),s.n_s=s.calc_Index_PMType(s.lambda_s,s.type,s.S_s,"signal"),s.brute_force?s.brute_force_theta_i(s):s.optimum_idler(s),m[f]=c.phasematch_Int_Phase(s).phasematch;if("Type 0:   o -> o + o"===s.type||"Type 1:   e -> o + o"===s.type||"Type 0:   e -> e + e"===s.type){var b=s.lambda_s;s.lambda_s=s.lambda_i,s.lambda_i=b}for("Type 2:   e -> e + o"===s.type?s.type="Type 2:   e -> o + e":"Type 2:   e -> o + e"===s.type&&(s.type="Type 2:   e -> e + o"),f=0;f<g;f++)d=f%u,y=Math.floor(f/u),s.theta_s=Math.asin(Math.sqrt(a(p[d])+a(_[y]))),s.phi_s=Math.atan2(_[y],p[d]),s.phi_i=s.phi_s+Math.PI,s.S_s=s.calc_Coordinate_Transform(s.theta,s.phi,s.theta_s,s.phi_s),s.n_s=s.calc_Index_PMType(s.lambda_s,s.type,s.S_s,"signal"),s.brute_force?s.brute_force_theta_i(s):s.optimum_idler(s),m[f]+=c.phasematch_Int_Phase(s).phasematch;return m},e.calc_lambda_s_vs_theta_s=function(t,n,r,e,a,o){t.update_all_angles();var u=t.clone();u.phi_i=u.phi_s+Math.PI,u.brute_force&&(o=u.brute_dim);for(var s=i.linspace(a,e,o),f=s,l=0;l<o;l++)u.theta_s_e=s[l],f[l]=c.find_internal_angle(u,"signal");var h,p=i.linspace(n,r,o),_=o*o,v=new Float64Array(_);180/Math.PI,new Date;for(h=0;h<_;h++){var d=h%o,y=Math.floor(h/o);u.lambda_s=p[d],u.theta_s=f[y],u.lambda_i=1/(1/u.lambda_p-1/u.lambda_s),u.S_s=u.calc_Coordinate_Transform(u.theta,u.phi,u.theta_s,u.phi_s),u.n_s=u.calc_Index_PMType(u.lambda_s,u.type,u.S_s,"signal"),u.brute_force?u.brute_force_theta_i(u):u.optimum_idler(u),v[h]=c.phasematch_Int_Phase(u).phasematch}new Date;return{data:v}},e.calc_theta_phi=function(t,n,r,e,a,o){t.update_all_angles();var u=t.clone();u.phi_i=u.phi_s+Math.PI;var s,f=i.linspace(n,r,o),l=i.linspace(e,a,o),h=o*o,p=new Float64Array(h);for(s=0;s<h;s++){var _=s%o,v=Math.floor(s/o);u.theta=f[_],u.phi=l[v],u.S_p=u.calc_Coordinate_Transform(u.theta,u.phi,0,0),u.n_p=u.calc_Index_PMType(u.lambda_p,u.type,u.S_p,"pump"),u.S_s=u.calc_Coordinate_Transform(u.theta,u.phi,u.theta_s,u.phi_s),u.n_s=u.calc_Index_PMType(u.lambda_s,u.type,u.S_s,"signal"),u.optimum_idler(u),p[s]=c.phasematch_Int_Phase(u).phasematch}return p},e.calc_signal_theta_phi=function(t,n,r,e,a,o){t.update_all_angles();var u=t.clone();u.brute_force&&(o=u.brute_dim);for(var s=i.linspace(n,r,o),f=s,l=0;l<o;l++)u.theta_s_e=s[l],f[l]=c.find_internal_angle(u,"signal");var h,p=i.linspace(e,a,o),_=o*o,v=new Float64Array(_);new Date;for(h=0;h<_;h++){var d=h%o,y=Math.floor(h/o);u.theta_s=f[d],u.phi_s=p[y],u.phi_i=u.phi_s+Math.PI,u.S_s=u.calc_Coordinate_Transform(u.theta,u.phi,u.theta_s,u.phi_s),u.n_s=u.calc_Index_PMType(u.lambda_s,u.type,u.S_s,"signal"),u.brute_force?u.brute_force_theta_i(u):u.optimum_idler(u),v[h]=c.phasematch_Int_Phase(u).phasematch}new Date;return v},e.calc_signal_theta_vs_idler_theta=function(t,n,r,e,a,o){t.update_all_angles();for(var u,s=t.clone(),f=i.linspace(n,r,o),l=i.linspace(a,e,o),h=f,p=l,_=0;_<o;_++)s.theta_s_e=f[_],h[_]=c.find_internal_angle(s,"signal"),s.theta_i_e=l[_],p[_]=c.find_internal_angle(s,"idler");var v=o*o,d=new Float64Array(v);new Date;for(u=0;u<v;u++){var y=u%o,g=Math.floor(u/o);s.theta_s=h[y],s.theta_i=p[g],s.phi_i=s.phi_s+Math.PI,s.S_s=s.calc_Coordinate_Transform(s.theta,s.phi,s.theta_s,s.phi_s),s.S_i=s.calc_Coordinate_Transform(s.theta,s.phi,s.theta_i,s.phi_i),s.n_s=s.calc_Index_PMType(s.lambda_s,s.type,s.S_s,"signal"),s.n_i=s.calc_Index_PMType(s.lambda_i,s.type,s.S_i,"idler"),d[u]=c.phasematch_Int_Phase(s).phasematch}new Date;return d},e.calc_signal_phi_vs_idler_phi=function(t,n,r,e,a,o){t.update_all_angles();var u,s=t.clone(),f=i.linspace(n,r,o),l=i.linspace(a,e,o),h=o*o,p=new Float64Array(h);for(u=0;u<h;u++){var _=u%o,v=Math.floor(u/o);s.phi_s=f[_],s.phi_i=l[v],s.S_s=s.calc_Coordinate_Transform(s.theta,s.phi,s.theta_s,s.phi_s),s.S_i=s.calc_Coordinate_Transform(s.theta,s.phi,s.theta_i,s.phi_i),s.n_s=s.calc_Index_PMType(s.lambda_s,s.type,s.S_s,"signal"),s.n_i=s.calc_Index_PMType(s.lambda_i,s.type,s.S_i,"idler"),p[u]=c.phasematch_Int_Phase(s).phasematch}return p},e.calc_schmidt_plot=function(t,n,r,a,o,u,s,f,l,h,p){t.update_all_angles();var _,v=t.clone(),d=i.linspace(n,r,h),y=i.linspace(o,a,h),g=h*h,m=new Float64Array(g),b=50,M=10,x=0,w=0;for(_=0;_<g;_++){var S=_%h,I=Math.floor(_/h);switch(p.x){case"L":v.L=d[S];break;case"W":v.W=d[S];break;case"BW":v.p_bw=d[S];break;default:throw"Error: x input type"}switch(p.y){case"L":v.L=y[I];break;case"W":v.W=y[I];break;case"BW":v.p_bw=y[I];break;default:throw"Error: y input type"}var P=e.calc_JSI(v,u,s,f,l,b),A=i.create_2d_array(P,b,b);m[_]=c.calc_Schmidt(A),m[_]<M&&(M=m[_],x=d[S],w=y[I])}return m},e.calc_schmidt_plot_p=function(t,n,r,a,o,u,s,f,l){t.update_all_angles();var h,p=t.clone(),_=n.length*r.length,v=new Float64Array(_),d=50,y=10,g=0,m=0;for(h=0;h<_;h++){var b=h%n.length,M=Math.floor(h/n.length);switch(l.x){case"L":p.L=n[b];break;case"W":p.W=n[b];break;case"BW":p.p_bw=n[b];break;default:throw"Error: x input type"}switch(l.y){case"L":p.L=r[M];break;case"W":p.W=r[M];break;case"BW":p.p_bw=r[M];break;default:throw"Error: y input type"}var x=e.calc_JSI(p,a,o,u,s,d),w=i.create_2d_array(x,d,d);v[h]=c.calc_Schmidt(w),v[h]<y&&(y=v[h],g=n[b],m=r[M])}return v},e.calc_heralding_plot_p=function(t,n,r,a,o,c,u,s){function f(){var t=e.calc_JSI_Singles_p(p,M,x,b,1);return[i.Sum(t[0]),i.Sum(t[1])]}function l(){var t=e.calc_JSI_rates_p(p,M,x,b,1);return i.Sum(t)}t.update_all_angles();var h,p=t.clone(),_=n.length*r.length,v=new Float64Array(_),d=new Float64Array(_),y=new Float64Array(_),g=new Float64Array(_),m=new Float64Array(_),b=15,M=(Math.pow(p.W_sx,2),1/Math.cos(p.theta_s_e),i.Nintegrate2DWeights_3_8(s),i.linspace(a,o,b)),x=i.linspace(u,c,b);s=15,p.phi_i=p.phi_s+Math.PI,p.update_all_angles(),p.optimum_idler(p);var w=p.clone();w.swap_signal_idler();1/Math.cos(w.theta_s_e);for(h=0;h<_;h++){var S=h%n.length,I=Math.floor(h/n.length);p.W_sx=r[I],p.W_sy=p.W_sx,p.W_ix=r[I],p.W_iy=p.W_ix,p.W=n[S],w.W_sx=r[I],w.W_sy=w.W_sx,w.W_ix=r[I],w.W_iy=w.W_ix;var P=f(),A=l(),O=P[0],j=P[1];y[h]=O,g[h]=j,m[h]=A,d[h]=A/O,v[h]=A/j}return[d,v,y,g,m]},e.calc_heralding_plot_focus_position_p=function(t,n,r,a,o,c,u){function s(){var t=e.calc_JSI_Singles_p(p,M,x,b,1);return[i.Sum(t[0]),i.Sum(t[1])]}function f(){var t=e.calc_JSI_p(p,M,x,b,1);return i.Sum(t)}t.update_all_angles();var l,h=[t.W],p=t.clone(),_=h.length*n.length,v=new Float64Array(_),d=new Float64Array(_),y=new Float64Array(_),g=new Float64Array(_),m=new Float64Array(_),b=15,M=(Math.pow(p.W_sx,2),1/Math.cos(p.theta_s_e),i.Nintegrate2DWeights_3_8(u),i.linspace(r,a,b)),x=i.linspace(c,o,b);u=16,p.phi_i=p.phi_s+Math.PI,p.update_all_angles(),p.optimum_idler(p);var w=p.clone();w.swap_signal_idler();1/Math.cos(w.theta_s_e);for(l=0;l<_;l++){p.z0s=n[l],p.z0i=n[l],w.z0s=n[l],w.z0i=n[l];var S=s(),I=f(),P=S[0],A=S[1];y[l]=P,g[l]=A,m[l]=I,d[l]=I/P,v[l]=I/A}return[d,v,y,g,m]}}]);
//# sourceMappingURL=98e323a3a9ee673c9e25.worker.js.map